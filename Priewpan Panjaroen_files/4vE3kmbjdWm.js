/*!CK:242808108!*//*1412650141,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["yBPrd"]); }

__d("BroadcastRequestParam",[],function(a,b,c,d,e,f){e.exports={ANSWER_IDS:"answer_ids",BROADCAST_REQUEST_ID:"broadcast_request_id",CHECKED_IDS:"checked_ids",COMMENT_TOKEN:"comment_token",COMPOSER_TOKEN_IDS:"composer_token_ids",DESCRIPTION_DOM_ID:"description_dom_id",DOM_ID:"dom_id",ENTITY_TITLE:"entity_title",ENTITY_TOKEN:"entity_token",ERROR_CODE:"error_code",HAS_VIEWER_VOTED:"has_viewer_voted",QUERIED_RECIPIENTS:"queried_recipients",QUERY:"q",RECIPIENT_IDS:"recipient_ids",SEND_REQUEST:"send_request",SOURCE:"source",SOURCE_OBJ_ID:"source_obj_id",SUGGESTION_CARD_ID:"suggestion_card_id",SUGGESTION_ID:"suggestion_id",SUGGESTION_IDS:"add_suggestions_ids",SUGGESTION_ROW_ID:"suggestion_row_id",TARGET_ID:"target_id",VOTE_ACTION:"vote_action",EXISTING_IDS:"existing_ids",VALUE:"value",BROADCAST_REQUEST_TYPE:"broadcast_request_type",COMPOSER_TEXT:"composer_text"};},null);
__d("ComposedBlockType",[],function(a,b,c,d,e,f){e.exports={UNSTYLED:0,PARAGRAPH:1,UNORDERED_LIST_ITEM:2,ORDERED_LIST_ITEM:3,BLOCKQUOTE:4,HEADER_ONE:5,HEADER_TWO:6,CODE:7,MEDIA:8};},null);
__d("ComposedEntityMutability",[],function(a,b,c,d,e,f){e.exports={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2};},null);
__d("ComposedEntityType",[],function(a,b,c,d,e,f){e.exports={MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4};},null);
__d("ComposedInlineStyle",[],function(a,b,c,d,e,f){e.exports={NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8};},null);
__d("UFITranslationConstants",[],function(a,b,c,d,e,f){e.exports={BING_PAGE_URL:"http:\/\/bing.com\/translator",BING_TRANSLATOR_APP:"bing",FB_TRANSLATOR_APP:"fb"};},null);
__d("ContextualBlind",["Event","Animation","Arbiter","DOM","Rect","Vector","$","shield"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=null,p=[],q=null,r=null,s=false,t=.8,u=500;function v(y,z){z.getPositionVector().setElementPosition(y);z.getDimensionVector().setElementDimensions(y);}function w(){o&&i.unsubscribe(o);o=null;p=[];q&&q.remove();q=null;r&&j.remove(r);s=false;}var x={STYLE_LIGHT:0,STYLE_DARK:1,show:function(y,z,aa,ba,ca){x.hide();ba=ba||t;ca=ca||x.STYLE_LIGHT;var da=(ca==x.STYLE_LIGHT)?'contextualBlind':'contextualBlind contextualBlindDark';for(var ea=0;ea<4;ea++)p.push(j.create('div',{className:da,style:'opacity:'+ba}));j.appendContent(document.body,p);if(aa!==false){da=(ca==x.STYLE_LIGHT)?'contextualBlindContext':'contextualBlindContext contextualBlindContextDark';r=j.create('div',{className:da});j.appendContent(document.body,r);}var fa=n(x.updatePosition,x,y,z);fa();o=i.subscribe('reflow',fa);q=g.listen(window,'resize',fa);s=true;},fadeIn:function(y,z,aa,ba,ca){var da=s;x.show(y,z,aa);if(da)return;t=ba!==undefined?ba:t;u=ca!==undefined?ca:u;for(var ea=0;ea<p.length;ea++){var fa=p[ea];new h(fa).duration(u).from('opacity',0).to('opacity',t).go();}},hide:function(){p.forEach(j.remove);w();},fadeOut:function(){for(var y=0;y<p.length;y++){var z=p[y];new h(z).duration(u).from('opacity',t).to('opacity',0).ondone(j.remove.bind(null,z)).go();}w();},updatePosition:function(y,z){var aa=l.getDocumentDimensions().y,ba=k.getElementBounds(m(y));if(z)ba=new k(ba.t-z,ba.r+z,ba.b+z,ba.l-z,ba.domain);var ca=document,da=(ca&&ca.documentElement&&ca.documentElement.scrollWidth)||(ca&&ca.body&&ca.body.scrollWidth)||0;v(p[0],new k(0,da,ba.t,0,'document'));v(p[1],new k(ba.t,da,ba.b,ba.r,'document'));v(p[2],new k(ba.b,da,aa,0,'document'));v(p[3],new k(ba.t,ba.l,ba.b,0,'document'));if(r)v(r,ba);}};e.exports=a.ContextualBlind||x;},null);
__d("ActorSelector.react",["ContextualLayerBlind","CurrentUser","DOMScroll","Event","Image.react","LayerFadeOnHide","LayerFadeOnShow","PageTransitions","React","ReactLayeredComponentMixin","ShortProfiles","Tooltip","XUIContextualDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUISelector.react","XUISpinner.react","cx","ix","fbt","tidyEvent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){var ca=w.Option,da=32,ea=200,fa=195,ga=500,ha=175,ia=16,ja=o.createClass({displayName:'ActorSelector',mixins:[p],propTypes:{actorIDs:o.PropTypes.array.isRequired,covered:o.PropTypes.bool,loading:o.PropTypes.bool,nuxBody:o.PropTypes.renderable,nuxEnabledCovered:o.PropTypes.bool,nuxEnabledUncovered:o.PropTypes.bool,nuxHoverContext:o.PropTypes.object,onChange:o.PropTypes.func.isRequired,onCompleteNux:o.PropTypes.func,selectedActorID:o.PropTypes.string,settingsURI:o.PropTypes.string,showName:o.PropTypes.bool,suppressed:o.PropTypes.bool,tooltipConstructor:o.PropTypes.func,tooltipConstructorCovered:o.PropTypes.func},getDefaultProps:function(){return {suppressed:true};},getInitialState:function(){return {actorData:{},clicked:false,nuxShown:false};},componentWillMount:function(){this._fetchActorData();},render:function(){if(!this.props.selectedActorID||!this.state.actorData[this.props.selectedActorID])return o.createElement(o.DOM.div,null);var ka=this._isCovered(),la=this.props.actorIDs.map(function(ma){var na=this.state.actorData[ma];if(!na)return;var oa=o.createElement(k,{className:"_6vg",height:ia,src:ka&&h.getID()===ma?z('images/pages/voice/flag.png'):na.thumbSrc,width:ia});return (o.createElement(ca,{icon:oa,value:ma},na.name));}.bind(this));if(la.length<1||(la.length===1&&this.state.actorData[h.getID()]))return o.createElement(o.DOM.div,null);return (o.createElement(o.DOM.span,{className:"_6vh"},o.createElement(x,{className:((!this.props.loading?"hidden_elem":'')+(!this.props.suppressed?' '+"_3-8_":''))}),o.createElement(w,{haschevron:!ka,className:"_6vi",disabled:this.props.loading,maxheight:fa,maxwidth:ka?ia:this.props.showName?ea:da,onChange:this.props.onChange,onClick:this._onClickSelector,ref:"selector",suppressed:this.props.suppressed,value:this.props.selectedActorID},la)));},renderLayers:function(){if(!this.refs.selector)return null;var ka=null;if(this.props.settingsURI)ka=o.createElement(o.DOM.a,{onClick:this._onClickSettings,style:{verticalAlign:'middle'}},"\u0e01\u0e32\u0e23\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e04\u0e38\u0e13\u0e25\u0e31\u0e01\u0e29\u0e13\u0e30\u0e02\u0e2d\u0e07\u0e42\u0e1e\u0e2a\u0e15\u0e4c");if(this.state.nuxShown)i.ensureVisible(this.refs.selector.getDOMNode(),null,ha);return {nux:o.createElement(s,{alignment:"right",behaviors:{ContextualLayerBlind:g,LayerFadeOnHide:l,LayerFadeOnShow:m},hasActionableContext:true,contextRef:"selector",position:"below",shown:this.state.nuxShown,width:s.WIDTH.NORMAL},o.createElement(t,null,this.props.nuxBody),o.createElement(u,{leftContent:ka},o.createElement(v,{action:"button",use:"confirm",onClick:this._onCompleteNux})))};},componentDidMount:function(){this._setTooltip();if(this._canShowNux())if(this.props.nuxHoverContext){var ka=ba(j.listen(this.props.nuxHoverContext,'mouseenter',function(){var la=setTimeout(function(){ka.remove();if(this._canShowNux())this.setState({nuxShown:true});}.bind(this),ga),ma=ba(j.listen(this.props.nuxHoverContext,'mouseleave',function(){clearTimeout(la);ma.remove();}));}.bind(this)));}else this.setState({nuxShown:true});},componentDidUpdate:function(ka){if(this.props.actorIDs.toString()!==ka.actorIDs.toString())this._fetchActorData();this._setTooltip();},_canShowNux:function(){return (this.props.nuxEnabledCovered&&this._isCovered())||(this.props.nuxEnabledUncovered&&!this._isCovered());},_fetchActorData:function(){q.getMulti(this.props.actorIDs,function(ka){this.setState({actorData:ka});}.bind(this));},_isCovered:function(){return (this.props.coverEnabled&&!this.state.clicked&&h.getID()===this.props.selectedActorID);},_onClickSelector:function(){this.setState({clicked:true});if(this.state.nuxShown)this._onCompleteNux();},_onClickSettings:function(){this._onCompleteNux();n.go(this.props.settingsURI);},_onCompleteNux:function(){this.setState({nuxShown:false});if(this.props.onCompleteNux)this.props.onCompleteNux({isCovered:this._isCovered()});},_setTooltip:function(){if(!this.refs.selector)return;var ka=this.state.actorData[this.props.selectedActorID];if(!ka)return;var la=this._isCovered()&&this.props.tooltipConstructorCovered?this.props.tooltipConstructorCovered:this.props.tooltipConstructor;if(!la)return;r.set(this.refs.selector.getDOMNode(),la(ka.name),'above','right');}});e.exports=ja;},null);
__d("ClickPointIdentifiersDEPRECATED",[],function(a,b,c,d,e,f){var g={types:{TIMELINE_SEE_LIKERS:'timeline:seelikes'},getUserActionID:function(h){return '{"ua_id":"'+h+'"}';}};e.exports=g;},null);
__d("UFIBlingItem.react",["React","NumberFormat","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.createClass({displayName:'UFIBlingItem',propTypes:{contextArgs:g.PropTypes.object.isRequired,count:g.PropTypes.number.isRequired,allowText:g.PropTypes.bool,className:g.PropTypes.string,iconClassName:g.PropTypes.string,itemKey:g.PropTypes.string},render:function(){var m=k(this.props.className,this.props.iconClassName,"UFIBlingBoxSprite"),n=h.formatIntegerWithDelimiter(this.props.count,this.props.contextArgs.numberdelimiter||','),o='';if(this.props.allowText)switch(this.props.itemKey){case 'reshare':if(this.props.contextArgs.reshareedu)o=this.props.count===1?' Share':' Shares';break;}return (g.createElement(g.DOM.span,null,g.createElement(g.DOM.i,{className:m}),g.createElement(g.DOM.span,{className:"UFIBlingBoxText"},j._({"":"{count}"," Share":"\u0e41\u0e0a\u0e23\u0e4c {count} \u0e04\u0e23\u0e31\u0e49\u0e07"," Shares":"\u0e41\u0e0a\u0e23\u0e4c {count} \u0e04\u0e23\u0e31\u0e49\u0e07"},[j.param("count",n),j['enum'](o,{"":""," Share":" Share"," Shares":" Shares"})]))));}});e.exports=l;},null);
__d("UFIBlingBox.react",["React","UFIBlingItem.react","UFIConstants","cx","fbt","tx","FeedNFBConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=b('FeedNFBConstants').data,n=g.createClass({displayName:'UFIBlingBox',propTypes:{contextArgs:g.PropTypes.object.isRequired,'data-ft':g.PropTypes.string,comments:g.PropTypes.number,likes:g.PropTypes.number,nfb:g.PropTypes.number,onClick:g.PropTypes.func,permalink:g.PropTypes.string,reshares:g.PropTypes.number},render:function(){var o=[],p='';if(this.props.likes){o.push(g.createElement(h,{className:((o.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.likes,iconClassName:"UFIBlingBoxLikeIcon",itemKey:"like",key:"like"}));p+=(this.props.likes==1)?"1 like":l._("{count} likes",{count:this.props.likes});p+=' ';}if(this.props.comments){o.push(g.createElement(h,{className:((o.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.comments,iconClassName:"UFIBlingBoxCommentIcon",itemKey:"comment",key:"comment"}));p+=(this.props.comments==1)?"1 comment":l._("{count} comments",{count:this.props.comments});p+=' ';}if(this.props.reshares){o.push(g.createElement(h,{className:((o.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.reshares,iconClassName:"UFIBlingBoxReshareIcon",itemKey:"reshare",key:"reshare"}));p+=(this.props.reshares==1)?"1 \u0e41\u0e0a\u0e23\u0e4c":l._("{count} \u0e41\u0e0a\u0e23\u0e4c",{count:this.props.reshares});}if(this.props.nfb&&m){o.push(g.createElement(h,{className:((o.length>0?"mls":'')),contextArgs:this.props.contextArgs,count:this.props.nfb,iconClassName:"_1ufb",itemKey:"nfb",key:"nfb"}));p+=(this.props.nfb==1)?k._("{nfb text}",[k.param("nfb text",m.ONE_NFB)]):k._("{nfb count}{nfb text}",[k.param("nfb count",this.props.nfb),k.param("nfb text",m.MULT_NFB)]);p+=' ';}var q=g.createElement(g.DOM.a,{className:"UFIBlingBox uiBlingBox feedbackBling",href:this.props.permalink,'data-ft':this.props['data-ft'],'aria-label':p},o);if(this.props.comments>i.defaultPageSize)return q;q.props.onClick=this.props.onClick;q.props.rel='ignore';return q;}});e.exports=n;},null);
__d("UFILikeLink.react",["AccessibilityLogger","React","TrackingNodes","tx"],function(a,b,c,d,e,f,g,h,i,j){var k=h.createClass({displayName:'UFILikeLink',propTypes:{likeAction:h.PropTypes.bool,onClick:h.PropTypes.func},_handleClick:function(event){g.logLikeEnterPress();if(this.props.onClick)this.props.onClick(event);},render:function(){var l=this.props.likeAction?"\u0e16\u0e39\u0e01\u0e43\u0e08":"\u0e40\u0e25\u0e34\u0e01\u0e16\u0e39\u0e01\u0e43\u0e08",m=i.getTrackingInfo(this.props.likeAction?i.types.LIKE_LINK:i.types.UNLIKE_LINK),n=this.props.likeAction?"\u0e16\u0e39\u0e01\u0e43\u0e08\u0e2a\u0e34\u0e48\u0e07\u0e19\u0e35\u0e49":"\u0e40\u0e25\u0e34\u0e01\u0e16\u0e39\u0e01\u0e43\u0e08\u0e2a\u0e34\u0e48\u0e07\u0e19\u0e35\u0e49";return (h.createElement(h.DOM.span,null,h.createElement(h.DOM.a,{className:"UFILikeLink accessible_elem",href:"#",role:"button",'aria-live':"polite",title:n,onClick:this._handleClick},l),h.createElement(h.DOM.a,{className:"UFILikeLink",href:"#",role:"button",'aria-live':"polite",title:n,onClick:this.props.onClick,'data-ft':m},l)));}});e.exports=k;},null);
__d("UFIShareLink.react",["React","TrackingNodes","fbt"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:'UFIShareLink',propTypes:{href:g.PropTypes.oneOfType([g.PropTypes.object,g.PropTypes.string]).isRequired},render:function(){var k="\u0e2a\u0e48\u0e07\u0e2a\u0e34\u0e48\u0e07\u0e19\u0e35\u0e49\u0e43\u0e2b\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e19\u0e2b\u0e23\u0e37\u0e2d\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e25\u0e07\u0e43\u0e19\u0e44\u0e17\u0e21\u0e4c\u0e44\u0e25\u0e19\u0e4c\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13",l='{ "tn": "'+h.encodeTN(h.types.SHARE_LINK)+'", "type": 25 }';return (g.createElement(g.DOM.a,{className:"share_action_link",'data-ft':l,href:this.props.href,rel:"dialog",title:k},"\u0e41\u0e0a\u0e23\u0e4c"));}});e.exports=j;},null);
__d("UFISubscribeLink.react",["React","fbt"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:'UFISubscribeLink',propTypes:{subscribeAction:g.PropTypes.bool,onClick:g.PropTypes.func},render:function(){var j=this.props.subscribeAction?"\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19":"\u0e2b\u0e22\u0e38\u0e14\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19",k=this.props.subscribeAction?"\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19\u0e17\u0e38\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07\u0e17\u0e35\u0e48\u0e21\u0e35\u0e04\u0e19\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19":"\u0e2b\u0e22\u0e38\u0e14\u0e23\u0e31\u0e1a\u0e01\u0e32\u0e23\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e21\u0e35\u0e04\u0e19\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19";return (g.createElement(g.DOM.a,{className:"UFISubscribeLink",href:"#",role:"button",'aria-live':"polite",title:k,onClick:this.props.onClick},j));}});e.exports=i;},null);
__d("ProfileBrowserLink",["URI"],function(a,b,c,d,e,f,g){var h='/ajax/browser/dialog/',i='/browse/',j=function(l,m,n){return new g(l+m).setQueryData(n);},k={constructPageURI:function(l,m){return j(i,l,m);},constructDialogURI:function(l,m){return j(h,l,m);}};e.exports=k;},null);
__d("ProfileBrowserTypes",[],function(a,b,c,d,e,f){var g={LIKES:'likes',GROUP_MESSAGE_VIEWERS:'group_message_viewers',MUTUAL_FRIENDS:'mutual_friends',TODO_LIST_ASSIGNEES:'todo_list_assignees'};e.exports=g;},null);
__d("UFICommentList",["ClientIDs","KeyedCallbackManager","UFICentralUpdates","UFIConstants","UFIFeedbackTargets","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=l({actorID:true});function n(o){this.count=0;this.deletedComments={};this.deletedCount=0;this.dataSource=new h();this.feedbackTargetID=o;this.lastRequestedOffset=0;this.lastRequestedLength=0;this.basePermalink="";this.commentPermalinks={};this.orderReversed=false;k.getFeedbackTarget(this.feedbackTargetID,function(p){this.actorID=p.actorforpost;this.basePermalink=p.permalink;this.orderReversed=p.isranked;}.bind(this));}n.prototype.addComment=function(o,p,q){var r=p&&g.isExistingClientID(p),s=this.dataSource.getAllResources(),t={};for(var u in s){var v=s[u];t[v]=u;}if(r&&p in t){t[o]=t[p];var w=t[p];this.dataSource.setResource(w,o);}else if(!t[o]){var x=this.count;this.count++;t[o]=x;this.dataSource.setResource(x,o);}if(q)this.commentPermalinks[o]=this.buildCommentPermalink(o,q,t[o]);i.didUpdateFeedback(this.feedbackTargetID);};n.prototype.addCommentIDs=function(o,p,q){var r={};for(var s=0;s<p;s++)r[o+s]=q[s]||j.unavailableCommentKey;this.dataSource.addResourcesAndExecute(r);i.didUpdateFeedback(this.feedbackTargetID);return this;};n.prototype.getComments=function(o,p,q,r){var s=[];for(var t=0;t<p;t++)s.push(o+t);var u=this.dataSource.getUnavailableResourcesFromRequest(s);if(u.length){var v=Math.min.apply(Math,u),w=Math.max.apply(Math,u),x=v,y=w-v+1;if(x<this.lastRequestedOffset||(x+y)>(this.lastRequestedOffset+this.lastRequestedLength)){this.lastRequestedOffset=x;this.lastRequestedLength=y;this.fetchComments(x,y,q);}}else this.dataSource.deferredExecuteOrEnqueue(s).addCallback(this.deferredCallback.bind(this,o,p,r));};n.prototype.fetchComments=function(o,p,q){};n.prototype.deferredCallback=function(o,p,q,r){};n.prototype.reset=function(){var o=this.dataSource.getAllResources();this.dataSource.reset();this.count=0;this.deletedCount=0;this.deletedComments={};this.lastRequestedOffset=0;this.lastRequestedLength=0;return o;};n.prototype.deleteComment=function(o){if(!(o in this.deletedComments)){this.deletedComments[o]=true;this.deletedCount++;}};n.prototype.updateCommentCount=function(o){this.count=o;this.deletedCount=0;return this;};n.prototype.getFeedbackTargetID=function(){return this.feedbackTargetID;};n.prototype.getCommentCount=function(){return this.count;};n.prototype.getDeletedCount=function(){return this.deletedCount;};n.prototype.getDisplayedCommentCount=function(){return this.count-this.deletedCount;};n.prototype.getBasePermalink=function(){return this.basePermalink;};n.prototype.buildCommentPermalink=function(o,p,q){};n.prototype.getPermalinkForComment=function(o){return this.commentPermalinks[o];};n.isValidContextPropertyForReset=function(o){return o in m;};e.exports=n;},null);
__d("UFIInstanceState",["UFICentralUpdates"],function(a,b,c,d,e,f,g){var h={};function i(k){if(!h[k])h[k]={};}var j={getKeyForInstance:function(k,l){i(k);return h[k][l];},updateState:function(k,l,m){i(k);h[k][l]=m;g.didUpdateInstanceState(k,l);},updateStateField:function(k,l,m,n){var o=this.getKeyForInstance(k,l)||{};o[m]=n;this.updateState(k,l,o);}};e.exports=j;},null);
__d("UFIComments",["ClientIDs","ImmutableObject","UFICentralUpdates","UFIConstants","UFIInstanceState","invariant","merge","randomInt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o={},p={};function q(fa){return fa in p?p[fa]:fa;}function r(fa,ga){fa.forEach(function(ha){var ia=ha.ftentidentifier,ja=j.UFIPayloadSourceType,ka=ha.clientid,la=false,ma=m({},ha);if(ka){delete ma.clientid;la=g.isExistingClientID(ka);if(la&&p[ka])return;}if((ga===ja.LIVE_SEND)||(ga===ja.USER_ACTION)||(ga===ja.ENDPOINT_ADD_COMMENT)||(ga===ja.ENDPOINT_EDIT_COMMENT))ma.isunseen=true;if(ga===ja.ENDPOINT_COMMENT_FETCH||ga===ja.ENDPOINT_ID_COMMENT_FETCH)ma.fromfetch=true;if(la){if(o[ka].ufiinstanceid)k.updateStateField(o[ka].ufiinstanceid,'locallycomposed',ha.id,true);ma.ufiinstanceid=o[ka].ufiinstanceid;p[ka]=ha.id;o[ha.id]=o[ka];delete o[ka];i.didUpdateComment(ka);}ea.setComment(ha.id,new h(ma));i.didUpdateComment(ha.id);i.didUpdateFeedback(ia);});}function s(fa){for(var ga=0;ga<fa.length;ga++){var ha=fa[ga];switch(ha.actiontype){case j.UFIActionType.COMMENT_LIKE:t(ha);break;case j.UFIActionType.DELETE_COMMENT:x(ha);break;case j.UFIActionType.LIVE_DELETE_COMMENT:y(ha);break;case j.UFIActionType.REMOVE_PREVIEW:z(ha);break;case j.UFIActionType.COMMENT_SET_SPAM:aa(ha);break;case j.UFIActionType.CONFIRM_COMMENT_REMOVAL:ba(ha);break;case j.UFIActionType.TRANSLATE_COMMENT:v(ha);break;case j.UFIActionType.COMMENT_LIKECOUNT_UPDATE:u(ha);break;}}}function t(fa){var ga=ea.getComment(fa.commentid);if(ga){var ha={},ia=fa.clientid&&g.isExistingClientID(fa.clientid);if(!ia){ha.hasviewerliked=fa.viewerliked;ha.likecount=fa.likecount;}ha.likeconfirmhash=n(0,1024);da(fa.commentid,ha);}}function u(fa){var ga=ea.getComment(fa.commentid);if(ga&&fa.hasviewerliked===ga.hasviewerliked){var ha={likecount:fa.likecount,likeconfirmhash:n(0,1024)};da(fa.commentid,ha);}}function v(fa){var ga=fa.commentid,ha=ea.getComment(ga);if(ha){var ia={translatedtext:fa.translatedtext,translatorapp:fa.translatorapp};da(ga,ia);}}function w(fa){var ga={reportLink:fa.reportLink,commenterIsFOF:fa.commenterIsFOF,userIsMinor:fa.userIsMinor,giveFeedbackLink:fa.giveFeedbackLink};return ga;}function x(fa){var ga=ea.getComment(fa.commentid);ca(ga,j.UFIStatus.DELETED);}function y(fa){var ga=ea.getComment(fa.commentid);if(ga&&ga.status!==j.UFIStatus.DELETED)ca(ga,j.UFIStatus.LIVE_DELETED);}function z(fa){da(fa.commentid,{attachment:null});}function aa(fa){var ga=ea.getComment(fa.commentid),ha=fa.shouldHideAsSpam?j.UFIStatus.SPAM_DISPLAY:null;ca(ga,ha);}function ba(fa){da(fa.commentid,w(fa));}function ca(fa,ga){da(fa.id,{priorstatus:fa.status,status:ga});}function da(fa,ga){var ha=ea.getComment(fa)||new h({});ea.setComment(fa,h.set(ha,ga));i.didUpdateComment(ha.id);i.didUpdateFeedback(ha.ftentidentifier);}var ea={getComment:function(fa){if(fa===j.unavailableCommentKey)return null;return o[q(fa)];},setComment:function(fa,ga){l(ga instanceof h);o[q(fa)]=ga;},resetComments:function(fa){for(var ga in fa)delete o[q(ga)];}};i.subscribe('update-comments',function(fa,ga){if(ga.comments&&ga.comments.length)r(ga.comments,ga.payloadsource);});i.subscribe('update-actions',function(fa,ga){if(ga.actions&&ga.actions.length)s(ga.actions);});e.exports=ea;},null);
__d("UFIToplevelCommentList",["ActorURI","MercuryServerDispatcher","UFICentralUpdates","UFICommentList","UFIComments","UFIConstants","UFIReplyCommentList","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o={};for(var p in j)if(j.hasOwnProperty(p))r[p]=j[p];var q=j===null?null:j.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=j;r.getCommentList=function(t,u){if(!o[t])o[t]={};if(!o[t][u]){var v=new r(t,u),w=r.getCommentListsForFeedbackTargetID(t);if(w.length)v.updateCommentCount(w[0].getCommentCount());o[t][u]=v;}return o[t][u];};r.getCommentListsForFeedbackTargetID=function(t){var u=[],v=o[t]||{};for(var w in v)u.push(v[w]);return u;};r.getCommentListForFeedbackTargetID_UNSAFE=function(t){var u=r.getCommentListsForFeedbackTargetID(t);return u.length?u[0]:null;};r.resetCommentListsForFeedbackTargetID=function(t){if(!o[t])return;var u={};for(var v in o[t]){var w=o[t][v],x=w.reset();for(var y in x){var z=x[y];u[z]=true;}}k.resetComments(u);};r.resetCommentListsWithContext=function(t,u){if(!o[t])return;var v={};for(var w in o[t]){var x=o[t][w];for(var y in u)if(this.isValidContextPropertyForReset(y))x[y]=u[y];var z=x.reset();for(var aa in z){var ba=z[aa];v[ba]=true;m.resetWithContext(t,ba,u);}}k.resetComments(v);};function r(t,u){j.call(this,t);this.orderingMode=u;}r.prototype.fetchComments=function(t,u,v){var w={ft_ent_identifier:this.feedbackTargetID,viewas:v,source:null,offset:t,length:u,orderingmode:this.orderingMode};if(!v)w[g.PARAMETER_ACTOR]=this.actorID;h.trySend('/ajax/ufi/comment_fetch.php',w);};r.prototype.deferredCallback=function(t,u,v,w){var x={},y=t,z=t+u-1;for(var aa=0;aa<u;aa++){var ba=this.orderReversed?z-aa:y+aa,ca=k.getComment(w[ba]);if(ca)x[t+aa]=ca;}v(x);};r.prototype.getOrderingMode=function(){return this.orderingMode;};r.prototype.buildCommentPermalink=function(t,u,v){if(!this.basePermalink)return null;var w=Math.floor((this.count-v-1)/l.defaultPageSize)*l.defaultPageSize;return (n(this.basePermalink).addQueryData({comment_id:u,offset:w,total_comments:this.count}).toString());};h.registerEndpoints({'/ajax/ufi/comment_fetch.php':{mode:h.IMMEDIATE}});function s(t){var u=k.getComment(t.commentid),v=u.id,w=u.ftentidentifier,x=u.parentcommentid;if(x)return;if(u.status!==l.UFIStatus.DELETED&&u.status!==l.UFIStatus.FAILED_ADD)r.getCommentListsForFeedbackTargetID(w).forEach(function(y){y.deleteComment(v);});}i.subscribe('update-actions',function(t,u){if(u.actions&&u.actions.length)for(var v=0;v<u.actions.length;v++){var w=u.actions[v];switch(w.actiontype){case l.UFIActionType.DELETE_COMMENT:s(w);break;}}});i.subscribe('update-comment-lists',function(t,u){var v=u.commentlists;if(v&&v.comments&&Object.keys(v).length)for(var w in v.comments)for(var x in v.comments[w]){var y=v.comments[w][x];r.getCommentList(w,x).addCommentIDs(y.range.offset,y.range.length,y.values);}});i.subscribe('update-comments',function(t,u){if(u.comments&&u.comments.length)u.comments.forEach(function(v){if(v.parentcommentid)return;var w=v.ftentidentifier;r.getCommentListsForFeedbackTargetID(w).forEach(function(x){x.addComment(v.id,v.clientid,v.legacyid);});});});i.subscribe('update-feedback',function(t,u){if(u.feedbacktargets&&u.feedbacktargets.length)u.feedbacktargets.forEach(function(v){var w=v.entidentifier,x=v.defaultcommentorderingmode,y={};if(x)y[x]=true;if(v.orderingmodes)v.orderingmodes.forEach(function(aa){y[aa.value]=true;});for(var z in y)r.getCommentList(w,z).updateCommentCount(v.commentcount);});});e.exports=r;},null);
__d("XBroadcastRequestAddComposerTokenAsyncControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/profile\/broadcast_request\/async\/add_composer_token\/",{comment_token:{type:"String"},source_obj_id:{type:"Int"}});},null);
__d("UFIUserActions",["ActorURI","AsyncResponse","BroadcastRequestParam","CLoggerX","ClientIDs","ImmutableObject","Nectar","UFICentralUpdates","UFIToplevelCommentList","UFIComments","UFIConstants","UFIFeedbackTargets","MercuryServerDispatcher","XBroadcastRequestAddComposerTokenAsyncControllerURIBuilder","collectDataAttributes","copyProperties","tx","UnicodeBidi"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){var y={BAN:'ban',UNDO_BAN:'undo_ban'},z={changeActor:function(ma,na){r.getFeedbackTarget(ma,function(oa){o.resetCommentListsWithContext(ma,{actorID:na});var pa={from_actor_id:oa.actorforpost,ft_ent_identifier:ma};pa[g.PARAMETER_ACTOR]=na;s.trySend('/ajax/ufi/actor_change.php',pa);});},changeCommentLike:function(ma,na,oa){var pa=p.getComment(ma);if(pa.hasviewerliked!=na){var qa=aa(oa.target),ra=na?1:-1,sa={commentid:ma,actiontype:q.UFIActionType.COMMENT_LIKE,viewerliked:na,likecount:pa.likecount+ra};n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{actions:[sa]});r.getFeedbackTarget(pa.ftentidentifier,function(ta){var ua={};ua[g.PARAMETER_ACTOR]=ta.actorforpost;s.trySend('/ajax/ufi/comment_like.php',v({comment_id:ma,legacy_id:pa.legacyid,like_action:na,ft_ent_identifier:pa.ftentidentifier,source:oa.source,client_id:k.getNewClientID()},qa,ua));});}},changeAlsoRecommend:function(ma,na){var oa=p.getComment(ma.id);if(oa.hasviewerrecommended!==na){var pa={};pa[i.COMMENT_TOKEN]=ma.id;pa[i.SOURCE_OBJ_ID]=ma.ftentidentifier;s.trySend(new t().getURI(),pa);}},addComment:function(ma,na,oa,pa){r.getFeedbackTarget(ma,function(qa){var ra=aa(pa.target),sa=k.getNewClientID();if(!qa.actorforpost)return;var ta=x.isDirectionLTR(na)?'ltr':'rtl',ua={ftentidentifier:ma,body:{text:na,dir:ta},author:qa.actorforpost,id:sa,islocal:true,ufiinstanceid:pa.ufiinstanceid,likecount:0,hasviewerliked:false,parentcommentid:pa.replyid,attachment:pa.attachedsticker,photo_comment:pa.attachedphoto,timestamp:{time:Date.now(),text:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27"}},va={actiontype:q.UFIActionType.SUBSCRIBE_ACTION,actorid:qa.actorforpost,hasviewersubscribed:true,entidentifier:ma},wa={actiontype:q.UFIActionType.ADD_COMMENT_ACTION,feedbackfbid:qa.targetfbid};n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{comments:[ua],actions:[va,wa]});var xa=null;if(pa.replyid)xa=(p.getComment(pa.replyid)).fbid;var ya=j.getCLParamsForTarget(pa.target,xa),za={};za[g.PARAMETER_ACTOR]=qa.actorforpost;s.trySend('/ajax/ufi/add_comment.php',v({ft_ent_identifier:qa.entidentifier,comment_text:oa,source:pa.source,client_id:sa,reply_fbid:xa,parent_comment_id:pa.replyid,timeline_log_data:pa.timelinelogdata,rootid:pa.rootid,clp:ya,attached_sticker_fbid:pa.attachedsticker?pa.attachedsticker.fbid:0,attached_photo_fbid:pa.attachedphoto?pa.attachedphoto.fbid:0,giftoccasion:pa.giftoccasion,recommendation_ids:pa.recommendationIDs?pa.recommendationIDs:[]},ra,za));});},_hasCommentTextChanged:function(ma,na){return ma.body&&ma.body.text!=na;},_hasCommentPhotoChanged:function(ma,na){return ((ma||na)&&!(ma&&na))||(ma&&na&&(ma.fbid!=na.fbid));},_hasCommentStickerChanged:function(ma,na){return ((ma||na)&&!(ma&&na))||(ma&&(ma.type=="sticker")&&na&&(ma.fbid!=na.fbid));},editComment:function(ma,na,oa,pa){var qa=aa(pa.target),ra=p.getComment(ma),sa=this._hasCommentTextChanged(ra,na)||this._hasCommentPhotoChanged(ra.photo_comment,pa.attachedPhoto)||this._hasCommentStickerChanged(ra.attachment,pa.attachedSticker);ra=l.set(ra,{status:q.UFIStatus.PENDING_EDIT,body:{text:na},editnux:null,attachment:pa.attachedSticker,photo_comment:pa.attachedPhoto});if(sa)ra=l.set(ra,{originalTimestamp:ra.timestamp.time,timestamp:{time:Date.now(),text:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27"}});n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{comments:[ra]});r.getFeedbackTarget(ra.ftentidentifier,function(ta){var ua={};ua[g.PARAMETER_ACTOR]=ta.actorforpost;s.trySend('/ajax/ufi/edit_comment.php',v({ft_ent_identifier:ra.ftentidentifier,comment_text:oa,source:pa.source,comment_id:ra.id,parent_comment_id:ra.parentcommentid,attached_sticker_fbid:pa.attachedSticker?pa.attachedSticker.fbid:0,attached_photo_fbid:pa.attachedPhoto?pa.attachedPhoto.fbid:0},qa,ua));});},translateComment:function(ma,na){s.trySend('/ajax/ufi/translate_comment.php',{ft_ent_identifier:ma.ftentidentifier,comment_ids:[ma.id],source:na.source});},setHideAsSpam:function(ma,na,oa){var pa=aa(oa.target),qa=p.getComment(ma),ra={commentid:ma,actiontype:q.UFIActionType.COMMENT_SET_SPAM,shouldHideAsSpam:na};n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{actions:[ra]});s.trySend('/ajax/ufi/comment_spam.php',v({comment_id:ma,spam_action:na,ft_ent_identifier:qa.ftentidentifier,source:oa.source},pa));},removeComment:function(ma,na){var oa=aa(na.target),pa=p.getComment(ma),qa={actiontype:q.UFIActionType.DELETE_COMMENT,commentid:ma,oneclick:na.oneclick};n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{actions:[qa]});r.getFeedbackTarget(pa.ftentidentifier,function(ra){var sa={};sa[g.PARAMETER_ACTOR]=ra.actorforpost;s.trySend('/ajax/ufi/delete_comment.php',v({comment_id:pa.id,comment_legacyid:pa.legacyid,ft_ent_identifier:pa.ftentidentifier,one_click:na.oneclick,source:na.source,client_id:k.getNewClientID(),timeline_log_data:na.timelinelogdata},oa,sa));});},banUser:function(ma,na,oa,pa){var qa=oa?y.BAN:y.UNDO_BAN;s.trySend('/ajax/ufi/ban_user.php',{page_id:na,commenter_id:ma.author,action:qa,comment_id:ma.id,client_side:true});},changeLike:function(ma,na,oa){r.getFeedbackTarget(ma,function(pa){var qa=aa(oa.target);if(pa.hasviewerliked!==na){var ra=na?1:-1,sa={actiontype:q.UFIActionType.LIKE_ACTION,actorid:pa.actorforpost,hasviewerliked:na,likecount:pa.likecount+ra,entidentifier:ma,likesentences:{current:pa.likesentences.alternate,alternate:pa.likesentences.current}};n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{actions:[sa]});var ta={};ta[g.PARAMETER_ACTOR]=pa.actorforpost;s.trySend('/ajax/ufi/like.php',v({like_action:na,ft_ent_identifier:ma,source:oa.source,client_id:k.getNewClientID(),rootid:oa.rootid,giftoccasion:oa.giftoccasion},qa,ta));}});},changeSubscribe:function(ma,na,oa){r.getFeedbackTarget(ma,function(pa){var qa=aa(oa.target);if(pa.hasviewersubscribed!==na){var ra={actiontype:q.UFIActionType.SUBSCRIBE_ACTION,actorid:pa.actorforpost,hasviewersubscribed:na,entidentifier:ma};n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{actions:[ra]});var sa={};sa[g.PARAMETER_ACTOR]=pa.actorforpost;s.trySend('/ajax/ufi/subscribe.php',v({subscribe_action:na,ft_ent_identifier:ma,source:oa.source,client_id:k.getNewClientID(),rootid:oa.rootid,comment_expand_mode:oa.commentexpandmode},qa,sa));}});},fetchSpamComments:function(ma,na,oa,pa){s.trySend('/ajax/ufi/id_comment_fetch.php',{ft_ent_identifier:ma,viewas:pa,comment_ids:na,parent_comment_id:oa,source:null});},removePreview:function(ma,na){var oa=aa(na.target),pa={commentid:ma.id,actiontype:q.UFIActionType.REMOVE_PREVIEW};n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{actions:[pa]});s.trySend('/ajax/ufi/remove_preview.php',v({comment_id:ma.id,ft_ent_identifier:ma.ftentidentifier,source:na.source},oa));}};function aa(ma){if(!ma)return {ft:{}};var na={ft:u(ma,['ft']).ft};m.addModuleData(na,ma);return na;}function ba(ma){var na=ma.request.data;if(!ma.isBlockedAction())h.defaultErrorHandler(ma);var oa=na.client_id||na.comment_id,pa=p.getComment(oa),qa=(pa.status===q.UFIStatus.PENDING_EDIT)?q.UFIStatus.FAILED_EDIT:q.UFIStatus.FAILED_ADD;pa=l.setDeep(pa,{status:qa,allowRetry:ca(ma),body:{mentionstext:na.comment_text,mentionsphoto:pa.photo_comment}});n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{comments:[pa]});}function ca(ma){var na=ma.getError();if(ma.isBlockedAction())return false;if(ma.silentError)return true;if(na===1357012||na===1357006)return false;return true;}function da(ma){var na=ma.request.data,oa=na.comment_id,pa=p.getComment(oa);pa=l.set(pa,{status:pa.priorstatus||null,priorstatus:undefined});n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{comments:[pa]});}function ea(ma){var na=ma.request.data,oa=na.comment_id,pa=p.getComment(oa);if(na.like_action===pa.hasviewerliked){var qa=pa.hasviewerliked?-1:1,ra={commentid:oa,actiontype:q.UFIActionType.COMMENT_LIKE,viewerliked:!pa.hasviewerliked,likecount:pa.likecount+qa};n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{actions:[ra]});}h.defaultErrorHandler(ma);}function fa(ma){var na=ma.request.data,oa=na.ft_ent_identifier;r.getFeedbackTarget(oa,function(pa){if(pa.hasviewerliked===na.like_action){var qa=pa.hasviewerliked?-1:1,ra={actiontype:q.UFIActionType.LIKE_ACTION,actorid:pa.actorforpost,hasviewerliked:!pa.hasviewerliked,likecount:pa.likecount+qa,entidentifier:oa,likesentences:{current:pa.likesentences.alternate,alternate:pa.likesentences.current}};n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{actions:[ra]});}});h.defaultErrorHandler(ma);}function ga(ma){var na=ma.request.data,oa=na.ft_ent_identifier;r.getFeedbackTarget(oa,function(pa){if(pa.hasviewersubscribed===na.subscribe_action){var qa={actiontype:q.UFIActionType.SUBSCRIBE_ACTION,actorid:pa.actorforpost,hasviewersubscribed:!pa.hasviewersubscribed,entidentifier:oa};n.handleUpdate(q.UFIPayloadSourceType.USER_ACTION,{actions:[qa]});}});h.defaultErrorHandler(ma);}var ha={'/ajax/ufi/actor_change.php':{mode:s.IMMEDIATE},'/ajax/ufi/comment_like.php':{mode:s.BATCH_CONDITIONAL,error_handler:ea,batch_if:ia,batch_function:la},'/ajax/ufi/comment_spam.php':{mode:s.IMMEDIATE,error_handler:da},'/ajax/ufi/add_comment.php':{mode:s.IMMEDIATE,error_handler:ba},'/ajax/ufi/delete_comment.php':{mode:s.IMMEDIATE,error_handler:da},'/ajax/ufi/ban_user.php':{mode:s.IMMEDIATE},'/ajax/ufi/edit_comment.php':{mode:s.IMMEDIATE,error_handler:ba},'/ajax/ufi/like.php':{mode:s.BATCH_CONDITIONAL,error_handler:fa,batch_if:ja,batch_function:la},'/ajax/ufi/subscribe.php':{mode:s.BATCH_CONDITIONAL,error_handler:ga,batch_if:ka,batch_function:la},'/ajax/ufi/id_comment_fetch.php':{mode:s.IMMEDIATE},'/ajax/ufi/remove_preview.php':{mode:s.IMMEDIATE},'/ajax/ufi/translate_comment.php':{mode:s.IMMEDIATE},'/profile/broadcast_request/async/add_composer_token/':{mode:s.IMMEDIATE}};ha[(new t()).getURI()]={mode:s.IMMEDIATE};s.registerEndpoints(ha);function ia(ma,na){return ma&&ma.ft_ent_identifier==na.ft_ent_identifier&&ma.comment_id==na.comment_id;}function ja(ma,na){return ma&&ma.ft_ent_identifier==na.ft_ent_identifier;}function ka(ma,na){return ma&&ma.ft_ent_identifier==na.ft_ent_identifier;}function la(ma,na){return na;}e.exports=z;},null);
__d("UFIUIEvents",[],function(a,b,c,d,e,f){var g='UFIUIEvents/ufiActionLinkLike',h='UFIUIEvents/ufiActionLinkUnlike',i={UFIActionLinkLike:g,UFIActionLinkUnlike:h};e.exports=i;},null);
__d("UFIActionLinkController",["Arbiter","ClickPointIdentifiersDEPRECATED","CSS","DOMQuery","Parent","React","TrackingNodes","UFIBlingBox.react","UFICentralUpdates","UFIConstants","UFIFeedbackTargets","UFILikeLink.react","UFIShareLink.react","UFISubscribeLink.react","UFITimelineBlingBox.react","UFIToplevelCommentList","UFIUserActions","UFIUIEvents","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){function z(ba,ca,da){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var ea=j.scry(ba,ca)[0];if(ea){var fa=document.createElement('span');ea.parentNode.replaceChild(fa,ea);fa.appendChild(ea);if(typeof da==="function")da(fa);}else var ga=g.subscribe('PhotoSnowlift.DATA_CHANGE',function(){g.unsubscribe(ga);z(ba,ca,da);},g.SUBSCRIBE_NEW);}var aa=function(ba,ca,da){this._id=ca.ftentidentifier;this._ftFBID=da.targetfbid;this._source=ca.source;this._contextArgs=ca;this._ufiRoot=ba;this._isOnTimeline=this._isRenderingOnTimeline();if(this._isOnTimeline){this._attemptInitializeTimelineBling();}else this._attemptInitializeBling();if(da.viewercanlike||da.hasviewerliked)this._attemptInitializeLike();if(da.viewercansubscribetopost)this._attemptInitializeSubscribe();this._attemptInitializeShare();o.subscribe('feedback-updated',function(ea,fa){var ga=fa.updates;if(this._id in ga)this.render();}.bind(this));o.subscribe('feedback-id-changed',function(ea,fa){var ga=fa.updates;if(this._id in ga)this._id=ga[this._id];}.bind(this));};y(aa.prototype,{_attemptInitializeBling:function(){z(this._ufiRoot,'^form .uiBlingBox',function(ba){this._blingRoot=ba;if(this._dataReady)this._renderBling();}.bind(this));},_attemptInitializeTimelineBling:function(){if(this._root)throw new Error('UFIActionLinkController attempted to initialize when a root was'+' already present');var ba=j.scry(this._ufiRoot,'^form .fbTimelineFeedbackActions .UFIBlingBoxTimeline')[0];if(ba){var ca=j.scry(ba,'.fbTimelineFeedbackLikes')[0];this._enableShowLikes=ca?true:false;var da=j.scry(ba,'.fbTimelineFeedbackComments')[0];this._enableShowComments=da?true:false;}this._blingTimelineRoot=ba;if(this._dataReady)this._renderTimelineBling();},_attemptInitializeLike:function(){z(this._ufiRoot,'^form .like_link',function(ba){this._likeRoot=ba;if(this._dataReady)this._renderLike();}.bind(this));},_attemptInitializeSubscribe:function(){z(this._ufiRoot,'^form .unsub_link',function(ba){this._subscribeRoot=ba;if(this._dataReady)this._renderSubscribe();}.bind(this));},_attemptInitializeShare:function(){z(this._ufiRoot,'^form .share_action_link',function(ba){this._shareRoot=ba;var ca=j.scry(this._shareRoot,'.share_action_link')[0];this._shareURI=ca?ca.getAttribute('href'):null;if(this._dataReady)this._renderShare();}.bind(this));},render:function(){this._dataReady=true;if(this._isOnTimeline){this._renderTimelineBling();}else this._renderBling();this._renderLike();this._renderSubscribe();this._renderShare();},_renderBling:function(){if(this._blingRoot)q.getFeedbackTarget(this._id,function(ba){var ca=function(event){if(this._contextArgs.blingtogglescomments){var ga=k.byTag(event.target,"form");i.toggleClass(ga,"collapsed_comments");i.toggleClass(ga,"hidden_add_comment");}event.preventDefault();}.bind(this),da=m.getTrackingInfo(m.types.BLINGBOX),ea=v.getCommentListForFeedbackTargetID_UNSAFE(this._id).getDisplayedCommentCount(),fa=l.createElement(n,{likes:ba.likecount,comments:ea,reshares:ba.sharecount,nfb:ba.nfbcount,permalink:ba.permalink,contextArgs:this._contextArgs,onClick:ca,'data-ft':da});this._blingBox=l.renderComponent(fa,this._blingRoot);}.bind(this));},_renderTimelineBling:function(){if(this._blingTimelineRoot)q.getFeedbackTarget(this._id,function(ba){var ca=m.getTrackingInfo(m.types.BLINGBOX),da=h.getUserActionID(h.types.TIMELINE_SEE_LIKERS),ea=function(event){var ha=k.byTag(event.target,"form");i.removeClass(ha,"collapsed_comments");var ia=j.scry(ha,'a.UFIPagerLink');if(ia.length)ia[0].click();event.preventDefault();}.bind(this),fa=v.getCommentListForFeedbackTargetID_UNSAFE(this._id).getDisplayedCommentCount(),ga=l.createElement(u,{comments:fa,commentOnClick:ea,contextArgs:this._contextArgs,'data-ft':ca,'data-gt':da,enableShowComments:this._enableShowComments,enableShowLikes:this._enableShowLikes,feedbackFBID:this._ftFBID,likes:ba.likecount,reshares:ba.sharecount,actorid:ba.actorid});l.renderComponent(ga,this._blingTimelineRoot);}.bind(this));},_renderLike:function(){if(this._likeRoot)q.getFeedbackTarget(this._id,function(ba){var ca=!ba.hasviewerliked,da=function(event){var fa=ca?x.UFIActionLinkLike:x.UFIActionLinkUnlike;g.inform(fa,{ft_id:this._id,like_action:ca,target:event.target});w.changeLike(this._id,ca,{source:this._source,target:event.target,rootid:this._contextArgs.rootid,giftoccasion:this._contextArgs.giftoccasion});event.preventDefault();}.bind(this),ea=l.createElement(r,{onClick:da,likeAction:ca});this._likeLink=l.renderComponent(ea,this._likeRoot);}.bind(this));},_renderSubscribe:function(){if(this._subscribeRoot)q.getFeedbackTarget(this._id,function(ba){var ca=!ba.hasviewersubscribed,da=function(event){w.changeSubscribe(this._id,ca,{source:this._source,target:event.target,rootid:this._contextArgs.rootid,commentexpandmode:ba.commentexpandmode});event.preventDefault();}.bind(this),ea=l.createElement(t,{onClick:da,subscribeAction:ca});this._subscribeLink=l.renderComponent(ea,this._subscribeRoot);}.bind(this));},_renderShare:function(){if(this._shareRoot&&this._shareURI)this._shareLink=l.renderComponent(l.createElement(s,{href:this._shareURI}),this._shareRoot);},_isRenderingOnTimeline:function(){if(this._source===p.UFIFeedbackSourceType.PROFILE){var ba=j.scry(this._ufiRoot,'^form .fbTimelineFeedbackActions .UFIBlingBoxTimeline');return (ba.length>0);}return false;}});e.exports=aa;},null);
__d("ClipboardPhotoUploader",["ArbiterMixin","AsyncRequest","mixin"],function(a,b,c,d,e,f,g,h,i){var j=i(g);for(var k in j)if(j.hasOwnProperty(k))m[k]=j[k];var l=j===null?null:j.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=j;function m(n,o){"use strict";this.uploadURIString=n;this.data=o;}m.prototype.handlePaste=function(event){"use strict";if(!event.clipboardData)return;var n=event.clipboardData.items;if(!n)return;for(var o=0;o<n.length;++o){var p=n[o];if(p.kind==='file'&&p.type.indexOf('image/')!==-1){var q=new FormData();q.append('pasted_file',p.getAsFile());var r=new h();r.setURI(this.uploadURIString).setData(this.data).setRawData(q).setHandler(function(s){this.inform('upload_success',s);}.bind(this)).setErrorHandler(function(s){this.inform('upload_error',s);}.bind(this));this.inform('upload_start');r.send();break;}}};e.exports=m;},null);
__d("LegacyMentionsInput.react",["Bootloader","CLogConfig","TypeaheadMetricsConfig","Event","Keys","React","ReactPropTypes","cx","PlaceholderListener"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b('PlaceholderListener');var o=l.createClass({displayName:'ReactLegacyMentionsInput',propTypes:{initialData:m.object,placeholder:m.string,datasource:m.object,ref:m.string,viewOptionsTypeObjects:m.object,viewOptionsTypeObjectsOrder:m.array,hashtags:m.bool,autoflip:m.bool,onEnterSubmit:m.func,onFocus:m.func,onBlur:m.func,onTypingStateChange:m.func,onPaste:m.func},componentDidMount:function(){this.props.initialData&&this._initializeTextarea(this.getDOMNode());},hasEnteredText:function(){return !!(this._mentionsInput&&this._mentionsInput.getValue().trim());},submitComment:function(event){var p;if(event){p=event.target.value&&event.target.value.trim();}else{var q=this.refs.textarea.getDOMNode();if(q.value&&q.value!==q.placeholder)p=q.value;}p=p||'';var r={visibleValue:p,encodedValue:p};if(this._mentionsInput)r.encodedValue=this._mentionsInput.getRawValue().trim();var s=this.props.onEnterSubmit(r,event);if(s&&this._mentionsInput){this._mentionsInput.reset();event&&event.preventDefault();}},_handleKeydown:function(event){var p=event.nativeEvent,q=j.getKeyCode(p)==k.RETURN&&!j.$E(p).getModifiers().any,r=this._mentionsInput&&this._mentionsInput.getTypeahead().getView().getSelection();if(this.props.onEnterSubmit&&q&&!r)this.submitComment(event);},_handleFocus:function(){this.props.onFocus&&this.props.onFocus();this._initializeTextarea(this.refs.root.getDOMNode());},_handleBlur:function(){this.props.onBlur&&this.props.onBlur();},_initializeTextarea:function(p){if(this._mentionsInput||this._bootloadingMentions)return;this._bootloadingMentions=true;g.loadModules(["CompactTypeaheadRenderer","ContextualTypeaheadView","CLoggerX","InputSelection","MentionsInput","TextAreaControl","Typeahead","TypeaheadAreaCore","TypeaheadBestName","TypeaheadHoistFriends","TypeaheadMetrics","TypeaheadMetricsX","TypingDetector","UFIComments"],function(q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){var ea=this.refs.textarea.getDOMNode();new v(ea);if(h.gkResults){var fa=da.getComment(this.props.replyCommentID),ga=fa?fa.fbid:null;s.trackMentionsInput(ea,ga);}if(this.props.onTypingStateChange){var ha=new ca(ea);ha.init();ha.subscribe('change',this.props.onTypingStateChange);}var ia={autoSelect:true,renderer:q,causalElement:ea,autoflip:this.props.autoflip};if(this.props.viewOptionsTypeObjects)ia.typeObjects=this.props.viewOptionsTypeObjects;if(this.props.viewOptionsTypeObjectsOrder)ia.typeObjectsOrder=this.props.viewOptionsTypeObjectsOrder;var ja=new w(this.props.datasource,{ctor:r,options:ia},{ctor:x},this.refs.typeahead.getDOMNode()),ka=[y,z];if(i.gkResults){var la=new ba({extraData:{event_name:'mention_metric_x'}});la.init(ja);}var ma=new aa({extraData:{event_name:'mentions',from_location:'comments'}});w.initNow(ja,ka,ma);this._mentionsInput=new u(p,ja,ea,{hashtags:this.props.hashtags});this._mentionsInput.init({},this.props.initialData);if(this.props.initialData)t.set(ea,ea.value.length);if(this.props.onPaste)j.listen(ea,'paste',this.props.onPaste);this._bootloadingMentions=false;}.bind(this));},focus:function(){try{this.refs.textarea.getDOMNode().focus();}catch(p){}},render:function(){var p=(("textInput")+(' '+"mentionsTextarea")+(' '+"uiTextareaAutogrow")+(' '+"uiTextareaNoResize")+(' '+"UFIAddCommentInput")+(' '+"DOMControl_placeholder"));return (l.createElement(l.DOM.div,{ref:"root",className:"uiMentionsInput textBoxContainer ReactLegacyMentionsInput"},l.createElement(l.DOM.div,{className:"highlighter"},l.createElement(l.DOM.div,null,l.createElement(l.DOM.span,{className:"highlighterContent hidden_elem"}))),l.createElement(l.DOM.div,{ref:"typeahead",className:"uiTypeahead mentionsTypeahead"},l.createElement(l.DOM.div,{className:"wrap"},l.createElement(l.DOM.input,{type:"hidden",autoComplete:"off",className:"hiddenInput"}),l.createElement(l.DOM.div,{className:"innerWrap"},l.createElement(l.DOM.textarea,{ref:"textarea",name:"add_comment_text",className:p,title:this.props.placeholder,placeholder:this.props.placeholder,onFocus:this._handleFocus,onBlur:this._handleBlur,onKeyDown:this._handleKeydown,defaultValue:this.props.placeholder})))),l.createElement(l.DOM.input,{type:"hidden",autoComplete:"off",className:"mentionsHidden",defaultValue:""})));}});e.exports=o;},null);
__d("UFIClassNames",["cx"],function(a,b,c,d,e,f,g){e.exports={ACTOR_IMAGE:"img UFIActorImage _54ru",ROW:"UFIRow",UNSEEN_ITEM:"UFIUnseenItem"};},null);
__d("UFIImageBlock.react",["ImageBlock.react","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=h.createClass({displayName:'UFIImageBlock',render:function(){return (h.createElement(g,Object.assign({},this.props,{imageClassName:"UFIImageBlockImage",contentClassName:"UFIImageBlockContent"}),this.props.children));}});e.exports=j;},null);
__d("UFIStickerButton.react",["Bootloader","ContextualLayerAutoFlip","React","ReactLayeredComponentMixin","StickerConstants","UFIConfig","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=i.createClass({displayName:'UFIStickerButton',propTypes:{onStickerSelected:i.PropTypes.func.isRequired},mixins:[j],getInitialState:function(){var p=l.stickerSearch?k.SEARCH_PACK_ID:k.MRU_STICKER_PACK;return {renderFlyout:null,flyoutShown:false,packID:p};},render:function(){var p="\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e2a\u0e15\u0e34\u0e01\u0e40\u0e01\u0e2d\u0e23\u0e4c";return (i.createElement(i.DOM.div,{'aria-label':p,className:"UFICommentStickerButton",'data-hover':"tooltip",'data-tooltip-alignh':"center",onClick:this._onLinkClicked,onMouseDown:this._prepareForClick,ref:"link"},i.createElement(i.DOM.div,{className:"UFICommentStickerIcon"})));},renderLayers:function(){return !this.state.renderFlyout?{}:this.state.renderFlyout();},_hideFlyout:function(){this.setState({flyoutShown:false});},_prepareForClick:function(){this._clickGuard=this.state.flyoutShown;},_onLinkClicked:function(){if(this.state.renderFlyout!==null){!this._clickGuard&&this.setState({flyoutShown:true});return;}g.loadModules(["XUIContextualDialog.react","StickersFlyout.react"],function(p,q){this.setState({flyoutShown:true,renderFlyout:function(){return {contextualDialog:i.createElement(p,{alignment:"right",behaviors:{flip:h},className:"_5e-r",contextRef:"link",onBlur:this._hideFlyout,position:"above",shown:this.state.flyoutShown,hasActionableContext:true,width:278},i.createElement(i.DOM.div,null,i.createElement(q,{onPackSelect:function(r){this.setState({packID:r});}.bind(this),onStickerSelect:this._onStickerSelected,onEmoticonSelect:this._onEmoticonSelected,isComments:true,packID:this.state.packID,shown:this.state.flyoutShown})))};}.bind(this)});}.bind(this));},_onStickerSelected:function(p,event){this.props.onStickerSelected(p,event);this._hideFlyout();},_onEmoticonSelected:function(p){this.props.onEmoticonSelected(p);this._hideFlyout();}});e.exports=o;},null);
__d("XFeedNUXSaveSeenStateControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f){e.exports=b("XControllerURIBuilder").create("\/feed\/nux\/seen\/save\/",{link_id:{type:"String"},key:{type:"String",required:true},seen:{type:"Bool"}});},null);
__d("UFIAddComment.react",["ActorURI","AsyncRequest","Bootloader","ClipboardPhotoUploader","CloseButton.react","DOM","DOMContainer.react","getActiveElement","Event","Focus","HTML","Keys","LegacyMentionsInput.react","Link.react","LitestandStoryInsertionStatus","LoadingIndicator.react","React","ReactLayeredComponentMixin","Run","SnowflakePermalinkUtils","Sticker.react","TrackingNodes","UFIClassNames","UFIConfig","UFIImageBlock.react","UFIStickerButton.react","URI","XFeedNUXSaveSeenStateControllerURIBuilder","cx","fbt","joinClasses","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la){var ma="\u0e40\u0e02\u0e35\u0e22\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19",na="\u0e40\u0e02\u0e35\u0e22\u0e19\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a...",oa="fcg fss UFICommentTip",pa=19,qa='/ajax/ufi/upload/',ra=80,sa='/ajax/ufi/sticker_preview/',ta=w.createClass({displayName:'UFIAddComment',mixins:[x],propTypes:{contextArgs:w.PropTypes.object.isRequired,viewerActor:w.PropTypes.object.isRequired,allowPhotoAttachments:w.PropTypes.bool,allowStickerAttachments:w.PropTypes.bool,attachedPhoto:w.PropTypes.object,attachedSticker:w.PropTypes.object,hide:w.PropTypes.bool,initialData:w.PropTypes.object,isEditing:w.PropTypes.bool,isFirstComponent:w.PropTypes.bool,isLastComponent:w.PropTypes.bool,isQAndA:w.PropTypes.bool,mentionsDataSource:w.PropTypes.object,onCancel:w.PropTypes.func,onCommentSubmit:w.PropTypes.func,onTypingStateChange:w.PropTypes.func,replyCommentID:w.PropTypes.string,showSendOnEnterTip:w.PropTypes.bool,subtitle:w.PropTypes.any,targetID:w.PropTypes.string,withoutSeparator:w.PropTypes.bool},getInitialState:function(){if(this.props.attachedPhoto)this.props.contextArgs.attachedphoto=this.props.attachedPhoto;if(this.props.attachedSticker)this.props.contextArgs.attachedsticker=this.props.attachedSticker;return {attachedPhoto:this.props.attachedPhoto?this.props.attachedPhoto:null,attachedSticker:this.props.attachedSticker?this.props.attachedSticker:null,broadcastRequestTokenizer:null,fileInput:null,fileUploader:null,isCommenting:false,isLoadingPhoto:false,isRecommending:false,recommendationEntries:[],renderStickerNUX:null,searchSource:null,stickerNUXVisible:false};},_onKeyDown:function(event){if(this.props.isEditing&&o.getKeyCode(event.nativeEvent)===r.ESC)this.props.onCancel();if(this.isMounted()&&!this._isOnBeforeUnloadListenerAdded){y.onBeforeUnload(this._handleUnsavedChanges);this._isOnBeforeUnloadListenerAdded=true;}var ua=n();if(o.getKeyCode(event.nativeEvent)===r.ESC)ua.blur();},_handleUnsavedChanges:function(){var ua=a.PageTransitions;if(ua){var va=ga.getNextURI(),wa=ua.getMostRecentURI();if(va.getQueryData().hasOwnProperty('theater')||wa.getQueryData().hasOwnProperty('theater')||z.isPermalinkURI(va)||z.isPermalinkURI(wa))return;var xa=a.DialogNavigationStack;if(xa&&xa.isActiveURI(va))return;}if(this.refs&&this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return "\u0e01\u0e32\u0e23\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e40\u0e2a\u0e23\u0e47\u0e08\u0e2a\u0e34\u0e49\u0e19 \u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e17\u0e35\u0e48\u0e08\u0e30\u0e2d\u0e2d\u0e01\u0e42\u0e14\u0e22\u0e44\u0e21\u0e48\u0e40\u0e2a\u0e23\u0e47\u0e08\u0e2a\u0e34\u0e49\u0e19\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48?";},_blur:function(){this.setState({stickerNUXVisible:false});if(this.refs.mentionsinput&&this.refs.mentionsinput.hasEnteredText())return;this.setState({isCommenting:false});},_onPaste:function(event){var ua=new j(qa,this._getPhotoUploadData());this._cancelCurrentSubscriptions();this._subscriptions=[ua.subscribe('upload_start',this._prepareForAttachedPhotoPreview),ua.subscribe('upload_error',this._onRemoveAttachedPhotoPreviewClicked),ua.subscribe('upload_success',function(va,wa){this._onPhotoUploadComplete(wa);}.bind(this))];ua.handlePaste(event);},_onEnterSubmit:function(ua,event){var va=this.state.attachedPhoto||this.state.attachedSticker||this.state.recommendationEntries.length,wa=this.props.isEditing||va;if(this.state.isLoadingPhoto){return false;}else if(!ua.encodedValue.trim()&&!wa)return false;if(va){if(this.state.recommendationEntries.length){var xa=[],ya=[];this.state.recommendationEntries.forEach(function(za){xa.push(za.getUniqueID());ya.push(za.getTitle());});ua.recommendationIDs=xa;if(ya.length)ua.visibleValue+=' \u2014 '+ya.join(', ');}this.setState({isLoadingPhoto:false,isRecommending:false,attachedPhoto:null,attachedSticker:null,recommendationEntries:[]});ua.attachedPhoto=this.props.contextArgs.attachedphoto;ua.attachedSticker=this.props.contextArgs.attachedsticker;}else{ua.attachedPhoto=null;ua.attachedSticker=null;}this.props.onCommentSubmit(ua,event);return true;},_cancelCurrentSubscriptions:function(){if(this._subscriptions)this._subscriptions.forEach(function(ua){ua.unsubscribe();});},componentWillMount:function(){this._isOnBeforeUnloadListenerAdded=false;this._storyInsertionBlocker=u.registerBlocker(function(){return this.state.isCommenting;}.bind(this));if(this.props.contextArgs.canaddrecommendation)i.loadModules(["BroadcastRequestTokenizer.react","BroadcastRequestParam","WebAsyncSearchSource","XBroadcastRequestSearchSourceControllerURIBuilder"],function(ua,va,wa,xa){var ya=new xa().setString(va.SOURCE_OBJ_ID,this.props.contextArgs.ftentidentifier).getURI(),za=new wa({bootstrapRequests:[{uri:ya}],getAllForEmptyQuery:true,queryRequests:[{uri:ya}]});this.setState({broadcastRequestTokenizer:ua,searchSource:za});}.bind(this));},componentWillUnmount:function(){this._cancelCurrentSubscriptions();this._storyInsertionBlocker&&this._storyInsertionBlocker.unsubscribe();this._storyInsertionBlocker=null;},focus:function(){var ua={isCommenting:true};if(this.props.allowStickerAttachments&&da.shouldShowStickerNUX){var va=new ha().setString('key','sticker_comments').setBool('seen',true).getURI();new h(va).send();if(this.state.renderStickerNUX===null)i.loadModules(["XUIAmbientNUX.react"],function(wa){ua.renderStickerNUX=function(){return {ambientNUX:w.createElement(wa,{contextRef:"sticker_button",shown:this.state.stickerNUXVisible,position:"above",width:"auto",alignment:"right",onCloseButtonClick:this._hideStickerNUX},"\u0e02\u0e13\u0e30\u0e19\u0e35\u0e49\u0e04\u0e38\u0e13\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e14\u0e49\u0e27\u0e22\u0e2a\u0e15\u0e34\u0e01\u0e40\u0e01\u0e2d\u0e23\u0e4c\u0e44\u0e14\u0e49\u0e41\u0e25\u0e49\u0e27!")};}.bind(this);}.bind(this));da.shouldShowStickerNUX=false;ua.stickerNUXVisible=true;}this.setState(ua);},renderLayers:function(){return !this.state.renderStickerNUX?{}:this.state.renderStickerNUX();},render:function(){var ua=!this.props.contextArgs.collapseaddcomment||this.state.isCommenting,va=null;if(this.props.subtitle){va=w.createElement(w.DOM.span,{className:oa},this.props.subtitle);}else if(this.props.isEditing){va=w.createElement(w.DOM.span,{className:oa},ja._("\u0e01\u0e14 Esc \u0e40\u0e1e\u0e37\u0e48\u0e2d{cancel}",[ja.param("cancel",w.createElement(t,{onClick:this.props.onCancel},"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"))]));}else if(this.props.showSendOnEnterTip)va=w.createElement(w.DOM.span,{className:oa},"\u0e01\u0e14 Enter \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e42\u0e1e\u0e2a\u0e15\u0e4c");var wa=null,xa=null,ya=this.state.attachedPhoto||this.state.attachedSticker,za=null;if(this.props.allowStickerAttachments&&!ya){var ab=this.props.isEditing?this._prepareForAttachedStickerPreview:this.onStickerSelected;xa=w.createElement(fa,{ref:"sticker_button",onStickerSelected:ab,onEmoticonSelected:this._insertEmoticonIntoCommentText});}if(this.props.allowPhotoAttachments){za=this._onPaste;var bb=ya?"UFICommentPhotoAttachedIcon":"UFICommentPhotoIcon",cb="UFIPhotoAttachLinkWrapper _m";wa=w.createElement(w.DOM.div,{ref:"PhotoInputContainer",className:cb,'data-hover':"tooltip",'data-tooltip-alignh':"center",'aria-label':"\u0e41\u0e19\u0e1a\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e"},w.createElement(w.DOM.i,{ref:"PhotoInputControl",className:bb}));}var db=ba.getTrackingInfo(ba.types.ADD_COMMENT_BOX),eb=ka(ca.ACTOR_IMAGE,((!ua?"hidden_elem":''))),fb=w.createElement(w.DOM.div,{className:"UFIReplyActorPhotoWrapper",onClick:this.focus},w.createElement(w.DOM.img,{className:eb,src:this.props.viewerActor.thumbSrc,alt:this.props.viewerActor.name})),gb=ka(ca.ROW,((this.props.hide?"noDisplay":'')+(' '+"UFIComponent")+(' '+"UFIAddComment")+(this.props.allowPhotoAttachments?' '+"UFIAddCommentWithPhotoAttacher":'')+(this.props.withoutSeparator?' '+"UFIAddCommentWithoutSeparator":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),hb;if(!!this.props.replyCommentID){hb=na;}else if(this.props.isQAndA){hb="\u0e16\u0e32\u0e21\u0e04\u0e33\u0e16\u0e32\u0e21...";}else hb=ma;var ib=this.props.contextArgs.viewoptionstypeobjects,jb=this.props.contextArgs.viewoptionstypeobjectsorder,kb=null;if(this.state.attachedSticker){var lb=this._getScaledDimensions(ya.metadata.height,ya.metadata.width);kb=w.createElement(aa,{animationTrigger:"load_and_hover",frameCount:ya.metadata.frameCount,framesPerCol:ya.metadata.framesPerCol,framesPerRow:ya.metadata.framesPerRow,spriteURI:ya.metadata.sprite_uri,sourceHeight:lb.height,sourceURI:ya.metadata.source_uri,sourceWidth:lb.width});}else if(this.state.attachedPhoto){var mb=ya.markupPreview;if(q.isHTML(mb.markup))mb=q.replaceJSONWrapper(mb.markup).getRootNode();kb=w.createElement(m,null,mb);if(!this.props.subtitle)va=null;}else if(this.state.isLoadingPhoto)kb=w.createElement(v,{color:"white",className:"UFICommentPhotoAttachedPreviewLoadingIndicator",size:"medium"});var nb,ob=this.state.attachedPhoto?this._onRemoveAttachedPhotoPreviewClicked:this._onRemoveAttachedStickerPreviewClicked;if(kb!=null){var pb=null;if(this.state.attachedSticker){pb="Remove Sticker";}else if(this.state.attachedPhoto)pb="\u0e25\u0e1a\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e";nb=w.createElement(w.DOM.div,{className:"UFICommentPhotoAttachedPreview pas"},kb,w.createElement(k,{tooltip:pb,onClick:ob}));}var qb=this.props.allowStickerAttachments?ka("UFIMentionsInputWrap","UFIStickersEnabledInput"):"UFIMentionsInputWrap",rb,sb,tb;if(this.props.contextArgs.mentionsinput){var ub=this.props.contextArgs.mentionsinput;rb=ub.inputComponent;sb=ub.viewComponent;tb=ub.viewProps;}else rb=s;var vb=null;if(this.props.contextArgs.canaddrecommendation)if(this.state.broadcastRequestTokenizer){var wb=this.state.broadcastRequestTokenizer;vb=(w.createElement(wb,{active:this.state.isRecommending,entries:this.state.recommendationEntries,onBlur:this._onRecommendationInputBlur,onSubmitAttempt:this._onRecommendationTokenizerSubmit,onTokenChange:this._onRecommendationTokenizerUpdate,onTriggerClick:this._onRecommendationTriggerClick,placeHolder:this.props.contextArgs.broadcastrequestplaceholder,searchSource:this.state.searchSource,sourceID:this.props.contextArgs.ftentidentifier}));}return (w.createElement(w.DOM.li,{className:gb,onKeyDown:this._onKeyDown,'data-ft':db},w.createElement(ea,{className:qb},fb,w.createElement(w.DOM.div,{className:"UFICommentContainer"},w.createElement(w.DOM.div,{className:"UFIInputContainer"},w.createElement(rb,{replyCommentID:this.props.replyCommentID,initialData:this.props.initialData,placeholder:hb,datasource:this.props.mentionsDataSource,ref:"mentionsinput",viewComponent:sb,viewProps:tb,viewOptionsTypeObjects:ib,viewOptionsTypeObjectsOrder:jb,hashtags:this.props.contextArgs.sht,autoflip:this.props.contextArgs.addcommentautoflip,onEnterSubmit:this._onEnterSubmit,onFocus:this.focus,onBlur:this._blur,onTypingStateChange:this.props.onTypingStateChange,onPaste:za}),w.createElement(w.DOM.div,{className:"UFICommentAttachmentButtons clearfix"},wa,xa)),nb,vb,va))));},_onRecommendationInputBlur:function(){if(!this.state.recommendationEntries.length)this.setState({isRecommending:false});},_onRecommendationTokenizerSubmit:function(event){this.refs.mentionsinput.submitComment(event);},_onRecommendationTokenizerUpdate:function(ua){this.setState({recommendationEntries:ua});},_onRecommendationTriggerClick:function(){this.setState({isRecommending:true});},componentDidUpdate:function(ua,va,wa){if(!va.attachedPhoto&&this.state.attachedPhoto||!va.attachedSticker&&this.state.attachedSticker)this.refs.mentionsinput.focus();if(ua.viewerActor.id!==this.props.viewerActor.id){if(this.state.fileInput)this.state.fileInput.clear();if(this.state.fileUploader)this.state.fileUploader.setData(this._getPhotoUploadData());this._onRemoveAttachedPhotoPreviewClicked();}},componentDidMount:function(){if(!this.props.allowPhotoAttachments)return;var ua=this.refs.PhotoInputContainer.getDOMNode(),va=this.refs.PhotoInputControl.getDOMNode(),wa="\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e44\u0e1f\u0e25\u0e4c\u0e17\u0e35\u0e48\u0e08\u0e30\u0e2d\u0e31\u0e1e\u0e42\u0e2b\u0e25\u0e14",xa=l.create('input',{accept:'image/*',className:"_n",name:'file',type:'file',title:wa,'aria-label':wa});l.appendContent(va,xa);var ya=o.listen(ua,'click',function(event){i.loadModules(["FileInput","FileInputUploader","Input"],function(za,ab,bb){var cb=new za(ua,va,xa),db=new ab(undefined,ua).setURI(qa).setData(this._getPhotoUploadData());cb.subscribe('change',function(event){if(cb.getValue()){this._prepareForAttachedPhotoPreview();db.setInput(cb.getInput()).send();}}.bind(this));db.subscribe('success',function(eb,fb){cb.clear();this._onPhotoUploadComplete(fb.response);}.bind(this));db.subscribe('failure',function(eb,fb){cb.clear();this._onPhotoUploadComplete(fb.response);}.bind(this));p.setWithoutOutline(va);this.setState({fileInput:cb,fileUploader:db});}.bind(this));ya.remove();}.bind(this));},insertMention:function(ua){if(this.refs.mentionsinput&&this.refs.mentionsinput.insertMention)this.refs.mentionsinput.insertMention(ua);},_getScaledDimensions:function(ua,va){var wa,xa,ya;if(va>ua){ya=ra/va;wa=ua*ya;xa=va*ya;}else{ya=ra/ua;wa=ua*ya;xa=va*ya;}return {height:Math.round(wa),width:Math.round(xa)};},_getPhotoUploadData:function(){var ua=this.props.viewerActor.id,va={profile_id:ua,target_id:this.props.targetID,source:pa};va[g.PARAMETER_ACTOR]=ua;return va;},_onPhotoUploadComplete:function(ua){if(!this.state.isLoadingPhoto)return;var va=ua.getPayload();if(va&&va.fbid){this.props.contextArgs.attachedphoto=va;this.setState({attachedPhoto:va,isLoadingPhoto:false});}else this._onRemoveAttachedPhotoPreviewClicked(null);},_onRemoveAttachedPhotoPreviewClicked:function(event){this.props.contextArgs.attachedphoto=null;this.setState({attachedPhoto:null,isLoadingPhoto:false});},_prepareForAttachedPhotoPreview:function(){this.props.contextArgs.attachedphoto=null;this.setState({attachedPhoto:null,isLoadingPhoto:true});},_onStickerUploadComplete:function(ua){if(!this.state.isLoadingPhoto)return;var va=ua.getPayload();if(va&&va.fbid){this.props.contextArgs.attachedsticker=va;this.setState({attachedSticker:va,isLoadingPhoto:false});}else{i.loadModules(["Dialog"],function(wa){var xa="Sticker Failed",ya="There was a problem attaching the sticker.";new wa().setTitle(xa).setBody(ya).setButtons(wa.OK).show();});this._onRemoveAttachedStickerPreviewClicked(null);}},_onRemoveAttachedStickerPreviewClicked:function(event){this.props.contextArgs.attachedsticker=null;this.setState({attachedSticker:null,isLoadingPhoto:false});},_prepareForAttachedStickerPreview:function(ua){this.props.contextArgs.attachedsticker=null;this.setState({attachedSticker:null,isLoadingPhoto:true});new h(sa).setData({sticker_id:ua}).setErrorHandler(this._onRemoveAttachedStickerPreviewClicked).setHandler(this._onStickerUploadComplete).send();},onStickerSelected:function(ua,event){var va={encodedValue:'',visibleValue:''};this.props.contextArgs.attachedsticker={fbid:ua};this.props.onCommentSubmit(va,event);},_insertEmoticonIntoCommentText:function(ua){i.loadModules(["EmoticonsList","EmoticonUtils","TextAreaControl","SelectionPosition"],function(va,wa,xa,ya){var za=va.symbols[ua];if(!za)return;if(this.props.contextArgs.mentionsinput){this.refs.mentionsinput.insertEmoticon(za);return;}if(!this._selectionPosition)this._selectionPosition=new ya(this.refs.mentionsinput.refs.textarea.getDOMNode());var ab=this.refs.mentionsinput.refs.textarea.getDOMNode(),bb=xa.getInstance(ab),cb=bb.getValue(),db=wa.insertEmoticon(za,cb,this._selectionPosition.getPos());bb.setValue(db.result);this._selectionPosition.setPos(db.start,db.end);}.bind(this));},_hideStickerNUX:function(){this.setState({stickerNUXVisible:false});}});e.exports=ta;},null);
__d("UFIAddCommentController",["Arbiter","copyProperties","MentionsInputUtils","Parent","UFIAddComment.react","React","ShortProfiles","UFICentralUpdates","UFIComments","UFIFeedbackTargets","UFIInstanceState","UFIUserActions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){function s(t,u,v,w){this.id=u;this._ufiInstanceID=w.instanceid;this._contextArgs=w;this._replyCommentID=v;if(t){this.root=t;if(!this._contextArgs.rootid)this._contextArgs.rootid=t.id;this.render();n.subscribe('instance-updated',function(x,y){var z=y.updates;if(this._ufiInstanceID in z)this.render();}.bind(this));n.subscribe('feedback-updated',function(x,y){var z=y.updates;if(this.id in z)this.render();}.bind(this));}n.subscribe('feedback-id-changed',function(x,y){var z=y.updates;if(this.id in z)this.id=z[this.id];}.bind(this));}h(s.prototype,{_onCommentSubmit:function(t,event){r.addComment(this.id,t.visibleValue,t.encodedValue,{source:this._contextArgs.source,ufiinstanceid:this._ufiInstanceID,target:event.target,replyid:this._replyCommentID,timelinelogdata:this._contextArgs.timelinelogdata,rootid:this._contextArgs.rootid,attachedphoto:this._contextArgs.attachedphoto,attachedsticker:this._contextArgs.attachedsticker,giftoccasion:this._contextArgs.giftoccasion,recommendationIDs:t.recommendationIDs});this._contextArgs.attachedphoto=null;this._contextArgs.attachedsticker=null;p.getFeedbackTarget(this.id,function(u){var v=j.byTag(this.root,'form');if(v)g.inform('ufi/comment',{form:v,isranked:u.isranked});}.bind(this));return false;},_onTypingStateChange:function(t,u){},renderAddComment:function(t,u,v,w,x,y,z,aa,ba,ca){var da=this._contextArgs.logtyping?this._onTypingStateChange.bind(this):null,ea=null,fa=q.getKeyForInstance(this._ufiInstanceID,'isediting')&&!this._replyCommentID;return (l.createElement(k,{hide:fa,replyCommentID:this._replyCommentID,viewerActor:t,targetID:u,initialData:ea,ref:x,withoutSeparator:y,onCommentSubmit:this._onCommentSubmit.bind(this),mentionsDataSource:v,onTypingStateChange:da,showSendOnEnterTip:w,allowPhotoAttachments:aa,allowStickerAttachments:ba,source:this._contextArgs.source,contextArgs:this._contextArgs,subtitle:z,isQAndA:ca}));},renderEditComment:function(t,u,v,w,x,y,z,aa,ba){var ca=o.getComment(v),da;if(ca.attachment)da=ca.attachment.type=='sticker'?ca.attachment:null;var ea=i.generateDataFromTextWithEntities(ca.body);return (l.createElement(k,{viewerActor:t,targetID:u,initialData:ea,onCommentSubmit:x,onCancel:y,mentionsDataSource:w,source:this._contextArgs.source,contextArgs:this._contextArgs,isEditing:true,editingCommentID:v,attachedPhoto:ca.photo_comment,attachedSticker:da,allowPhotoAttachments:z,allowStickerAttachments:aa,isQAndA:ba}));},render:function(){if(!this.root)throw new Error('render called on UFIAddCommentController with no root');p.getFeedbackTarget(this.id,function(t){if(t.cancomment&&t.actorforpost)m.get(t.actorforpost,function(u){var v=this.renderAddComment(u,t.ownerid,t.mentionsdatasource,t.showsendonentertip,null,null,t.subtitle,t.allowphotoattachments,t.allowstickerattachments,t.isqanda);this._addComment=l.renderComponent(v,this.root);}.bind(this));}.bind(this));}});e.exports=s;},null);
__d("UFIAddCommentLink.react",["React","UFIClassNames","cx","fbt","joinClasses","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=g.createClass({displayName:'UFIAddCommentLink',propTypes:{'data-ft':g.PropTypes.string,isFirstCommentComponent:g.PropTypes.bool,isFirstComponent:g.PropTypes.bool,isLastCommentComponent:g.PropTypes.bool,isLastComponent:g.PropTypes.bool,isQAndA:g.PropTypes.bool,onClick:g.PropTypes.func},render:function(){var n=k(h.ROW,(("UFIAddCommentLink")+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),o;if(this.props.isQAndA){o="\u0e16\u0e32\u0e21\u0e04\u0e33\u0e16\u0e32\u0e21...";}else o="\u0e40\u0e02\u0e35\u0e22\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19";return (g.createElement(g.DOM.li,{className:n,'data-ft':this.props['data-ft']},g.createElement(g.DOM.a,{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},o)));}});e.exports=m;},null);
__d("URITruncator",["URI","tx"],function(a,b,c,d,e,f,g,h){var i=3;function j(k,l){var m="...",n=m.length;if(!k||l===undefined||k.length<=l||l<=n||k.toString().length<=n)return k;if(!g.isValidURI(k))return k.substring(0,l-n)+m;var o=new g(k),p=o.getOrigin();if(p.length>l-n)return p.substring(0,l-n)+m;var q=false;if(!!o.getFragment()){q=true;o.setFragment('');if(o.toString().length<=l-n)return o.toString()+m;}var r=o.getQueryData();if(r){var s=Object.keys(r);if(s.length>0){q=true;for(var t=s.length-1;t>=0;t--){o.removeQueryData(s[t]);if(o.toString().length<=l-n)return o.toString()+m;}}}var u=o.getPath()+(q?m:''),v=u.split('/'),w=(p.length+u.length)-l,x=0;while(w>0&&v.length>x+1){var y=x+1,z=v[y];if(w+n+i<=z.length){var aa=z.length-1,ba=z.length-w-n,ca=/[a-zA-Z0-9]/;w+=n;while(w>0){while(aa>0&&ca.test(z[aa])){aa--;w--;}while(aa>0&&!ca.test(z[aa])){aa--;w--;}}if(aa===0)aa=ba-1;v[y]=z.substring(0,aa+1)+m;}else{x++;w-=z.length;if(x===1){w+=n;}else w--;}}if(x>0){if(v[v.length-1].length===0&&v.length===x+2)x++;v.splice(1,x,m);}var da=p+v.join('/');if(da.length>l)da=da.substring(0,l-n)+m;return da;}e.exports=j;},null);
__d("HovercardLinkInterpolator",["HovercardLink","Link.react","React","URI","URITruncator","WWWBase","cx","isRTL"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(p,q,r,s,t,u){var v=q.entity,w=r||(v.external?'_blank':null),x,y=((!v.external?"profileLink":'')+(v.weakreference?' '+"weakReference":'')),z,aa=v.hashtag?p.substring(1):p;z=n(aa)?'rtl':'ltr';if(v.hashtag){var ba=new j(v.url).setDomain(new j(l.uri).getDomain());x=i.createElement(i.DOM.a,{className:"_58cn",dir:z,href:ba.toString()},i.createElement(i.DOM.span,{className:"_58cl"},p.substring(0,1)),i.createElement(i.DOM.span,{className:"_58cm"},p.substring(1)));}else if(v.weakreference){x=i.createElement(h,{className:y,dir:z,href:v,target:w},i.createElement(i.DOM.i,{className:"UFIWeakReferenceIcon"}),p);}else{if(u&&v.external)p=k(p,u);x=i.createElement(h,{className:y,dir:z,href:v,target:w},p);}if(!v.external&&!v.hashtag&&!v.photo)x.props['data-hovercard']=g.constructEndpointWithGroupAndLocation(v,s,t).toString();return x;}e.exports=o;},null);
__d("SeeMore.react",["React","cx","tx"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:'SeeMore',getInitialState:function(){return {isCollapsed:true};},handleClick:function(){this.setState({isCollapsed:false});},render:function(){var k=this.state.isCollapsed,l=k?g.createElement(g.DOM.span,{className:"_5uzb"},"..."):null,m=this.props.children[0],n=k?null:g.createElement(g.DOM.span,null,this.props.children[1]),o=!k?null:g.createElement(g.DOM.a,{className:"_5v47 fss",onClick:this.handleClick,href:"#",role:"button"},"\u0e14\u0e39\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21");return (g.createElement(g.DOM.span,{className:this.props.className},m,l,o,n));}});e.exports=j;},null);
__d("findSplitPointForText",[],function(a,b,c,d,e,f){function g(h,i,j){var k=null,l=h.split('\n');if(i&&h.length>i)k=i;if(j&&l.length>j){var m=l.slice(0,j).join('\n').length;if(k!==null){k=Math.min(m,k);}else k=m;}return k;}e.exports=g;},null);
__d("TruncatedTextWithEntities.react",["React","TextWithEntities.react","SeeMore.react","findSplitPointForText","partitionTextAndRanges"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.createClass({displayName:'TruncatedTextWithEntities',render:function(){var m=this.props.text||'',n=this.props.ranges||[];m=m.replace(/\s*$/,'');var o=this.props.maxLines,p=this.props.maxLength;if(p&&m.length>p){var q=this.props.truncationPercent||.6;p=Math.floor(q*p);}var r=j(m,p,o);if(r!==null){while(m[r-1]==='\n')r--;var s=k(m,n,r);return (g.createElement(g.DOM.span,{'data-ft':this.props['data-ft'],dir:this.props.dir},g.createElement(i,{className:this.props.className},g.createElement(h,{interpolator:this.props.interpolator,ranges:s.before.ranges,aggregatedRanges:this.props.aggregatedRanges,text:s.before.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}),g.createElement(h,{interpolator:this.props.interpolator,ranges:s.after.ranges,aggregatedRanges:this.props.aggregatedRanges,text:s.after.text,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji}))));}else return (g.createElement(g.DOM.span,{'data-ft':this.props['data-ft'],dir:this.props.dir},g.createElement(h,{className:this.props.className,interpolator:this.props.interpolator,ranges:n,imageRanges:this.props.imageRanges,aggregatedRanges:this.props.aggregatedRanges,text:m,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji})));}});e.exports=l;},null);
__d("UFIActor.react",["Badge.react","Focus","HovercardLink","Locale","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=" \u00b7 ",n=k.createClass({displayName:'UFIActor',propTypes:{author:k.PropTypes.object.isRequired,'data-ft':k.PropTypes.string,focusOnMount:k.PropTypes.bool,showHovercard:k.PropTypes.bool},componentDidMount:function(){if(this.props.focusOnMount)h.setWithoutOutline(this.refs.authorName.getDOMNode());},render:function(){var o=this.props.author,p=j.isRTL()?'rtl':'ltr',q=o.uri?k.createElement(k.DOM.a,{className:"UFICommentActorName",'data-hovercard':this.props.showHovercard?i.constructEndpointWithLocation(o,'ufi').toString():null,'data-ft':this.props['data-ft'],dir:p,href:o.uri,ref:"authorName"},o.name):k.createElement(k.DOM.span,{className:"UFICommentActorName",dir:p,ref:"authorName"},o.name);return (k.createElement(k.DOM.span,null,q,k.Children.map(this.props.children,function(r){return r?[r.type==g.type?"":m,r]:null;})));}});e.exports=n;},null);
__d("UFICommentLikeCount.react",["NumberFormat","ProfileBrowserLink","ProfileBrowserTypes","React","URI","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=function(o,p){var q=new k('/ajax/like/tooltip.php').setQueryData({comment_fbid:o.fbid,comment_from:o.author,comment_likecount:o.likecount||0,comment_id:o.id,cache_buster:o.likeconfirmhash||0});if(p)q.addQueryData({viewas:p});return q;},n=j.createClass({displayName:'UFICommentLikeCount',propTypes:{comment:j.PropTypes.object.isRequired,contextArgs:j.PropTypes.object.isRequired},render:function(){var o=this.props.comment,p=g.formatIntegerWithDelimiter(o.likecount||0,this.props.contextArgs.numberdelimiter),q=i.LIKES,r={id:o.fbid},s=m(this.props.comment,this.props.contextArgs.viewas),t=j.createElement(j.DOM.i,{className:"UFICommentLikeIcon"}),u=j.createElement(j.DOM.span,null,p),v=(("UFICommentLikeButton")+(this.props.comment.hasviewerliked?' '+"UFICommentLikedButton":''));return (j.createElement(j.DOM.a,{ajaxify:h.constructDialogURI(q,r).toString(),className:v,'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':s.toString(),href:h.constructPageURI(q,r).toString(),rel:"dialog",role:"button"},t,u));}});e.exports=n;},null);
__d("HelpLink.react",["React","joinClasses","TooltipLink.react"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:'HelpLink',render:function(){return (g.createElement(i,Object.assign({},this.props,{className:h(this.props.className,"uiHelpLink mls")}),undefined));}});e.exports=j;},null);
__d("UFICreatorInfo.react",["HelpLink.react","React","URI","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=h.createClass({displayName:'UFICreatorInfo',propTypes:{creatorID:h.PropTypes.number.isRequired,creatorType:h.PropTypes.string.isRequired,creatorName:h.PropTypes.string.isRequired,labelType:h.PropTypes.string.isRequired,pageID:h.PropTypes.number.isRequired,profileURI:h.PropTypes.string},render:function(){var m,n=this.getCreatorLink();switch(this.props.labelType){case 'commented':m=k._("\u0e41\u0e2a\u0e14\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e42\u0e14\u0e22 {creator}",[k.param("creator",n)]);break;case 'edited_comment':m=k._("\u0e41\u0e01\u0e49\u0e44\u0e02\u0e42\u0e14\u0e22 {creator}",[k.param("creator",n)]);break;case 'sent_message':m=k._("\u0e2a\u0e48\u0e07\u0e42\u0e14\u0e22 {creator}",[k.param("creator",n)]);break;default:return;}return (h.createElement(h.DOM.span,null,m,h.createElement(g,{tooltip:this.getHelpText()})));},getCreatorLink:function(){switch(this.props.creatorType){case 'application':case 'gray_account':case 'indirect_admin':return (h.createElement(h.DOM.a,{className:"uiLinkSubtle",'aria-label':this.getTooltipText(),'data-hover':"tooltip"},this.props.creatorName));case 'business_admin':return (h.createElement(h.DOM.a,{className:"uiLinkSubtle",href:this.props.profileURI},this.props.creatorName));case 'direct_admin':return this.getProfileLinkWithHovercard();case 'former_admin':return (h.createElement(h.DOM.span,{className:"uiLinkSubtle"},h.createElement(h.DOM.img,{src:"/images/privacy/cant-see.png",width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard()));default:return (h.createElement(h.DOM.span,{className:"uiLinkSubtle"},this.props.creatorName));}},getTooltipText:function(){switch(this.props.creatorType){case 'application':return this.getApplicationText();case 'gray_account':return this.getGrayAccountText();case 'indirect_admin':return this.getIndirectAdminText();}},getProfileLinkWithHovercard:function(){if(!this.props.profileURI)return h.createElement(h.DOM.span,null,this.props.creatorName);var m=new i('/ajax/hovercard/user.php').setQueryData({id:this.props.creatorID}).addQueryData({type:'page_admin',extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return (h.createElement(h.DOM.a,{className:"uiLinkSubtle",'data-hovercard':m,href:this.props.profileURI},this.props.creatorName));},getApplicationText:function(){switch(this.props.labelType){case 'commented':return (k._("\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e19\u0e35\u0e49\u0e40\u0e1b\u0e47\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49 {application}",[k.param("application",this.props.creatorName)]));case 'edited_comment':return (k._("\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e19\u0e35\u0e49\u0e41\u0e01\u0e49\u0e44\u0e02\u0e42\u0e14\u0e22\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49 {application}",[k.param("application",this.props.creatorName)]));case 'sent_message':return (k._("\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e19\u0e35\u0e49\u0e2a\u0e48\u0e07\u0e42\u0e14\u0e22\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49 {application}",[k.param("application",this.props.creatorName)]));}},getIndirectAdminText:function(){switch(this.props.labelType){case 'commented':return (k._("\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e19\u0e35\u0e49\u0e40\u0e1b\u0e47\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e21\u0e32\u0e08\u0e32\u0e01 {page}",[k.param("page",this.props.creatorName)]));case 'edited_comment':return (k._("\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e19\u0e35\u0e49\u0e41\u0e01\u0e49\u0e44\u0e02\u0e42\u0e14\u0e22\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e21\u0e32\u0e08\u0e32\u0e01 {page}",[k.param("page",this.props.creatorName)]));case 'sent_message':return (k._("\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e19\u0e35\u0e49\u0e16\u0e39\u0e01\u0e2a\u0e48\u0e07\u0e42\u0e14\u0e22\u0e1a\u0e38\u0e04\u0e04\u0e25\u0e08\u0e32\u0e01 {page}",[k.param("page",this.props.creatorName)]));}},getGrayAccountText:function(){switch(this.props.labelType){case 'commented':return ("\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e19\u0e35\u0e49\u0e40\u0e1b\u0e47\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49 Facebook \u0e2a\u0e48\u0e27\u0e19\u0e1a\u0e38\u0e04\u0e04\u0e25");case 'edited_comment':return ("\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e19\u0e35\u0e49\u0e41\u0e01\u0e49\u0e44\u0e02\u0e42\u0e14\u0e22\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49 Facebook \u0e2a\u0e48\u0e27\u0e19\u0e1a\u0e38\u0e04\u0e04\u0e25");case 'sent_message':return ("\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e19\u0e35\u0e49\u0e16\u0e39\u0e01\u0e2a\u0e48\u0e07\u0e42\u0e14\u0e22\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e44\u0e21\u0e48\u0e21\u0e35\u0e1a\u0e31\u0e0d\u0e0a\u0e35\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49 Facebook \u0e2a\u0e48\u0e27\u0e19\u0e1a\u0e38\u0e04\u0e04\u0e25");}},getHelpText:function(){switch(this.props.labelType){case 'commented':return ("\u0e40\u0e09\u0e1e\u0e32\u0e30\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e40\u0e1e\u0e08\u0e19\u0e35\u0e49\u0e08\u0e30\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e2b\u0e47\u0e19\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19");case 'edited_comment':return ("\u0e40\u0e09\u0e1e\u0e32\u0e30\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e40\u0e1e\u0e08\u0e19\u0e35\u0e49\u0e08\u0e30\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e2b\u0e47\u0e19\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e41\u0e01\u0e49\u0e44\u0e02\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19");case 'sent_message':return ("\u0e40\u0e09\u0e1e\u0e32\u0e30\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e40\u0e1e\u0e08\u0e19\u0e35\u0e49\u0e40\u0e17\u0e48\u0e32\u0e19\u0e31\u0e49\u0e19\u0e17\u0e35\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e40\u0e2b\u0e47\u0e19\u0e1c\u0e39\u0e49\u0e17\u0e35\u0e48\u0e2a\u0e48\u0e07\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21");}}});e.exports=l;},null);
__d("UFICommentMetadata.react",["Bootloader","React","Timestamp.react","TrackingNodes","UFIConstants","URI","UFICreatorInfo.react","cx","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";var p=k.UFIStatus,q=' \u00b7 ',r="UFIFailureMessageIcon",s="UFIFailureMessage",t="uiLinkSubtle",u=function(w){var x=w.status;return x===p.FAILED_ADD||x===p.FAILED_EDIT;},v=h.createClass({displayName:'UFICommentMetadata',propTypes:{comment:h.PropTypes.object.isRequired,onRetrySubmit:h.PropTypes.func,permalink:h.PropTypes.string,shortenTimestamp:h.PropTypes.bool,showPermalink:h.PropTypes.bool},render:function(){var w=this.props.comment,x=this.props.permalink,y=this.props.onRetrySubmit,z,aa;if(u(w)){z=[h.createElement(h.DOM.span,{key:"failure",className:s},h.createElement(h.DOM.i,{className:r}),"\u0e44\u0e21\u0e48\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e42\u0e1e\u0e2a\u0e15\u0e4c\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e44\u0e14\u0e49"),w.allowRetry&&y?[' ',h.createElement(h.DOM.a,{key:"rety-submit",onClick:y,href:"#",role:"button"},"\u0e25\u0e2d\u0e07\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07")]:null];}else{var ba=this.props.showPermalink?x:null,ca=j.getTrackingInfo(j.types.SOURCE);aa=h.createElement(h.DOM.a,{key:"timestamp-message",className:t,href:ba,'data-ft':ca},h.createElement(i,{shorten:this.props.shortenTimestamp,time:w.timestamp.time,text:w.timestamp.text,verbose:w.timestamp.verbose}));}var da=null;if(w.originalTimestamp){var ea=new l('/ajax/edits/browser/comment').addQueryData({comment_token:w.id}).toString();da=[q,h.createElement(h.DOM.a,{ajaxify:ea,'aria-label':"\u0e41\u0e2a\u0e14\u0e07\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02",className:"uiLinkSubtle",'data-hover':"tooltip",href:"#",key:"edit-link",ref:"EditLink",rel:"dialog",role:"button",title:"\u0e41\u0e2a\u0e14\u0e07\u0e1b\u0e23\u0e30\u0e27\u0e31\u0e15\u0e34\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02"},"\u0e17\u0e35\u0e48\u0e16\u0e39\u0e01\u0e41\u0e01\u0e49\u0e44\u0e02")];}var fa=null;if(w.creator_data)fa=[h.createElement(m,{creatorID:w.creator_data.creatorID,creatorType:w.creator_data.creatorType,creatorName:w.creator_data.creatorName,labelType:w.creator_data.labelType,pageID:w.creator_data.pageID,profileURI:w.creator_data.profileURI}),q];return (h.createElement(h.DOM.span,null,fa,aa,z,da));},componentWillUpdate:function(w){var x=this.props.comment,y=w.comment;if(!x.editnux&&!!y.editnux)g.loadModules(["LegacyContextualDialog"],function(z){var aa=new z();aa.init(y.editnux).setContext(this.refs.EditLink.getDOMNode()).setWidth(300).setPosition('below').show();}.bind(this));}});e.exports=v;},null);
__d("UFIReplyLink.react",["React","tx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:'UFIReplyLink',propTypes:{onClick:g.PropTypes.func},render:function(){return (g.createElement(g.DOM.a,{className:"UFIReplyLink",href:"#",onClick:this.props.onClick},"\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a"));}});e.exports=i;},null);
__d("UFISpamCount",["UFISpamCountImpl"],function(a,b,c,d,e,f){e.exports=b('UFISpamCountImpl').module||{enabled:false};},null);
__d("UFICommentActions.react",["React","TrackingNodes","UFICommentLikeCount.react","UFICommentMetadata.react","UFIConstants","UFIReplyLink.react","UFISpamCount","cx","fbt","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";var q=k.UFIStatus,r=' \u00b7 ',s="fsm fwn fcg UFICommentActions",t="UFIDeletedMessageIcon",u="UFIDeletedMessage",v=g.createClass({displayName:'UFICommentActions',propTypes:{comment:g.PropTypes.object.isRequired,contextArgs:g.PropTypes.object.isRequired,feedback:g.PropTypes.object.isRequired,hideAsSpamForPageAdmin:g.PropTypes.bool,markedAsSpamHere:g.PropTypes.bool,onAlsoRecommendToggle:g.PropTypes.func,onCommentLikeToggle:g.PropTypes.func,onCommentReply:g.PropTypes.func,onMarkAsNotSpam:g.PropTypes.func,onPreviewRemove:g.PropTypes.func,onRetrySubmit:g.PropTypes.func,permalink:g.PropTypes.string,shortenTimestamp:g.PropTypes.bool,showPermalink:g.PropTypes.bool,showReplyLink:g.PropTypes.bool,viewerCanMarkNotSpam:g.PropTypes.bool},render:function(){var w=this.props,x=w.comment,y=w.permalink,z=w.feedback,aa=w.markedAsSpamHere,ba=x.status===q.SPAM_DISPLAY,ca=w.showReplyLink,da=w.hideAsSpamForPageAdmin,ea,fa,ga,ha,ia,ja,ka,la=!x.islocal&&x.status!==q.LIVE_DELETED;if(la){if(ba&&!aa){if(w.viewerCanMarkNotSpam)ea=g.createElement(g.DOM.a,{onClick:w.onMarkAsNotSpam,className:"UFICommentNotSpamLink",href:"#",role:"button"},"\u0e40\u0e25\u0e34\u0e01\u0e0b\u0e48\u0e2d\u0e19");if(da&&z.isthreaded&&x.cancomment&&ca)ia=g.createElement(l,{comment:x,onClick:w.onCommentReply,contextArgs:w.contextArgs});}else{if(x.viewercanlike){var ma=h.getTrackingInfo(x.hasviewerliked?h.types.UNLIKE_LINK:h.types.LIKE_LINK),na=x.hasviewerliked?"\u0e40\u0e25\u0e34\u0e01\u0e16\u0e39\u0e01\u0e43\u0e08\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e19\u0e35\u0e49":"\u0e16\u0e39\u0e01\u0e43\u0e08\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e19\u0e35\u0e49";fa=g.createElement(g.DOM.a,{className:"UFILikeLink",'data-ft':ma,href:"#",onClick:w.onCommentLikeToggle,role:"button",title:na},x.hasviewerliked?"\u0e40\u0e25\u0e34\u0e01\u0e16\u0e39\u0e01\u0e43\u0e08":"\u0e16\u0e39\u0e01\u0e43\u0e08");}if((this.props.contextArgs.simplereply&&this.props.feedback.cancomment)||(z.isthreaded&&x.cancomment&&ca))ia=g.createElement(l,{comment:x,contextArgs:w.contextArgs,onClick:w.onCommentReply});if(x.likecount>0)ga=g.createElement(i,{comment:x,contextArgs:w.contextArgs});if(x.spamcount&&m.enabled)ha=g.createElement(m,{count:x.spamcount});}if(w.contextArgs.canaddrecommendation&&x.hasrecommendation){var oa=("\u0e41\u0e19\u0e30\u0e19\u0e33\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e17\u0e35\u0e48\u0e41\u0e19\u0e30\u0e19\u0e33\u0e43\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e19\u0e35\u0e49\u0e40\u0e0a\u0e48\u0e19\u0e01\u0e31\u0e19");if(x.hasviewerrecommended){ka=g.createElement(g.DOM.span,null,"\u0e41\u0e19\u0e30\u0e19\u0e33\u0e41\u0e25\u0e49\u0e27");}else ka=g.createElement(g.DOM.a,{className:"UFIRecommendLink",href:"#",onClick:w.onAlsoRecommendToggle,role:"button",title:oa},"\u0e41\u0e19\u0e30\u0e19\u0e33");}if(x.attachment&&x.attachment.type=="share"&&x.canremove)ja=g.createElement(g.DOM.a,{href:"#",onClick:w.onPreviewRemove,role:"button"},"\u0e40\u0e2d\u0e32\u0e20\u0e32\u0e1e\u0e15\u0e31\u0e27\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e2d\u0e2d\u0e01");}var pa=g.createElement(j,{comment:x,onRetrySubmit:w.onRetrySubmit,permalink:y,shortenTimestamp:w.shortenTimestamp,showPermalink:w.showPermalink}),qa;if(z.isqanda){qa={likeCount:ga,spamCount:ha,likeToggle:fa,commentReply:ia,spamToggle:ea,metadata:pa,removePreview:ja};}else if(w.contextArgs.entstream){qa={metadata:pa,likeToggle:fa,likeCount:ga,alsoRecommend:ka,commentReply:ia,spamCount:ha,spamToggle:ea,removePreview:ja};}else if(z.isthreaded){qa={likeToggle:fa,commentReply:ia,spamToggle:ea,removePreview:ja,likeCount:ga,spamCount:ha,metadata:pa};}else qa={metadata:pa,likeToggle:fa,likeCount:ga,alsoRecommend:ka,spamCount:ha,commentReply:ia,spamToggle:ea,removePreview:ja};if(x.status===q.LIVE_DELETED){var ra=g.createElement(g.DOM.span,{className:u},g.createElement(g.DOM.i,{className:t,'data-hover':"tooltip",'aria-label':"\u0e25\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e41\u0e25\u0e49\u0e27"}));qa.deletionWarning=ra;}var sa=true,ta={};for(var ua in qa){var va=qa[ua];if(va){ta[ua]=sa?va:{MIDDOT:r,action:va};sa=false;}}return (g.createElement(g.DOM.div,{className:s},ta));}});e.exports=v;},null);
__d("LitestandShareAttachment",["CSS","DOM","LitestandEllipsis","csx","cx","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=16,n=22,o=20,p=5,q=3,r=2,s=2,t=5,u=5,v={init:function(z){var aa,ba,ca,da=w(z);l(function(){aa=h.scry(z,"._6m6")[0];ba=h.scry(z,"._6m7")[0];ca=x(z,aa,da);},function(){if(!ca){ba&&g.hide(ba);aa&&i.add(aa,da*y(z));}else if(ba&&ca){g.show(ba);i.add(ba,ca*m);}});},getNumDescriptionLines:function(z){return x(z,h.scry(z,"._6m6")[0],w(z));},getDescriptionLineHeight:function(){return m;}};function w(z){var aa=g.hasClass(z,"_59ap"),ba=g.hasClass(z,"_pb2"),ca=h.scry(z,"^div._4rtc").length>0,da;if(ba){da=s;}else if(ca){da=r;}else if(aa){da=q;}else da=p;return da;}function x(z,aa,ba){var ca=h.scry(z,"._6m3")[0];if(!aa||!ca)return 0;var da=h.scry(z,"._59tj")[0],ea=g.hasClass(z,"_59ap"),fa=g.hasClass(z,"_pb2"),ga=Math.round(aa.scrollHeight/y(z));if(ga>=ba&&!fa)return 0;var ha=ca.offsetHeight-t-aa.offsetHeight-(da?da.offsetHeight:0)-(ea?0:u)+1;return Math.floor(Math.max(ha,0)/m);}function y(z){return g.hasClass(z,"_pb2")?o:n;}e.exports=v;},null);
__d("XUIEditButton.react",["XUIAbstractGlyphButton.react","React","cx","tx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){var l=h.createClass({displayName:'XUIEditButton',render:function(){var m=this.props.label,n=this.props.title;if(!this.props.title&&!this.props.tooltip){if(!m)m="\u0e41\u0e01\u0e49\u0e44\u0e02";n=m;}return (h.createElement(g,Object.assign({},this.props,{label:m,title:n,'aria-label':this.props.tooltip,'data-hover':this.props.tooltip&&'tooltip','data-tooltip-alignh':this.props.tooltip&&'center',className:k(this.props.className,"_5upq _5upr")})));}});e.exports=l;},null);
__d("UFICommentMenu.react",["Bootloader","React","XUICloseButton.react","XUIEditButton.react","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l,m,n,o,p=k({EDIT:true,CLOSE:true}),q=h.createClass({displayName:'UFICommentMenu',propTypes:{menuData:h.PropTypes.array,menuType:h.PropTypes.oneOf(Object.keys(p)).isRequired,onAction:h.PropTypes.func,onClick:h.PropTypes.func},getInitialState:function(){return {bootloading:false,bootloaded:false,needsExpand:false};},onClickGuard:function(event){if(this.state.bootloading){return;}else if(!this.state.bootloaded&&this.props.menuData){this.setState({bootloading:true});g.loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu"],function(r,s,t){l=r,m=s;n=t;o=n.Item;this.setState({bootloading:false,bootloaded:true,needsExpand:true});}.bind(this));}else if(this.props.onClick)this.props.onClick(event);},shouldComponentUpdate:function(r,s,t){if(this.state.needsExpand&&!s.needsExpand)return false;return true;},render:function(){var r=null;if(this.props.menuType===p.EDIT){r=j;}else r=i;if(this.props.menuData&&this.state.bootloaded){var s=this.props.menuData.map(function(u){return (h.createElement(o,{value:u.value},u.label));}),t=h.createElement(n,{onItemClick:this.props.onAction},s);return (h.createElement(m,Object.assign({},this.props,{alignh:"right",layerBehaviors:[l],menu:t,ref:"menu"}),h.createElement(r,{href:"#",onClick:this.onClickGuard})));}return h.createElement(r,Object.assign({},this.props,{href:"#",onClick:this.onClickGuard}));},componentDidUpdate:function(){if(this.state.needsExpand){this.refs.menu.showPopover();this.setState({needsExpand:false});}}});q.MenuType=p;e.exports=q;},null);
__d("UFISocialContext.react",["HovercardLink","ProfileBrowserLink","ProfileBrowserTypes","React","URI","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=27,n=j.createClass({displayName:'UFISocialContext',propTypes:{commentAuthor:j.PropTypes.object.isRequired,otherMutualCount:j.PropTypes.number.isRequired,topMutualFriend:j.PropTypes.object.isRequired},render:function(){var o=this.props.topMutualFriend,p=this.props.otherMutualCount,q=this.props.commentAuthor,r=g.constructEndpoint(o).toString(),s=j.createElement(j.DOM.a,{href:o.uri,'data-hovercard':r,key:"top"},o.name),t=q.name.length+o.name.length,u;if(p===0){u=l._("\u0e40\u0e1b\u0e47\u0e19\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e19\u0e01\u0e31\u0e1a {name}",{name:s});}else if(t<m){var v;if(p==1){v="\u0e04\u0e19\u0e2d\u0e37\u0e48\u0e19\u0e2d\u0e35\u0e01 1 \u0e04\u0e19";}else v=l._("{count} \u0e2d\u0e37\u0e48\u0e19\u0e46",{count:p});u=l._("\u0e40\u0e1b\u0e47\u0e19\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e19\u0e01\u0e31\u0e1a {name} \u0e41\u0e25\u0e30 {others}",{name:s,others:this.getOthersLink(v,q,o)});}else{var w=l._("\u0e21\u0e35\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e19\u0e23\u0e48\u0e27\u0e21\u0e01\u0e31\u0e19 {count} \u0e04\u0e19",{count:p+1});u=this.getOthersLink(w,q);}return (j.createElement(j.DOM.span,{className:"UFICommentSocialContext"},u));},getOthersLink:function(o,p,q){var r=i.MUTUAL_FRIENDS,s={uid:p.id},t=new k('/ajax/mutual_friends/tooltip.php').setQueryData({friend_id:p.id});if(q)t.addQueryData({exclude_id:q.id});var u=h.constructDialogURI(r,s).toString();return (j.createElement(j.DOM.a,{ajaxify:u,'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':t.toString(),href:h.constructPageURI(r,s).toString(),key:"others",rel:"dialog"},o));}});e.exports=n;},null);
__d("UFIComment.react",["Badge.react","Bootloader","HovercardLink","HovercardLinkInterpolator","InlineStoryInsert","Locale","React","TrackingNodes","TruncatedTextWithEntities.react","UFIActor.react","UFIClassNames","UFICommentActions.react","UFICommentAttachment.react","UFICommentMenu.react","UFIConfig","UFIConstants","UFIImageBlock.react","UFISocialContext.react","UFITranslationConstants","UnicodeBidi","URI","XUICloseButton.react","cx","joinClasses","keyMirror","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa){"use strict";var ga=v.UFIStatus,ha=ea({edit:true,hide:true,remove:true}),ia="UFITranslateLink",ja="UFITranslatedText",ka="pls",la="fcg",ma=null,na=function(qa){var ra=qa.status;return ra===ga.FAILED_ADD||ra===ga.FAILED_EDIT;};function oa(qa){return qa.commenterIsFOF!==undefined&&qa.userIsMinor!==undefined&&qa.reportLink!==undefined;}var pa=m.createClass({displayName:'UFIComment',propTypes:{authorProfiles:m.PropTypes.object.isRequired,comment:m.PropTypes.object.isRequired,contextArgs:m.PropTypes.object.isRequired,feedback:m.PropTypes.object.isRequired,'data-ft':m.PropTypes.string,focusOnMount:m.PropTypes.bool,hasPartialBorder:m.PropTypes.bool,hideAsSpamForPageAdmin:m.PropTypes.bool,isFeatured:m.PropTypes.bool,isFirst:m.PropTypes.bool,isFirstCommentComponent:m.PropTypes.bool,isFirstComponent:m.PropTypes.bool,isLast:m.PropTypes.bool,isLastCommentComponent:m.PropTypes.bool,isLastComponent:m.PropTypes.bool,isLocallyComposed:m.PropTypes.bool,isReply:m.PropTypes.bool,onAlsoRecommendToggle:m.PropTypes.func,onBlingBoxClick:m.PropTypes.func,onCommentLikeToggle:m.PropTypes.func,onCommentReply:m.PropTypes.func,onCommentTranslate:m.PropTypes.func,onEdit:m.PropTypes.func,onHideAsSpam:m.PropTypes.func,onInlineBan:m.PropTypes.func,onMarkAsNotSpam:m.PropTypes.func,onPreviewRemove:m.PropTypes.func,onRemove:m.PropTypes.func,onRetrySubmit:m.PropTypes.func,onUndoInlineBan:m.PropTypes.func,permalink:m.PropTypes.string,shortenTimestamp:m.PropTypes.bool,showPermalink:m.PropTypes.bool,showRemoveReportMenu:m.PropTypes.bool,showReplies:m.PropTypes.bool,showReplyLink:m.PropTypes.bool,viewerIsAuthor:m.PropTypes.bool},getInitialState:function(){return {isHighlighting:this.props.comment.highlightcomment,wasHighlighted:this.props.comment.highlightcomment,markedAsSpamHere:false,isInlinePageDeleted:false,isInlineBanned:false};},_onHideAsSpam:function(event){this.props.onHideAsSpam(event);this.setState({markedAsSpamHere:true});},_onMarkAsNotSpam:function(event){this.props.onMarkAsNotSpam(event);this.setState({markedAsSpamHere:false});},_onDeleteSpam:function(event){this.props.onRemove(event,this);},_onInlineBan:function(event){this.props.onInlineBan(event);this.setState({isInlineBanned:true});},_onUndoInlineBan:function(event){this.props.onUndoInlineBan(event);this.setState({isInlineBanned:false});},_onAction:function(event,qa){var ra=qa.item,sa=ra.getValue();setTimeout(function(){if(sa===ha.remove){this.props.onRemove(event);}else if(sa===ha.edit){this.props.onEdit(event);}else if(sa===ha.hide)this._onHideAsSpam(event);}.bind(this),0);},_createRemoveReportMenuData:function(){return [{value:ha.remove,label:"\u0e25\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19..."},{value:ha.hide,label:"\u0e0b\u0e48\u0e2d\u0e19\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19"}];},_createEditDeleteMenuData:function(){return [{value:ha.edit,label:"\u0e41\u0e01\u0e49\u0e44\u0e02..."},{value:ha.remove,label:"\u0e25\u0e1a..."}];},_renderCloseButton:function(){var qa=this.props.comment,ra=this.props.feedback,sa=null,ta=null,ua=null,va=false;if(qa.canremove&&!this.props.hideAsSpamForPageAdmin){if(this.props.viewerIsAuthor){if(qa.canedit){ua="\u0e41\u0e01\u0e49\u0e44\u0e02\u0e2b\u0e23\u0e37\u0e2d\u0e25\u0e1a";ta=this._createEditDeleteMenuData();va=true;}else{ua="\u0e25\u0e1a";sa=this.props.onRemove;}}else if(ra.canremoveall)if(this.props.showRemoveReportMenu){ua="\u0e25\u0e1a\u0e2b\u0e23\u0e37\u0e2d\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19";ta=this._createRemoveReportMenuData();}else{ua="\u0e25\u0e1a";sa=this.props.onRemove;}}else if(qa.canreport){ua="\u0e0b\u0e48\u0e2d\u0e19";sa=this._onHideAsSpam;}var wa=(("UFICommentCloseButton")+(sa===null&&ta===null?' '+"hdn":'')),xa=null,ya=null;if(this.props.contextArgs.viewas){xa="/ajax/profile/link_disabled_in_viewas.php";ya="dialog";sa=null;}var za=va?t.MenuType.EDIT:t.MenuType.CLOSE;return (m.createElement(t,{ajaxify:xa,className:wa,onClick:sa,rel:ya,tooltip:ua,menuData:ta,menuType:za,onAction:this._onAction}));},_renderFakeCloseButton:function(){return (m.createElement(ba,{className:"UFICommentCloseButtonFake",tabIndex:"-1"}));},componentDidMount:function(){if(this.state.isHighlighting){var qa=this.getDOMNode();if(this.props.storyInsert&&k._notifStoryUFI(qa)){h.loadModules(["UFIHighlight"],function(ra){setTimeout(ra.actOn.bind(null,qa),0);});}else h.loadModules(["UFIScrollHighlight"],function(ra){setTimeout(ra.actOn.bind(null,qa),0);});this.setState({isHighlighting:false});}},shouldComponentUpdate:function(qa,ra){var sa=this.props,ta=this.state;return (qa.comment!==sa.comment||qa.showReplyLink!==sa.showReplyLink||qa.showReplies!==sa.showReplies||qa.isFirst!==sa.isFirst||qa.isLast!==sa.isLast||qa.isFirstCommentComponent!==sa.isFirstCommentComponent||qa.isLastCommentComponent!==sa.isLastCommentComponent||qa.isFirstComponent!==sa.isFirstComponent||qa.isLastComponent!==sa.isLastComponent||qa.isFeatured!==sa.isFeatured||qa.hasPartialBorder!==sa.hasPartialBorder||ra.wasHighlighted!==ta.wasHighlighted||ra.isHighlighting!==ta.isHighlighting||ra.markedAsSpamHere!==ta.markedAsSpamHere||ra.isInlinePageDeleted!==ta.isInlinePageDeleted||ra.isInlineBanned!==ta.isInlineBanned);},render:function(){var qa=this.props.comment,ra=this.props.feedback,sa=qa.status===ga.DELETED,ta=qa.status===ga.LIVE_DELETED,ua=qa.status===ga.SPAM_DISPLAY,va=this.state.markedAsSpamHere,wa=this.state.isInlinePageDeleted,xa=this.props.hideAsSpamForPageAdmin,ya=this.state.isInlineBanned,za=oa(qa),ab=!qa.status&&(qa.isunseen||qa.islocal);if(!qa.status&&ra.lastseentime){var bb=qa.originalTimestamp||qa.timestamp.time;ab=ab||bb>ra.lastseentime;}var cb=this.props.contextArgs.markedcomments;if(cb&&cb[qa.legacyid])ab=true;var db=((this.props.isFirst?"UFIFirstComment":'')+(this.props.isLast?' '+"UFILastComment":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''));if(za)if(ma){var eb,fb=null,gb=null,hb=null;if(xa){gb=ya?this._onUndoInlineBan:this._onInlineBan;if(wa){eb="You've deleted this comment so no one can see it.";}else if(va){eb="Now this is only visible to the person who wrote it and their friends.";hb=this._onDeleteSpam;fb=this._onMarkAsNotSpam;}}else if(va){eb="\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e19\u0e35\u0e49\u0e16\u0e39\u0e01\u0e0b\u0e48\u0e2d\u0e19\u0e44\u0e27\u0e49";hb=this._onDeleteSpam;fb=this._onMarkAsNotSpam;}if(eb)return (m.createElement(m.DOM.li,{className:da(q.ROW,db,"UFIHide")},m.createElement(ma,{notice:eb,comment:this.props.comment,authorProfiles:this.props.authorProfiles,onUndo:fb,onBanAction:gb,onDeleteAction:hb,isInlineBanned:ya,isInlinePageDeleted:wa,hideAsSpamForPageAdmin:xa,pageID:this.props.feedback.ownerid})));}else h.loadModules(["UFICommentRemovalControls.react"],function(lb){ma=lb;setTimeout(function(){this.forceUpdate();}.bind(this));}.bind(this));var ib=!sa,jb=da(q.ROW,db,(("UFIComment")+(na(qa)?' '+"UFICommentFailed":'')+(sa||ta||ua?' '+"UFITranslucentComment":'')+(this.state.isHighlighting?' '+"highlightComment":'')+(!ib?' '+"noDisplay":'')+(ib?' '+"display":'')+(' '+"UFIComponent")+(this.props.isFeatured&&!this.props.contextArgs.showverified?' '+"UFIFeaturedComment":'')+(this.props.hasPartialBorder?' '+"UFIPartialBorder":''))),kb=this.renderComment();if(ab)jb=da(jb,q.UNSEEN_ITEM);return (m.createElement(m.DOM.li,{className:jb,'data-ft':this.props['data-ft']},kb));},renderComment:function(){var qa=this.props,ra=qa.comment,sa=qa.permalink,ta=qa.feedback,ua=qa.authorProfiles[ra.author],va=ra.status===ga.SPAM_DISPLAY,wa=ra.status===ga.LIVE_DELETED,xa=!(va||wa),ya=ta.canremoveall||ra.hiddenbyviewer,za=null,ab=null;if(!qa.isLocallyComposed&&!this.state.wasHighlighted&&!ra.fromfetch){ab=v.commentTruncationLength;za=v.commentTruncationMaxLines;}var bb=n.getTrackingInfo(n.types.SMALL_ACTOR_PHOTO),cb=n.getTrackingInfo(n.types.USER_NAME),db=n.getTrackingInfo(n.types.USER_MESSAGE),eb=null,fb=null;if(ra.istranslatable&&(ra.translatedtext===undefined))eb=m.createElement(m.DOM.a,{href:"#",role:"button",title:"\u0e41\u0e1b\u0e25\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e19\u0e35\u0e49",className:ia,onClick:qa.onCommentTranslate},"\u0e14\u0e39\u0e04\u0e33\u0e41\u0e1b\u0e25");if(ra.translatedtext){var gb=null,hb=y.BING_PAGE_URL,ib=y.BING_TRANSLATOR_APP;if(ra.translatorapp===ib){var jb=new aa(hb).addQueryData({text:ra.body.text});gb=m.createElement(m.DOM.span,{className:ka},' ',"(",m.createElement(m.DOM.a,{href:jb.toString(),target:"_blank",className:la},"\u0e41\u0e1b\u0e25\u0e42\u0e14\u0e22 Bing"),")");}fb=m.createElement(m.DOM.span,{className:ja},ra.translatedtext,gb);}var kb=z.isDirectionLTR(ra.body.text),lb=!kb,mb=kb&&l.isRTL()?'ltr':lb&&!l.isRTL()?'rtl':null,nb=function(vb,wb){return j(vb,wb,'_blank',ta.grouporeventid,'ufi',v.commentURLTruncationLength);},ob=m.createElement(o,{key:"comment-body",className:(("UFICommentBody")+(this.props.contextArgs.useWhitespacesRender?' '+"UFICommentBodyPreserveWhitespace":'')),interpolator:nb,ranges:ra.body.ranges,text:ra.body.text,truncationPercent:v.commentTruncationPercent,maxLength:ab,maxLines:za,renderEmoticons:u.renderEmoticons,renderEmoji:u.renderEmoji,'data-ft':db,dir:mb});if(ra.socialcontext){ob=m.createElement(m.DOM.div,{key:"body"},ob);}else{var pb=((kb&&l.isRTL()?"_5wjy":'')+(kb&&l.isRTL()?' '+"_5wjz":'')+(lb&&!l.isRTL()?' '+"_5wj-":'')+(lb&&!l.isRTL()?' '+"_5wj_":''));ob=pb?m.createElement(m.DOM.div,{key:"body",className:pb},ob):[' ',ob];}var qb=qa.contextArgs.viewas?null:i.constructEndpointWithLocation(ua,'ufi').toString(),rb=m.createElement(p,{author:ua,showHovercard:!!qb,key:"author",focusOnMount:qa.focusOnMount,'data-ft':cb},qa.isFeatured&&qa.contextArgs.showverified?m.createElement(g,{key:"badge",size:"xsmall",type:"verified"}):null,ra.socialcontext?m.createElement(x,{topMutualFriend:qa.authorProfiles[ra.socialcontext.topmutualid],otherMutualCount:ra.socialcontext.othermutualcount,commentAuthor:ua}):null),sb=null;if(ra.photo_comment_status)sb=m.createElement(m.DOM.div,{className:"_50f8"},ra.photo_comment_status);var tb=null;if(ra.sticker_attachment_status)tb=m.createElement(m.DOM.div,{className:"_50f8"},ra.sticker_attachment_status);var ub=null;if(ra.status!==ga.DELETED)ub=m.createElement(s,{comment:qa.comment});return (m.createElement(w,{spacing:"medium"},m.createElement(m.DOM.a,{href:ua.uri,'data-hovercard':qb,'data-ft':bb},m.createElement(m.DOM.img,{src:ua.thumbSrc,className:q.ACTOR_IMAGE,alt:""})),m.createElement(m.DOM.div,{className:"UFICommentContentBlock"},m.createElement(m.DOM.div,{className:"UFICommentContent"},rb,ob,eb,fb,ub),sb,tb,m.createElement(r,{comment:ra,feedback:ta,onBlingBoxClick:qa.onBlingBoxClick,onAlsoRecommendToggle:qa.onAlsoRecommendToggle,onCommentLikeToggle:qa.onCommentLikeToggle,onCommentReply:qa.onCommentReply,onPreviewRemove:qa.onPreviewRemove,onRetrySubmit:qa.onRetrySubmit,onMarkAsNotSpam:this._onMarkAsNotSpam,permalink:sa,viewerCanMarkNotSpam:ya,shortenTimestamp:qa.shortenTimestamp,showPermalink:qa.showPermalink,showReplyLink:qa.showReplyLink,showReplies:qa.showReplies,contextArgs:qa.contextArgs,markedAsSpamHere:this.state.markedAsSpamHere,hideAsSpamForPageAdmin:qa.hideAsSpamForPageAdmin}),xa?this._renderCloseButton():null),xa?this._renderFakeCloseButton():null));}});e.exports=pa;},null);
__d("UFIContainer.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:'UFIContainer',render:function(){var j=null;if(this.props.hasNub)j=g.createElement(g.DOM.li,{className:"UFIArrow"},g.createElement(g.DOM.i,null));var k=((!this.props.isReplyList?"UFIList":'')+(this.props.isReplyList?' '+"UFIReplyList":'')+(this.props.isParentLiveDeleted?' '+"UFITranslucentReplyList":'')+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''));return (g.createElement(g.DOM.ul,{className:k},j,this.props.children));}});e.exports=i;},null);
__d("UFILikeSentenceText.react",["ActorURI","HovercardLinkInterpolator","ProfileBrowserLink","ProfileBrowserTypes","React","TextWithEntities.react","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(p,q,r,s){if(s.count!=null){var t=j.LIKES,u={id:p.targetfbid,actorid:p.actorid},v=[],w;for(var x=0;x<q.length;x++)if(!q[x].count){w=q[x];var y=w.entity;v.push(y.id);}var z=new m('/ajax/like/tooltip.php').setQueryData({comment_fbid:p.targetfbid,comment_from:p.actorforpost,seen_user_fbids:v.length?v:true});z=g.create(z,p.actorforpost);return (k.createElement(k.DOM.a,{rel:"dialog",ajaxify:i.constructDialogURI(t,u).toString(),href:i.constructPageURI(t,u).toString(),'data-hover':"tooltip",'data-tooltip-alignh':"center",'data-tooltip-uri':z.toString(),role:"button"},r));}else return h(r,s,null,null,'ufi');}var o=k.createClass({displayName:'UFILikeSentenceText',propTypes:{contextArgs:k.PropTypes.object.isRequired,feedback:k.PropTypes.object.isRequired,likeSentenceData:k.PropTypes.object.isRequired},render:function(){var p=this.props.feedback,q=this.props.likeSentenceData,r;r=n;r=r.bind(null,p,q.ranges);return (k.createElement(l,{interpolator:r,ranges:q.ranges,aggregatedRanges:q.aggregatedranges,text:q.text}));}});e.exports=o;},null);
__d("UFILikeSentence.react",["Bootloader","LeftRight.react","ProfileBrowserLink","ProfileBrowserTypes","React","UFIClassNames","UFIImageBlock.react","UFILikeSentenceText.react","URI","cx","joinClasses","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=k.createClass({displayName:'UFILikeSentence',propTypes:{contextArgs:k.PropTypes.object.isRequired,feedback:k.PropTypes.object.isRequired,isFirstComponent:k.PropTypes.bool,isLastComponent:k.PropTypes.bool,onOrderingModeChange:k.PropTypes.func,onTargetLikeToggle:k.PropTypes.func,orderingMode:k.PropTypes.string,showOrderingModeSelector:k.PropTypes.bool},getInitialState:function(){return {selectorModule:null,bootloadedSelectorModule:false};},componentWillMount:function(){this._bootloadSelectorModule(this.props);},componentWillReceiveProps:function(t){this._bootloadSelectorModule(t);},_bootloadSelectorModule:function(t){if(t.showOrderingModeSelector&&!this.state.bootloadedSelectorModule){var u=function(v){this.setState({selectorModule:v});}.bind(this);if(t.contextArgs.entstream){g.loadModules(["UFIEntStreamOrderingModeSelector.react"],u);}else g.loadModules(["UFIOrderingModeSelector.react"],u);this.setState({bootloadedSelectorModule:true});}},render:function(){var t=this.props.feedback,u=t.likesentences.current,v=this.props.contextArgs.entstream,w=q(l.ROW,t.likesentences.isunseen?l.UNSEEN_ITEM:'',(("UFILikeSentence")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),x=null,y=null;if(u.text)y=k.createElement(k.DOM.div,{className:"UFILikeSentenceText"},k.createElement(n,{contextArgs:this.props.contextArgs,feedback:t,likeSentenceData:u}));if(y&&!v){x=k.createElement(k.DOM.i,{className:"UFILikeIcon"});if(t.viewercanlike&&!t.hasviewerliked)x=k.createElement(k.DOM.a,{className:"UFILikeThumb",href:"#",tabIndex:"-1",title:"\u0e16\u0e39\u0e01\u0e43\u0e08\u0e2a\u0e34\u0e48\u0e07\u0e19\u0e35\u0e49",onClick:this.props.onTargetLikeToggle,role:"button",'aria-label':"\u0e16\u0e39\u0e01\u0e43\u0e08\u0e2a\u0e34\u0e48\u0e07\u0e19\u0e35\u0e49"},x);}var z=y,aa=null;if(t.seencount>0&&!v){var ba=j.GROUP_MESSAGE_VIEWERS,ca={id:t.targetfbid},da=i.constructDialogURI(ba,ca),ea=i.constructPageURI(ba,ca),fa=new o('/ajax/ufi/seen_tooltip.php').setQueryData({ft_ent_identifier:t.entidentifier,displayed_count:t.seencount}),ga;if(t.seenbyall){ga="\u0e17\u0e38\u0e01\u0e04\u0e19\u0e40\u0e2b\u0e47\u0e19\u0e41\u0e25\u0e49\u0e27";}else ga=t.seencount==1?"\u0e40\u0e2b\u0e47\u0e19\u0e41\u0e25\u0e49\u0e27 1 \u0e04\u0e19":r._("\u0e40\u0e2b\u0e47\u0e19\u0e41\u0e25\u0e49\u0e27 {count} \u0e04\u0e19",{count:t.seencount});aa=k.createElement(k.DOM.a,{rel:"dialog",ajaxify:da.toString(),href:ea.toString(),'data-hover':"tooltip",'data-tooltip-alignh':"left",'data-tooltip-uri':fa.toString(),className:(("UFISeenCount")+(!!u.text?' '+"UFISeenCountRight":''))},k.createElement(k.DOM.span,{className:"UFISeenCountIcon"}),ga);}else if(this.props.showOrderingModeSelector&&this.state.selectorModule){var ha=this.state.selectorModule;aa=k.createElement(ha,{currentOrderingMode:this.props.orderingMode,entstream:v,orderingmodes:t.orderingmodes,onOrderChanged:this.props.onOrderingModeChange});if(!z)z=k.createElement(k.DOM.div,null);}var ia=null;if(x&&y){ia=k.createElement(m,null,x,y,aa);}else if(z){ia=k.createElement(h,{direction:h.DIRECTION.right},z,aa);}else ia=aa;return (k.createElement(k.DOM.li,{className:w},ia));}});e.exports=s;},null);
__d("UFIPager.react",["LeftRight.react","React","UFIClassNames","UFIImageBlock.react","XUISpinner.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=h.createClass({displayName:'UFIPager',propTypes:{contextArgs:h.PropTypes.object.isRequired,pagerLabel:h.PropTypes.string.isRequired,'data-ft':h.PropTypes.string,countSentence:h.PropTypes.string,isFirstCommentComponent:h.PropTypes.bool,isFirstComponent:h.PropTypes.bool,isLastCommentComponent:h.PropTypes.bool,isLastComponent:h.PropTypes.bool,isLoading:h.PropTypes.bool,isUnseen:h.PropTypes.bool,onPagerClick:h.PropTypes.func},onPagerClick:function(o){!this.props.isLoading&&this.props.onPagerClick&&this.props.onPagerClick();o.nativeEvent.prevent();},render:function(){var o=this.onPagerClick,p=m(i.ROW,this.props.isUnseen?i.UNSEEN_ITEM:'',(("UFIPagerRow")+(' '+"UFIComponent")+(this.props.isFirstCommentComponent?' '+"UFIFirstCommentComponent":'')+(this.props.isLastCommentComponent?' '+"UFILastCommentComponent":'')+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),q=null;if(this.props.isLoading)q=h.createElement(k,{className:"mls",background:"light",size:"small"});var r=h.createElement(h.DOM.a,{className:"UFIPagerLink",onClick:o,href:"#",role:"button"},this.props.pagerLabel,q),s=(("fcg")+(' '+"UFIPagerCount")),t=h.createElement(h.DOM.span,{className:s},this.props.countSentence),u;if(this.props.contextArgs.entstream){u=(h.createElement(g,{direction:g.DIRECTION.right},r,t));}else u=(h.createElement(j,null,h.createElement(h.DOM.a,{className:"UFIPagerIcon",onClick:o,href:"#",role:"button"}),r,t));return (h.createElement(h.DOM.li,{className:p,'data-ft':this.props['data-ft']},u));}});e.exports=n;},null);
__d("UFIPagerLabel",["fbt","tx"],function(a,b,c,d,e,f,g,h){var i={VIEW_ONE:'view_one',VIEW_ONE_MORE:'view_one_more',VIEW_ALL:'view_all',VIEW_MORE_EXPLICIT:'view_more_explicit',VIEW_MORE:'view_more',VIEW_PREVIOUS:'view_previous',getReplyLabel:function(j,k){switch(j){case i.VIEW_ONE:return "\u0e14\u0e39 1 \u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a";case i.VIEW_ONE_MORE:return "\u0e14\u0e39\u0e2d\u0e35\u0e01 1 \u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a";case i.VIEW_ALL:return h._("\u0e14\u0e39 {count} \u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14",{count:k.count});case i.VIEW_MORE_EXPLICIT:return h._("\u0e14\u0e39\u0e2d\u0e35\u0e01 {count} \u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a",{count:k.count});case i.VIEW_MORE:return "\u0e14\u0e39\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21";case i.VIEW_PREVIOUS:return "\u0e14\u0e39\u0e04\u0e27\u0e32\u0e21\u0e40\u0e2b\u0e47\u0e19\u0e01\u0e48\u0e2d\u0e19\u0e2b\u0e19\u0e49\u0e32\u0e19\u0e35\u0e49";default:return null;}},getCommentLabel:function(j,k){switch(j){case i.VIEW_ONE:return "\u0e14\u0e39\u0e2b\u0e19\u0e36\u0e48\u0e07\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19";case i.VIEW_ONE_MORE:return "\u0e14\u0e39\u0e2d\u0e35\u0e01 1 \u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19";case i.VIEW_ALL:return h._("\u0e14\u0e39\u0e2d\u0e35\u0e01 {count} \u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14",{count:k.count});case i.VIEW_MORE_EXPLICIT:return h._("\u0e14\u0e39\u0e2d\u0e35\u0e01 {count} \u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19",{count:k.count});case i.VIEW_MORE:return "\u0e14\u0e39\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21";case i.VIEW_PREVIOUS:return "\u0e14\u0e39\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e01\u0e48\u0e2d\u0e19\u0e2b\u0e19\u0e49\u0e32";default:return null;}},getQuestionLabel:function(j,k){switch(j){case i.VIEW_ONE:return "\u0e14\u0e39\u0e04\u0e33\u0e16\u0e32\u0e21";case i.VIEW_ONE_MORE:return "View 1 more question";case i.VIEW_ALL:return g._("View all {count} questions",[g.param("count",k.count)]);case i.VIEW_MORE_EXPLICIT:return g._("View {count} more questions",[g.param("count",k.count)]);case i.VIEW_MORE:return "View more questions";case i.VIEW_PREVIOUS:return "View previous questions";default:return null;}},getLabel:function(j,k,l,m){if(k){return i.getReplyLabel(j,m);}else if(l){return i.getQuestionLabel(j,m);}else return i.getCommentLabel(j,m);}};e.exports=i;},null);
__d("UFIReplySocialSentence.react",["Badge.react","LiveTimer","React","Timestamp.react","UFIClassNames","UFIConstants","UFIImageBlock.react","cx","joinClasses","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=' \u00b7 ',r=43200,s=i.createClass({displayName:'UFIReplySocialSentence',propTypes:{authors:i.PropTypes.object.isRequired,'data-ft':i.PropTypes.string,isExpanded:i.PropTypes.bool,isFirstComponent:i.PropTypes.bool,isLastComponent:i.PropTypes.bool,isLoading:i.PropTypes.bool,onClick:i.PropTypes.func,orderingMode:i.PropTypes.string,replies:i.PropTypes.number,shortenTimestamp:i.PropTypes.bool,showVerified:i.PropTypes.bool,timestamp:i.PropTypes.object},render:function(){var t=((this.props.isLoading?"UFIReplySocialSentenceLoading":'')),u=o(k.ROW,(("UFIReplySocialSentenceRow")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":''))),v,w;if(this.props.isExpanded){v=this.props.replies>1?p._("\u0e0b\u0e48\u0e2d\u0e19 {count} \u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a",{count:this.props.replies}):"\u0e0b\u0e48\u0e2d\u0e19 1 \u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a";}else{v=this.props.replies>1?p._("{count} \u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a",{count:this.props.replies}):"1 \u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a";if(this.props.timestamp){var x=h.getApproximateServerTime()/1000-this.props.timestamp.time;if(x<r||this.props.orderingMode==l.UFICommentOrderingMode.RECENT_ACTIVITY)w=i.createElement(i.DOM.span,{className:"fcg"},q,i.createElement(j,{shorten:this.props.shortenTimestamp,time:this.props.timestamp.time,text:this.props.timestamp.text,verbose:this.props.timestamp.verbose}));}}var y=Object.keys(this.props.authors),z=y.length&&!this.props.isExpanded,aa=null,ba;if(z){var ca=this.props.authors[y[0]];aa=i.createElement(i.DOM.img,{alt:"",src:ca.thumbSrc,className:k.ACTOR_IMAGE});var da=ca.name;if(this.props.showVerified)da=[ca.name,i.createElement(g,{size:"xsmall",type:"verified"})];ba=[p._("{author} \u0e15\u0e2d\u0e1a\u0e01\u0e25\u0e31\u0e1a\u0e41\u0e25\u0e49\u0e27",{author:da}),q,v];}else ba=v;var ea=null,fa=false;if(!z||this.props.contextArgs.feedcarded){if(z)fa=true;ea=i.createElement(i.DOM.i,{className:((!this.props.isExpanded?"UFIPagerIcon":'')+(this.props.isExpanded?' '+"UFICollapseIcon":'')+(fa?' '+"UFIFeedCardedIconWithActor":''))});}return (i.createElement(i.DOM.li,{className:u,'data-ft':this.props['data-ft']},i.createElement(i.DOM.a,{className:"UFICommentLink",onClick:this.props.onClick,href:"#",role:"button"},i.createElement(m,null,i.createElement(i.DOM.div,{className:((z?"UFIReplyActorPhotoWrapper":'')+(fa?' '+"UFIFeedCardedReplyActor":''))},ea,aa),i.createElement(i.DOM.span,{className:t},i.createElement(i.DOM.span,{className:(("UFIReplySocialSentenceLinkText")+(this.props.showVerified?' '+"UFIReplySocialSentenceVerified":''))},ba),w)))));}});e.exports=s;},null);
__d("UFIShareRow.react",["NumberFormat","React","UFIClassNames","UFIImageBlock.react","URI","cx","joinClasses","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=h.createClass({displayName:'UFIShareRow',propTypes:{contextArgs:h.PropTypes.object.isRequired,shareCount:h.PropTypes.number.isRequired,targetID:h.PropTypes.any.isRequired,isFirstComponent:h.PropTypes.bool,isLastComponent:h.PropTypes.bool},render:function(){var p=new k('/ajax/shares/view').setQueryData({target_fbid:this.props.targetID}),q=new k('/shares/view').setSubdomain('www').setQueryData({id:this.props.targetID}),r;if(this.props.shareCount>1){var s=g.formatIntegerWithDelimiter(this.props.shareCount,this.props.contextArgs.numberdelimiter||',');r=n._("\u0e41\u0e0a\u0e23\u0e4c {count} \u0e04\u0e23\u0e31\u0e49\u0e07",{count:s});}else r="\u0e41\u0e0a\u0e23\u0e4c 1 \u0e04\u0e23\u0e31\u0e49\u0e07";var t=m(i.ROW,(("UFIShareRow")+(this.props.isFirstComponent?' '+"UFIFirstComponent":'')+(this.props.isLastComponent?' '+"UFILastComponent":'')));return (h.createElement(h.DOM.li,{className:t},h.createElement(j,null,h.createElement(h.DOM.a,{className:"UFIShareIcon",rel:"dialog",ajaxify:p.toString(),href:q.toString()}),h.createElement(h.DOM.a,{className:"UFIShareLink",rel:"dialog",ajaxify:p.toString(),href:q.toString()},r))));}});e.exports=o;},null);
__d("UFISpamPlaceholder.react",["React","UFIClassNames","XUISpinner.react","fbt","tx"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.createClass({displayName:'UFISpamPlaceholder',propTypes:{numHidden:g.PropTypes.number.isRequired,isLoading:g.PropTypes.bool,onClick:g.PropTypes.func},render:function(){if(this.props.isLoading)return (g.createElement(g.DOM.li,{className:h.ROW},g.createElement(g.DOM.span,{className:"UFISpamCommentWrapper"},g.createElement(i,{className:"mls",background:"light",size:"small"}))));return (g.createElement(g.DOM.li,{className:h.ROW},g.createElement(g.DOM.a,{href:"#",role:"button",className:"UFISpamCommentLink",onClick:this.props.onClick,'aria-label':"Show comments marked as spam"},g.createElement(g.DOM.span,{'data-hover':"tooltip",'data-tooltip-alignh':"center",'aria-label':k._("{count} \u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e17\u0e35\u0e48\u0e16\u0e39\u0e01\u0e0b\u0e48\u0e2d\u0e19",{count:this.props.numHidden}),className:"UFISpamCommentWrapper"},g.createElement(g.DOM.i,{className:"placeholderIcon"})))));}});e.exports=l;},null);
__d("UFIFeaturedReplyCommentList",["UFIReplyCommentList"],function(a,b,c,d,e,f,g){"use strict";for(var h in g)if(g.hasOwnProperty(h))j[h]=g[h];var i=g===null?null:g.prototype;j.prototype=Object.create(i);j.prototype.constructor=j;j.__superConstructor__=g;j.getCommentList=function(k,l){};function j(k,l,m,n){g.call(this,k,l);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){q[r.id]=r;});m.forEach(function(r){var s=q[r];this.addComment(s.id,s.clientid,s.legacyid);}.bind(this));}j.prototype.fetchComments=function(k,l,m){};e.exports=j;},null);
__d("UFIFeaturedToplevelCommentList",["UFIConstants","UFIToplevelCommentList"],function(a,b,c,d,e,f,g,h){"use strict";for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;k.getCommentList=function(l,m){};k.getCommentListsForFeedbackTargetID=function(l){};k.getCommentListForFeedbackTargetID_UNSAFE=function(l){};k.resetCommentListsForFeedbackTargetID=function(l){};function k(l,m,n){h.call(this,l,g.UFICommentOrderingMode.FEATURED);var o=0,p=m.length;this.updateCommentCount(p);this.addCommentIDs(o,p,m);var q={};n.forEach(function(r){q[r.id]=r;});m.forEach(function(r){var s=q[r];this.addComment(s.id,s.clientid,s.legacyid);}.bind(this));}k.prototype.fetchComments=function(l,m,n){};e.exports=k;},null);
__d("UFIRange",[],function(a,b,c,d,e,f){"use strict";function g(h,i){this.offset=h||0;this.length=i||0;this.requestedOffset=this.offset;this.requestedLength=this.length;}g.prototype.getOffset=function(){return this.offset;};g.prototype.getLength=function(){return this.length;};g.prototype.updateRange=function(h,i){this.offset=h;this.length=i;if(this.requestedLength>0){var j=Math.min(this.offset,this.requestedOffset),k=Math.max(this.offset+this.length,this.requestedOffset+this.requestedLength);this.requestedOffset=j;this.requestedLength=k-j;}else{this.requestedOffset=this.offset;this.requestedLength=this.length;}};g.prototype.getRequestedOffset=function(){return this.requestedOffset;};g.prototype.getRequestedLength=function(){return this.requestedLength;};g.prototype.updateRequestedRange=function(h,i){this.requestedOffset=h;this.requestedLength=i;};e.exports=g;},null);
__d("UFIController",["Arbiter","Bootloader","CSS","DOM","LayerRemoveOnHide","LiveTimer","Parent","React","ReactMount","ShortProfiles","UFI.react","UFIActionLinkController","UFICentralUpdates","UFIFeaturedReplyCommentList","UFIFeaturedToplevelCommentList","UFICommentTemplates","UFIConstants","UFIFeedbackTargets","UFIInstanceState","UFIRange","UFIReplyCommentList","UFIToplevelCommentList","UFIUserActions","URI","isEmpty","onEnclosingPageletDestroy","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga){"use strict";var ha=function(la,ma,na,oa,pa){var qa=la+ma===na;return {offset:la,length:(qa&&ia(pa))?oa-la:ma};},ia=function(la){return la==w.UFIPayloadSourceType.USER_ACTION||la==w.UFIPayloadSourceType.LIVE_SEND;},ja=function(la,ma){for(var na=0;na<ma.length;na++){var oa=ma[na];if(oa.author)la.push(oa.author);if(oa.socialcontext)la.push(oa.socialcontext.topmutualid);if(oa.replyauthors&&oa.replyauthors.length)for(var pa=0;pa<oa.replyauthors.length;pa++)la.push(oa.replyauthors[pa]);}};function ka(la,ma,na){this.root=la;this.id=ma.ftentidentifier;this.source=ma.source;this.$UFIController0=ma.instanceid;this.featuredToplevelCommentList=null;this.featuredReplyCommentLists={};this.$UFIController1=ma;this.$UFIController1.rootid=this.root.id;this.$UFIController2=false;this.storyInsert=ma.storyInsert;var oa=na.feedbacktargets[0];this.actionLink=new r(la,this.$UFIController1,oa);this.orderingMode=oa.defaultcommentorderingmode;var pa=null;if(na.featuredcommentlists&&na.featuredcommentlists.comments&&na.featuredcommentlists.comments[this.id]){pa=na.featuredcommentlists.comments[this.id];this.featuredToplevelCommentList=new u(this.id,pa.values,na.comments);}else pa=na.commentlists.comments[this.id][this.orderingMode];this.ranges={};this.replyRanges={};this.repliesMap={};this.showRepliesMap={};this.showReplySocialSentenceMap={};this.shortenTimestamp=ma.shortenTimestamp;this.commentcounts={};this.commentcounts[this.id]=this.getToplevelCommentList().getCommentCount();var qa=oa.orderingmodes||[{value:this.orderingMode}];qa.forEach(function(ua){this.ranges[ua.value]=new z(pa.range.offset,pa.range.length);}.bind(this));var ra,sa,ta;if(na.commentlists.replies)for(ra=0;ra<pa.values.length;ra++){sa=pa.values[ra];ta=na.commentlists.replies[sa];if(ta){this.commentcounts[sa]=this.getReplyCommentList(sa).getCommentCount();this.getReplyRange(sa).updateRange(ta.range.offset,ta.range.length);}}if(na.featuredcommentlists)if(na.featuredcommentlists.replies)for(ra=0;ra<pa.values.length;ra++){sa=pa.values[ra];ta=na.featuredcommentlists.replies[sa];if(ta){this.featuredReplyCommentLists[sa]=new t(this.id,sa,ta.values,na.comments);this.commentcounts[sa]=this.getReplyCommentList(sa).getCommentCount();this.getReplyRange(sa).updateRange(ta.range.offset,ta.range.length);}}this.$UFIController3=null;this.$UFIController4=null;this.ufiCentralUpdatesSubscriptions=[s.subscribe('feedback-updated',function(ua,va){var wa=va.updates,xa=va.payloadSource;if(xa!=w.UFIPayloadSourceType.COLLAPSED_UFI&&this.id in wa)this.fetchAndUpdate(this.render.bind(this),xa);}.bind(this)),s.subscribe('feedback-id-changed',function(ua,va){var wa=va.updates;if(this.id in wa)this.id=wa[this.id];}.bind(this)),s.subscribe('instance-updated',function(ua,va){var wa=va.updates;if(this.$UFIController0 in wa){var xa=wa[this.$UFIController0];if(xa.editcommentid)this.render(va.payloadSource);}}.bind(this))];this.clearPageletSubscription=fa(this.root,this.$UFIController6.bind(this));this.clearPageSubscription=g.subscribe('ufi/page_cleared',this.$UFIController7.bind(this));s.handleUpdate(w.UFIPayloadSourceType.INITIAL_SERVER,na);if(this.$UFIController1.viewas)this.viewasUFICleanSubscription=g.subscribe('pre_page_transition',function(ua,va){if(this.$UFIController1.viewas!==da(va.to).getQueryData('viewas'))ba.resetCommentListsForFeedbackTargetID(this.id);}.bind(this));h.loadModules(["ScrollAwareDOM"],function(ua){o.scrollMonitor=ua.monitor;});if(ma.notifyonload)g.inform('inlineStory/ufiLoaded');g.inform('notifStory/ufiLoaded');}ka.prototype.$UFIController8=function(){if(!this.$UFIController9)this.$UFIController9=m.byTag(this.root,'form');return this.$UFIController9;};ka.prototype.$UFIControllera=function(event){var la=!this.feedback.hasviewerliked;ca.changeLike(this.id,la,{source:this.source,target:event.target,rootid:this.$UFIController1.rootid});event.preventDefault();};ka.prototype.$UFIControllerb=function(la,event){var ma=!la.hasviewerliked;ca.changeCommentLike(la.id,ma,{source:this.source,target:event.target});};ka.prototype.$UFIControllerc=function(la,event){ca.changeAlsoRecommend(la,!la.hasviewerrecommended);};ka.prototype.$UFIControllerd=function(la){y.updateState(this.$UFIController0,'isediting',true);y.updateState(this.$UFIController0,'editcommentid',la.id);};ka.prototype.$UFIControllere=function(la,ma,event){if(!ma.visibleValue&&!ma.attachedPhoto&&!ma.attachedSticker){this.$UFIControllerf(la,event);}else ca.editComment(la.id,ma.visibleValue,ma.encodedValue,{source:this.$UFIController1.source,target:event.target,attachedPhoto:ma.attachedPhoto,attachedSticker:ma.attachedSticker});y.updateStateField(this.$UFIController0,'locallycomposed',la.id,true);this.$UFIControllerg();};ka.prototype.$UFIControllerg=function(){y.updateState(this.$UFIController0,'isediting',false);y.updateState(this.$UFIController0,'editcommentid',null);};ka.prototype.$UFIControllerf=function(la,event,ma){this.$UFIControllerh(la,false,event,ma);};ka.prototype.$UFIControllerh=function(la,ma,event,na){var oa=v[':fb:ufi:hide-dialog-template'].build();j.setContent(oa.getNode('body'),"\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19\u0e19\u0e35\u0e49\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48");j.setContent(oa.getNode('title'),"\u0e25\u0e1a\u0e04\u0e27\u0e32\u0e21\u0e04\u0e34\u0e14\u0e40\u0e2b\u0e47\u0e19");h.loadModules(["DialogX"],function(pa){var qa=new pa({modal:true,width:465,addedBehaviors:[k]},oa.getRoot());qa.subscribe('confirm',function(){ca.removeComment(la.id,{source:this.source,oneclick:ma,target:event.target,timelinelogdata:this.$UFIController1.timelinelogdata});if(na)na.setState({isInlinePageDeleted:true});qa.hide();}.bind(this));qa.show();}.bind(this));};ka.prototype.$UFIControlleri=function(la,event){ca.setHideAsSpam(la.id,true,{source:this.source,target:event.target});};ka.prototype.$UFIControllerj=function(la,event){ca.setHideAsSpam(la.id,false,{source:this.source,target:event.target});};ka.prototype.$UFIControllerk=function(la,event){ca.translateComment(la,{source:this.source,target:event.target});};ka.prototype.$UFIControllerl=function(la,ma,event){ca.banUser(la,this.feedback.ownerid,ma,{source:this.source,target:event.target});};ka.prototype.$UFIControllerm=function(la,event){this.$UFIControllerl(la,true,event);};ka.prototype.$UFIControllern=function(la,event){this.$UFIControllerl(la,false,event);};ka.prototype.$UFIControllero=function(la,ma){ca.fetchSpamComments(this.id,la,ma,this.$UFIController1.viewas);};ka.prototype.$UFIControllerp=function(la,event){ca.removePreview(la,{source:this.source,target:event.target});};ka.prototype.$UFIControllerq=function(la){h.loadModules(["UFIRetryActions"],function(ma){ma.retrySubmit(la,{source:this.source});}.bind(this));};ka.prototype.$UFIControllerr=function(){if(this.$UFIController2)return;var la=m.byTag(this.root,'form');if(la){i.removeClass(la,'collapsed_comments');this.$UFIController2=true;}};ka.prototype.setRange=function(la){this.getRange().updateRange(la.offset,la.length);};ka.prototype.setReplyRange=function(la,ma){this.getReplyRange(la).updateRange(ma.offset,ma.length);};ka.prototype.render=function(la){var ma=this.comments.length||!ea(this.feedback.likesentences.current);if(ma&&ia(la))this.$UFIControllerr();var na=this.getRange();if(this.$UFIController3===null)this.$UFIController3=na.getOffset()+na.getLength()-1;var oa=this.feedback.replysocialsentencemaxreplies||-1,pa={};pa[this.id]=this.getToplevelCommentList().getDeletedCount();var qa={},ra={};ra[this.id]=!this.featuredToplevelCommentList;this.comments.forEach(function(wa){var xa=wa.id;pa[xa]=this.getReplyCommentList(xa).getDeletedCount();qa[xa]=this.getToplevelCommentList().getPermalinkForComment(xa);ra[xa]=!this.featuredReplyCommentLists[xa];if(this.repliesMap[xa])this.repliesMap[xa].forEach(function(ya){var za=ya.id;qa[za]=aa.getCommentList(this.id,xa).getPermalinkForComment(za);}.bind(this));}.bind(this));var sa={};sa[this.id]=na;for(var ta in this.replyRanges)sa[ta]=this.replyRanges[ta];var ua=!!this.featuredToplevelCommentList,va=n.createElement(q,{feedback:this.feedback,id:this.id,storyInsert:this.storyInsert,onTargetLikeToggle:this.$UFIControllera.bind(this),onAlsoRecommendToggle:this.$UFIControllerc.bind(this),onCommentLikeToggle:this.$UFIControllerb.bind(this),onCommentRemove:this.$UFIControllerf.bind(this),onCommentHideAsSpam:this.$UFIControlleri.bind(this),onCommentMarkAsNotSpam:this.$UFIControllerj.bind(this),onCommentEdit:this.$UFIControllerd.bind(this),onCommentTranslate:this.$UFIControllerk.bind(this),onCommentInlineBan:this.$UFIControllerm.bind(this),onCommentUndoInlineBan:this.$UFIControllern.bind(this),onEditAttempt:this.$UFIControllere.bind(this),onCancelEdit:this.$UFIControllerg.bind(this),onChangeRange:this.$UFIControllers.bind(this),onSpamFetch:this.$UFIControllero.bind(this),onPreviewRemove:this.$UFIControllerp.bind(this),onRetrySubmit:this.$UFIControllerq.bind(this),onOrderingModeChange:this.$UFIControllert.bind(this),contextArgs:this.$UFIController1,repliesMap:this.repliesMap,showRepliesMap:this.showRepliesMap,showReplySocialSentenceMap:this.showReplySocialSentenceMap,shortenTimestamp:this.shortenTimestamp,commentCounts:this.commentcounts,deletedCounts:pa,availableComments:this.comments,source:this.source,ranges:sa,pageSize:w.defaultPageSize,authorProfiles:this.authorProfiles,instanceid:this.$UFIController0,loggingOffset:this.$UFIController3,replySocialSentenceMaxReplies:oa,orderingMode:this.orderingMode,hideOrderingModeSelector:ua,commentPermalinks:qa,canAddCommentMap:ra});this.$UFIController4=n.renderComponent(va,this.root);l.updateTimeStamps();if(this.$UFIController8())g.inform('ufi/changed',{form:this.$UFIController8()});if(la!=w.UFIPayloadSourceType.INITIAL_SERVER&&la!=w.UFIPayloadSourceType.COLLAPSED_UFI)g.inform('reflow');};ka.prototype.deferredCallback=function(la,ma,na,oa){la.callbackCount++;if(la.callbackCount<la.expectedCallbackCount)return;p.getMulti(ma,function(pa){this.authorProfiles=pa;oa(na);if(na==w.UFIPayloadSourceType.ENDPOINT_COMMENT_FETCH)g.inform('CommentUFI.Pager');}.bind(this));};ka.prototype.fetchAndUpdate=function(la,ma){x.getFeedbackTarget(this.id,function(na){this.feedback=na;var oa=this.getToplevelCommentList(this.orderingMode).getCommentCount(),pa=this.getRange(),qa=ha(pa.getRequestedOffset(),pa.getRequestedLength(),this.commentcounts[this.id],oa,ma),ra=[];if(this.feedback.actorforpost)ra.push(this.feedback.actorforpost);var sa={expectedCallbackCount:0,callbackCount:0},ta=qa.offset,ua=qa.length,va;if(this.$UFIController1.viewas)va=this.$UFIController1.viewas+'';this.getToplevelCommentList().getComments(ta,ua,va,function(wa,xa,ya){this.commentcounts[this.id]=xa;this.setRange(wa);this.comments=[];for(var za in ya)this.comments.push(ya[za]);ja(ra,this.comments);if(this.feedback.isthreaded&&this.comments.length){sa.expectedCallbackCount=this.comments.length;}else sa.expectedCallbackCount=1;for(var ab in ya){var bb=ya[ab],cb=bb.id;if(this.feedback.isthreaded){var db=this.getReplyCommentList(cb).getCommentCount(),eb;if(this.replyRanges[cb]){var fb=this.getReplyRange(cb);eb=ha(fb.getRequestedOffset(),fb.getRequestedLength(),this.commentcounts[cb],db,ma);}else eb={offset:0,length:Math.min(db,2)};var gb=eb.offset,hb=eb.length;this.getReplyCommentList(cb).getComments(gb,hb,null,function(ib,jb,kb,lb){this.commentcounts[ib]=kb;this.setReplyRange(ib,jb);this.repliesMap[ib]=[];for(var mb in lb)this.repliesMap[ib].push(lb[mb]);ja(ra,this.repliesMap[ib]);this.showRepliesMap[ib]=jb.length>0;if(this.showReplySocialSentenceMap[ib]===undefined&&this.commentcounts[ib]>0)this.showReplySocialSentenceMap[ib]=!this.showRepliesMap[ib];this.deferredCallback(sa,ra,ma,la);}.bind(this,cb,eb,db));}}if(!this.feedback.isthreaded||!this.comments.length)this.deferredCallback(sa,ra,ma,la);}.bind(this,qa,oa));}.bind(this));};ka.prototype.getToplevelCommentList=function(){if(this.featuredToplevelCommentList)return this.featuredToplevelCommentList;return ba.getCommentList(this.id,this.orderingMode);};ka.prototype.getReplyCommentList=function(la){if(la in this.featuredReplyCommentLists)return this.featuredReplyCommentLists[la];return aa.getCommentList(this.id,la);};ka.prototype.getRange=function(){if(!(this.orderingMode in this.ranges))this.ranges[this.orderingMode]=new z();return this.ranges[this.orderingMode];};ka.prototype.getReplyRange=function(la){if(!(la in this.replyRanges))this.replyRanges[la]=new z();return this.replyRanges[la];};ka.prototype.$UFIControllers=function(la,ma){if(la==this.id){this.getRange().updateRequestedRange(ma.offset,ma.length);}else this.replyRanges[la].updateRequestedRange(ma.offset,ma.length);this.fetchAndUpdate(this.render.bind(this),w.UFIPayloadSourceType.USER_ACTION);};ka.prototype.$UFIController6=function(){n.unmountComponentAtNode(this.root);this.ufiCentralUpdatesSubscriptions.forEach(s.unsubscribe.bind(s));g.unsubscribe(this.clearPageSubscription);this.viewasUFICleanSubscription&&g.unsubscribe(this.viewasUFICleanSubscription);};ka.prototype.$UFIController7=function(){this.$UFIController6();g.unsubscribe(this.clearPageletSubscription);};ka.prototype.$UFIControllert=function(la){this.orderingMode=la;this.fetchAndUpdate(this.render.bind(this),w.UFIPayloadSourceType.USER_ACTION);};e.exports=ka;},null);
__d("SelectionState",["ImmutableObject","invariant","keyMirror"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=i({ANCHOR_KEY:true,ANCHOR_OFFSET:true,FOCUS_KEY:true,FOCUS_OFFSET:true,IS_BACKWARD:true,HAS_FOCUS:true});k.create=function(m){return new k(new g(l(m)));};k.set=function(m,n){return new k(g.set(m.getImmutable(),l(n)));};k.prototype.getAnchorKey=function(){return this.$SelectionState0[j.ANCHOR_KEY];};k.prototype.getAnchorOffset=function(){return this.$SelectionState0[j.ANCHOR_OFFSET];};k.prototype.getFocusKey=function(){return this.$SelectionState0[j.FOCUS_KEY];};k.prototype.getFocusOffset=function(){return this.$SelectionState0[j.FOCUS_OFFSET];};k.prototype.isBackward=function(){return this.$SelectionState0[j.IS_BACKWARD];};k.prototype.hasFocus=function(){return this.$SelectionState0[j.HAS_FOCUS];};k.prototype.hasEdgeWithin=function(m,n,o){var p=this.getAnchorKey(),q=this.getFocusKey();if(p===q&&p===m){var r=this.getStartOffset(),s=this.getEndOffset();return n<=s&&r<=o;}var t;if(m===p){t=this.getAnchorOffset();}else if(m===q){t=this.getFocusOffset();}else return false;return n<=t&&o>=t;};k.prototype.isCollapsed=function(){return (this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset());};k.prototype.getStartKey=function(){return this.isBackward()?this.getFocusKey():this.getAnchorKey();};k.prototype.getStartOffset=function(){return this.isBackward()?this.getFocusOffset():this.getAnchorOffset();};k.prototype.getEndKey=function(){return this.isBackward()?this.getAnchorKey():this.getFocusKey();};k.prototype.getEndOffset=function(){return this.isBackward()?this.getAnchorOffset():this.getFocusOffset();};function k(m){this.$SelectionState0=m;}k.prototype.getImmutable=function(){return this.$SelectionState0;};function l(m){var n=m,o=n.anchorKey,p=n.anchorOffset,q=n.focusKey,r=n.focusOffset,s=n.isBackward,t=n.hasFocus,u={};if(o!==undefined){h(typeof o==='string');u[j.ANCHOR_KEY]=o;}if(p!==undefined){h(typeof p==='number');u[j.ANCHOR_OFFSET]=p;}if(q!==undefined){h(typeof q==='string');u[j.FOCUS_KEY]=q;}if(r!==undefined){h(typeof r==='number');u[j.FOCUS_OFFSET]=r;}if(s!==undefined){h(typeof s==='boolean');u[j.IS_BACKWARD]=s;}if(t!==undefined){h(typeof t==='boolean');u[j.HAS_FOCUS]=t;}return u;}e.exports=k;},null);
__d("MentionResultsPropTypes",["React","SearchableEntry","SelectionState"],function(a,b,c,d,e,f,g,h,i){var j=g.PropTypes,k={selection:j.instanceOf(i).isRequired,contextComponent:j.object.isRequired,mentionableEntries:j.array.isRequired,highlightedMentionable:j.instanceOf(h),onMentionSelect:j.func.isRequired,onMentionHighlight:j.func.isRequired};e.exports=k;},null);
__d("MentionsLayer.react",["Bootloader","Locale","MentionResultsPropTypes","React","areEqual"],function(a,b,c,d,e,f,g,h,i,j,k){var l=j.PropTypes,m=false,n=h.isRTL(),o,p,q,r,s=5,t=j.createClass({displayName:'MentionsLayer',propTypes:Object.assign({},i,{typeaheadView:l.func.isRequired,typeaheadViewProps:l.object}),getInitialState:function(){return {bootloaded:m};},componentWillMount:function(){if(!this.state.bootloaded)u(function(){this.isMounted()&&this.setState({bootloaded:true});}.bind(this));},_onMentionSelect:function(v,w){w.preventDefault();this.props.onMentionSelect(v);},shouldComponentUpdate:function(v,w){return (this.state.bootloaded!==w.bootloaded||!k(this.props.mentionableEntries,v.mentionableEntries)||this.props.highlightedMentionable!==v.highlightedMentionable||this.props.characterOffset!==v.characterOffset);},render:function(){if(!this.state.bootloaded)return null;var v=this.props.mentionableEntries,w=this.props.selection,x=(w.isCollapsed()&&w.hasFocus()&&v&&v.length),y=null;if(x)y=r(this.props.characterOffset,n);var z={};if(this.props.autoflip){z.ContextualLayerAutoFlip=p;z.ContextualLayerUpdateOnScroll=q;}var aa=this.props.typeaheadView;return (j.createElement(o,{shown:x,context:this.props.contextComponent,contextBounds:y,offsetY:s,position:"below",behaviors:z},j.createElement(aa,{viewProps:this.props.typeaheadViewProps,highlightedEntry:this.props.highlightedMentionable,entries:v||[],onSelect:this._onMentionSelect,onHighlight:this.props.onMentionHighlight})));}});function u(v){g.loadModules(["ContextualLayer.react","ContextualLayerAutoFlip","ContextualLayerUpdateOnScroll","getMentionableRect"],function(w,x,y,z){o=w;p=x;q=y;r=z;m=true;v();});}e.exports=t;},null);
__d("fillArray",[],function(a,b,c,d,e,f){function g(h,i){var j=new Array(h);for(var k=0;k<h;k++)j[k]=i;return j;}e.exports=g;},null);
__d("DocumentDecorator",[],function(a,b,c,d,e,f){function g(h,i,j){"use strict";this.$DocumentDecorator0=h;this.$DocumentDecorator1=i;this.$DocumentDecorator2=j||{};}g.prototype.getStrategy=function(){"use strict";return this.$DocumentDecorator0;};g.prototype.getComponent=function(){"use strict";return this.$DocumentDecorator1;};g.prototype.getProps=function(){"use strict";return this.$DocumentDecorator2;};e.exports=g;},null);
__d("DocumentEntityInstance",["ComposedEntityMutability","ComposedEntityType","arrayContains","getObjectValues","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){var l=j(h),m=j(g);function n(o,p,q){"use strict";k(i(l,o));k(i(m,p));this.$DocumentEntityInstance0=o;this.$DocumentEntityInstance1=p;this.$DocumentEntityInstance2=q;}n.prototype.getType=function(){"use strict";return this.$DocumentEntityInstance0;};n.prototype.getMutability=function(){"use strict";return this.$DocumentEntityInstance1;};n.prototype.getData=function(){"use strict";return this.$DocumentEntityInstance2;};n.prototype.replaceData=function(o){"use strict";this.$DocumentEntityInstance2=o;};e.exports=n;},null);
__d("DocumentEntity",["DocumentEntityInstance","invariant"],function(a,b,c,d,e,f,g,h){var i={},j=0,k={create:function(l,m,n){return k.add(new g(l,m,n));},add:function(l){i[++j]=l;return j.toString();},get:function(l){var m=i[l];h(!!m);return m;}};e.exports=k;},null);
__d("EmoticonSpan.react",["DocumentEntity","React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k={smile:"_5uj7",frown:"_5uj8",tongue:"_5uj9",grin:"_5uja",gasp:"_5ujb",wink:"_5ujc",glasses:"_5ujd",sunglasses:"_5ujh",grumpy:"_5uji",unsure:"_5ujj",cry:"_5ujw",devil:"_5ujx",angel:"_5ujy",kiss:"_5ujz",heart:"_5uk7",kiki:"_5ukd",squint:"_5ukg",confused:"_5ukj",confused_rev:"_5ukl",upset:"_5ukp",pacman:"_5ukq",robot:"_5ukr",colonthree:"_5uks",penguin:"_5ukt",putnam:"_5uku",shark:"_5ukv",like:"_5ukw",poop:"_5ukx"},l=h.createClass({displayName:'EmoticonSpan',render:function(){var m=g.get(this.props.entityKey),n=m.getData().type,o=j("_5uky",k[n]);return (h.createElement(h.DOM.span,{className:o,title:n,'data-offset-key':this.props.offsetKey},h.createElement(h.DOM.span,{className:"_5ukz"},this.props.children)));}});e.exports=l;},null);
__d("HashtagSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:'HashtagSpan',render:function(){return (g.createElement(g.DOM.span,{'data-offset-key':this.props.offsetKey,className:"_5u8n",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("MentionSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:'MentionSpan',render:function(){return (g.createElement(g.DOM.span,{'data-offset-key':this.props.offsetKey,className:"_5u8u",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("WeakMentionSpan.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:'WeakMentionSpan',render:function(){return (g.createElement(g.DOM.span,{'data-offset-key':this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children));}});e.exports=i;},null);
__d("findRanges",[],function(a,b,c,d,e,f){function g(h,i,j){var k=0,l=0,m;for(var n=0;n<h.length;n++){l++;m=h[n];if(m!==h[n+1]){if(i(m))j(k,l);k=l;}}}e.exports=g;},null);
__d("getHashtagMatchesExperimental",["getHashtagRegex"],function(a,b,c,d,e,f,g){var h=g();function i(j,k){var l=j.getText(),m,n,o,p;while((m=h.exec(l))!==null){n=m.index+m[1].length;o=m[2];p=m[3];k(n,n+o.length+p.length);}}e.exports=i;},null);
__d("getMentionsInputDecorator",["ComposedEntityType","DocumentCompositeDecorator.Experimental","DocumentDecorator","EmoticonSpan.react","HashtagSpan.react","MentionSpan.react","WeakMentionSpan.react","getEntityMatcherExperimental","getHashtagMatchesExperimental"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=g.EMOTICON,q=g.MENTION,r;function s(){if(!r)r=new h([new i(n(function(t){var u=t.getData();return t.getType()===q&&u&&u.isWeak;}),m),new i(n(function(t){return t.getType()===q;}),l),new i(n(function(t){return t.getType()===p;}),j),new i(o,k)]);return r;}e.exports=s;},null);
__d("DocumentCharacters",[],function(a,b,c,d,e,f){var g={BLOCK_DELIMITER:'\u000D',SOFT_NEWLINE:'\u000A',PHOTO:'\ud83d\udcf7',VIDEO:'\ud83d\udcf9'};e.exports=g;},null);
__d("ContentBlock",["ImmutableObject","invariant","keyMirror"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=i({KEY:true,TYPE:true,TEXT:true,INLINE_STYLES:true,ENTITIES:true});k.create=function(m){return new k(new g(l(m)));};k.set=function(m,n){return new k(g.set(m.getImmutable(),l(n)));};k.prototype.getKey=function(){return this.$ContentBlock0[j.KEY];};k.prototype.getType=function(){return this.$ContentBlock0[j.TYPE];};k.prototype.getText=function(){return this.$ContentBlock0[j.TEXT];};k.prototype.getLength=function(){return this.getText().length;};k.prototype.getInlineStyles=function(){return this.$ContentBlock0[j.INLINE_STYLES];};k.prototype.getEntities=function(){return this.$ContentBlock0[j.ENTITIES];};function k(m){this.$ContentBlock0=m;}k.prototype.getImmutable=function(){return this.$ContentBlock0;};function l(m){var n=m,o=n.key,p=n.type,q=n.text,r=n.inlineStyles,s=n.entities,t={};if(o!==undefined){h(typeof o==='string');t[j.KEY]=o;}if(p!==undefined){h(typeof p==='number');t[j.TYPE]=p;}if(q!==undefined){h(typeof q==='string');t[j.TEXT]=q;}if(r!==undefined){h(Array.isArray(r));t[j.INLINE_STYLES]=r;}if(s!==undefined){h(Array.isArray(s));t[j.ENTITIES]=s;}return t;}e.exports=k;},null);
__d("ImmutableMap",["Immutable","emptyFunction","invariant","keyOf"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=j({_DONT_EVER_TYPE_THIS_SECRET_KEY:null}),l='__size_DoNotEverTouchThis',m='__keyByIndexDoNotEverTouchThis',n='__indexByKeyDoNotEverTouchThis';function o(v){var w=isNaN(+v)||(v.substring&&v.substring(0,1)==='.'),x=v===m||v===n||v===l;return !x&&typeof v==='string'&&v!==''&&w;}function p(v,w,x){i(typeof v==='number'&&typeof w==='number'&&w>=0&&v>=0&&v+w<=x);}function q(v){return v instanceof g&&v.hasOwnProperty(l);}function r(v){i(q(v));}function s(v){return v===l||v===m||v===n;}function t(v,w,x,y){var z={enumerable:false,configurable:true,writable:true,value:w},aa={enumerable:false,configurable:true,writable:true,value:x},ba={enumerable:false,configurable:true,writable:true,value:y};Object.defineProperty(v,l,z);Object.defineProperty(v,m,aa);Object.defineProperty(v,n,ba);}var u={create:function(){var v=new g(g[k]),w=u.mergeAndValidateAllPropertiesInto(v,arguments);t(v,w,[],{});v[m].areComputed=false;return v;},mergeAndValidateAllPropertiesInto:function(v,w){var x=w.length,y=0;for(var z=0;z<x;z++){var aa=w[z];for(var ba in aa){if(!aa.hasOwnProperty(ba)||q(aa)&&s(ba))continue;if(!v.hasOwnProperty(ba)){i(o(ba));y++;}var ca=aa[ba];i(ca!==undefined);v[ba]=ca;}}return y;},customDeepFreezeRootNode:function(v){r(v);Object.freeze(v);for(var w in v){if(!v.hasOwnProperty(w)||s(w))continue;g.recurseDeepFreeze(v[w]);}Object.seal(v);},set:function(v,w){r(v);i(w instanceof g||(typeof w==='object'&&w!==undefined&&!Array.isArray(w)));return u.create(v,w);},fromArray:function(v,w){var x=Array.isArray(v),y=typeof w==='function';i(x);i(y);var z=new g(g[k]),aa=[],ba={};t(z,v.length,aa,ba);for(var ca=0;ca<v.length;ca++){var da=v[ca],ea=w(da,ca);i(!z.hasOwnProperty(ea));i(o(ea));z[ea]=da;aa[ca]=''+ea;ba[ea]=ca;}aa.areComputed=true;return z;},size:function(v){r(v);u._computePositionsIfNeeded(v);return v[l];},has:function(v,w){i(o(w));r(v);return v.hasOwnProperty(w);},get:function(v,w){i(o(w));return v.hasOwnProperty(w)?v[w]:undefined;},map:function(v,w,x){r(v);u._computePositionsIfNeeded(v);return u.mapRange(v,w,0,u.size(v),x);},mapRange:function(v,w,x,y,z){r(v);u._computePositionsIfNeeded(v);var aa={},ba=0;p(x,y,u.size(v));var ca=x+y-1;for(var da in v)if(v.hasOwnProperty(da)){if(ba>=x){if(ba>ca)break;aa[da]=w.call(z,v[da],da,ba);}ba++;}return u.create(aa);},filter:function(v,w,x){return u.filterRange(v,w,0,u.size(v),x);},filterRange:function(v,w,x,y,z){var aa={};u.forEachRange(v,function(ba,ca,da){if(w.call(z,ba,ca,da))aa[ca]=ba;},x,y);return u.create(aa);},forEach:function(v,w,x){u.forEachRange(v,w,0,u.size(v),x);},forEachRange:function(v,w,x,y,z){r(v);p(x,y,u.size(v));var aa=0,ba=x+y-1;for(var ca in v)if(v.hasOwnProperty(ca)){if(aa>=x){if(aa>ba)break;w.call(z,v[ca],ca,aa);}aa++;}},mapKeyRange:function(v,w,x,y,z){var aa=u.indexOfKey(v,x),ba=u.indexOfKey(v,y);i(aa!=null&&ba!=null);i(ba>=aa);var ca=(ba-aa)+1;return u.mapRange(v,w,aa,ca,z);},forEachKeyRange:function(v,w,x,y,z){var aa=u.indexOfKey(v,x),ba=u.indexOfKey(v,y);i(aa!=null&&ba!=null);i(ba>=aa);var ca=(ba-aa)+1;u.forEachRange(v,w,aa,ca,z);},keyAtIndex:function(v,w){u._computePositionsIfNeeded(v);var x=v[m][w];return x?x:undefined;},valueAtIndex:function(v,w){var x=u.keyAtIndex(v,w);return x!==undefined?v[x]:undefined;},keyAfter:function(v,w){return u.nthKeyAfter(v,w,1);},keyBefore:function(v,w){return u.nthKeyBefore(v,w,1);},nthKeyAfter:function(v,w,x){var y=u.indexOfKey(v,w);i(y!==undefined);return u.keyAtIndex(v,y+x);},nthKeyBefore:function(v,w,x){return u.nthKeyAfter(v,w,-x);},indexOfKey:function(v,w){i(o(w));u._computePositionsIfNeeded(v);var x=v[n][w];return x===undefined?undefined:x;},slice:function(v,w,x){return u.mapRange(v,h.thatReturnsArgument,w,x);},sliceByKey:function(v,w,x){var y=u.indexOfKey(v,w),z=u.indexOfKey(v,x);i(y!=null&&z!=null);i(z>=y);var aa=(z-y)+1;return u.slice(v,y,aa);},toArray:function(v){var w=0,x=u.size(v),y=[];for(var z in v)if(v.hasOwnProperty(z)){if(w>x)break;y.push(v[z]);w++;}return y;},_computePositionsIfNeeded:function(v){if(v[m].areComputed===false)u._computePositionsFromDictionary(v);},_computePositionsFromDictionary:function(v){var w=v[m],x=v[n],y=0;for(var z in v)if(v.hasOwnProperty(z)){w[y]=z;x[z]=y;y++;}v[m].areComputed=true;}};e.exports=u;},null);
__d("ContentState",["DocumentCharacters","Immutable","ImmutableMap","ImmutableObject","SelectionState","invariant","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";var n=g.SOFT_NEWLINE,o=m({BLOCK_MAP:true,TREE_MAP:true,SELECTION_BEFORE:true,SELECTION_AFTER:true});p.create=function(r){return new p(new j(q(r)));};p.set=function(r,s){return new p(j.set(r.getImmutable(),q(s)));};p.prototype.getBlockMap=function(){return this.$ContentState0[o.BLOCK_MAP];};p.prototype.getSelectionBefore=function(){return this.$ContentState0[o.SELECTION_BEFORE];};p.prototype.getSelectionAfter=function(){return this.$ContentState0[o.SELECTION_AFTER];};p.prototype.getBlockForKey=function(r){return i.get(this.getBlockMap(),r)||null;};p.prototype.getKeyBefore=function(r){return i.keyBefore(this.getBlockMap(),r)||null;};p.prototype.getKeyAfter=function(r){return i.keyAfter(this.getBlockMap(),r)||null;};p.prototype.getBlockAfter=function(r){var s=this.getKeyAfter(r);return s?i.get(this.getBlockMap(),s):null;};p.prototype.getBlockBefore=function(r){var s=this.getKeyBefore(r);return s?i.get(this.getBlockMap(),s):null;};p.prototype.getBlocksAsArray=function(){return i.toArray(this.getBlockMap());};p.prototype.getLastBlock=function(){var r=this.getBlockMap(),s=i.size(r);return i.valueAtIndex(r,s-1);};p.prototype.getPlainText=function(r){return i.toArray(i.map(this.getBlockMap(),function(s,t){return s.getText();})).join(r||n);};p.prototype.hasText=function(){var r=this.getBlockMap(),s=i.valueAtIndex(r,0);return !(i.size(r)===1&&s.getText().length===0);};function p(r){this.$ContentState0=r;}p.prototype.getImmutable=function(){return this.$ContentState0;};function q(r){var s=r,t=s.blockMap,u=s.selectionBefore,v=s.selectionAfter,w={};if(t!==undefined){l(t instanceof h);w[o.BLOCK_MAP]=t;}if(u!==undefined){l(u instanceof k);w[o.SELECTION_BEFORE]=u;}if(v!==undefined){l(v instanceof k);w[o.SELECTION_AFTER]=v;}return w;}e.exports=p;},null);
__d("ContentStateInlineStyle",["ContentBlock","ContentState","ImmutableMap","areEqual"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k={add:function(m,n,o){return l(m,n,o,true);},remove:function(m,n,o){return l(m,n,o,false);}};function l(m,n,o,p){var q=m.getBlockMap(),r=n.getStartKey(),s=n.getStartOffset(),t=n.getEndKey(),u=n.getEndOffset(),v=i.mapKeyRange(q,function(w,x){var y,z;if(r===t){y=s;z=u;}else{y=x===r?s:0;z=x===t?u:w.getLength();}var aa=w.getInlineStyles(),ba=aa.slice(y,z),ca=ba.map(function(ea){return (p?ea|o:ea&(~o));});if(j(ca,ba))return w;var da=aa.slice(0,y).concat(ca,aa.slice(z,w.getLength()));return g.set(w,{inlineStyles:da});},r,t);return h.set(m,{blockMap:i.set(q,v),selectionBefore:n,selectionAfter:n});}e.exports=k;},null);
__d("applyEntityToContentState",["ContentState","ImmutableMap","applyEntityToContentBlock"],function(a,b,c,d,e,f,g,h,i){function j(k,l,m){var n=k.getBlockMap(),o=l.getStartKey(),p=l.getStartOffset(),q=l.getEndKey(),r=l.getEndOffset(),s=h.mapKeyRange(n,function(t,u){var v,w;if(o===q){v=p;w=r;}else{v=u===o?p:0;w=u===q?0:t.getLength();}return i(t,v,w,m);},o,q);return g.set(k,{blockMap:h.set(n,s),selectionBefore:l,selectionAfter:l});}e.exports=j;},null);
__d("DocumentRemovalDirection",[],function(a,b,c,d,e,f){var g={BACKWARD:0,FORWARD:1};e.exports=g;},null);
__d("DocumentEntitySegmentsExperimental",["DocumentRemovalDirection"],function(a,b,c,d,e,f,g){var h=g.FORWARD,i={getRemovalRange:function(j,k,l,m,n){var o=l.split(' ');o=o.map(function(y,z){if(n===h){if(z>0)return ' '+y;}else if(z<o.length-1)return y+' ';return y;});var p=m,q,r,s=null,t=null;for(var u=0;u<o.length;u++){r=o[u];q=p+r.length;if(j<q&&p<k){if(s!==null){t=q;}else{s=p;t=q;}}else if(s!==null)break;p=q;}var v=m+l.length,w=s===m,x=t===v;if((!w&&x)||(w&&!x))if(n===h){if(t!==v)t++;}else if(s!==m)s--;return {start:s,end:t};}};e.exports=i;},null);
__d("checkRangeOverlap",["invariant"],function(a,b,c,d,e,f,g){function h(i,j,k,l){g(i<=j&&k<=l);return (i<l&&j>k);}e.exports=h;},null);
__d("getRangesForDocumentEntityExperimental",["findRanges","invariant"],function(a,b,c,d,e,f,g,h){function i(j,k){var l=[];g(j,function(m){return m===k;},function(m,n){l.push({start:m,end:n});});h(!!l.length);return l;}e.exports=i;},null);
__d("getCharacterRemovalRangeExperimental",["ComposedEntityMutability","DocumentEntity","DocumentEntitySegmentsExperimental","SelectionState","checkRangeOverlap","getRangesForDocumentEntityExperimental","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=g.MUTABLE,o=g.IMMUTABLE;function p(q,r,s){var t=r.getStartOffset(),u=r.getEndOffset(),v=q.getEntities(),w=v[t];if(!w)return r;var x=h.get(w),y=x.getMutability();if(y===n)return r;var z=l(v,w).filter(function(ca){return k(t,u,ca.start,ca.end);});m(z.length==1);var aa=z[0];if(y===o)return j.set(r,{anchorOffset:aa.start,focusOffset:aa.end,isBackward:false});var ba=i.getRemovalRange(t,u,q.getText().slice(aa.start,aa.end),aa.start,s);return j.set(r,{anchorOffset:ba.start,focusOffset:ba.end,isBackward:false});}e.exports=p;},null);
__d("generateBlockKey",[],function(a,b,c,d,e,f){var g={},h=Math.pow(2,24);function i(){var j;while(j===undefined||g.hasOwnProperty(j)||!isNaN(+j))j=Math.floor(Math.random()*h).toString(32);g[j]=true;return j;}e.exports=i;},null);
__d("insertFragmentIntoContentState",["ContentBlock","ContentState","ImmutableMap","SelectionState","generateBlockKey","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";function m(n,o,p){l(o.isCollapsed());var q=o.getStartKey(),r=o.getStartOffset(),s=n.getBlockMap(),t=i.size(p),u,v;if(t===1){var w=i.get(s,q),x=i.valueAtIndex(p,0),y=w.getText(),z=w.getInlineStyles(),aa=w.getEntities(),ba=g.set(w,{text:(y.slice(0,r)+x.getText()+y.slice(r)),inlineStyles:(z.slice(0,r).concat(x.getInlineStyles(),z.slice(r))),entities:(aa.slice(0,r).concat(x.getEntities(),aa.slice(r)))}),ca={};ca[q]=ba;u=q;v=r+x.getText().length;return h.set(n,{blockMap:i.set(s,ca),selectionBefore:o,selectionAfter:j.set(o,{anchorKey:u,anchorOffset:v,focusKey:u,focusOffset:v,isBackward:false})});}var da=[];i.forEach(n.getBlockMap(),function(fa,ga){if(ga!==q){da.push(fa);return;}var ha=fa.getText(),ia=fa.getInlineStyles(),ja=fa.getEntities(),ka=ha.length,la=ha.slice(0,r),ma=ia.slice(0,r),na=ja.slice(0,r),oa=i.valueAtIndex(p,0),pa=g.set(fa,{text:la+oa.getText(),inlineStyles:ma.concat(oa.getInlineStyles()),entities:na.concat(oa.getEntities())});da.push(pa);i.forEach(i.slice(p,1,t-2),function(va){da.push(g.set(va,{key:k()}));});var qa=ha.slice(r,ka),ra=ia.slice(r,ka),sa=ja.slice(r,ka),ta=i.valueAtIndex(p,t-1);u=k();var ua=g.set(ta,{key:u,text:ta.getText()+qa,inlineStyles:ta.getInlineStyles().concat(ra),entities:ta.getEntities().concat(sa)});da.push(ua);});var ea=i.valueAtIndex(p,t-1);v=ea.getText().length;return h.set(n,{blockMap:i.fromArray(da,function(fa){return fa.getKey();}),selectionBefore:o,selectionAfter:j.set(o,{anchorKey:u,anchorOffset:v,focusKey:u,focusOffset:v,isBackward:false})});}e.exports=m;},null);
__d("insertTextIntoContentState",["ContentBlock","ContentState","ImmutableMap","SelectionState","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function l(m,n,o,p,q){k(n.isCollapsed());var r=o.length;k(r===p.length&&r===q.length);if(!o.length)return m;var s=m.getBlockMap(),t=n.getStartKey(),u=n.getStartOffset(),v=i.get(s,t),w=v.getText(),x=v.getInlineStyles(),y=v.getEntities(),z=w.length,aa=g.set(v,{text:(w.slice(0,u)+o+w.slice(u,z)),inlineStyles:x.slice(0,u).concat(p,x.slice(u,z)),entities:y.slice(0,u).concat(q,y.slice(u,z))}),ba={};ba[t]=aa;var ca=u+r;return h.set(m,{blockMap:i.set(s,ba),selectionAfter:j.set(n,{anchorOffset:ca,focusOffset:ca})});}e.exports=l;},null);
__d("removeEntitiesAtEdges",["ContentBlock","ContentState","ComposedEntityMutability","DocumentEntity","ImmutableMap","fillArray","findRanges","isEmpty"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=i.MUTABLE;function p(s,t){var u=s.getBlockMap(),v={},w=t.getStartKey(),x=t.getStartOffset(),y=k.get(u,w),z=r(y,x);if(z)v[w]=z;var aa=t.getEndKey(),ba=t.getEndOffset(),ca=k.get(u,aa);if(w===aa&&z)ca=z;var da=r(ca,ba);if(da)v[aa]=da;if(n(v))return h.set(s,{selectionAfter:t});return h.set(s,{blockMap:k.set(u,v),selectionAfter:t});}function q(s,t,u){var v;m(s,function(w){return w===t;},function(w,x){if(w<=u&&x>=u)v={start:w,end:x};});return v;}function r(s,t){var u=s.getEntities(),v=u[t-1],w=u[t];if(w&&w===v){var x=j.get(w);if(x.getMutability()!==o){var y=q(u,w,t);return g.set(s,{entities:u.slice(0,y.start).concat(l(y.end-y.start,null),u.slice(y.end))});}}return null;}e.exports=p;},null);
__d("removeRangeFromContentState",["ContentBlock","ContentState","ImmutableMap","SelectionState"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(l,m){if(m.isCollapsed())return l;var n=l.getBlockMap(),o=m.getStartKey(),p=m.getStartOffset(),q=i.indexOfKey(n,o),r=m.getEndKey(),s=m.getEndOffset(),t=i.indexOfKey(n,r),u=i.map(n,function(v,w,x){if(x<q||x>t)return v;if(x>q&&x<=t)return null;var y=i.get(n,r),z=y.getText(),aa=y.getInlineStyles(),ba=y.getEntities(),ca=z.length,da=v.getText(),ea=v.getInlineStyles(),fa=v.getEntities();return g.set(v,{text:(da.slice(0,p)+z.slice(s,ca)),inlineStyles:ea.slice(0,p).concat(aa.slice(s,ca)),entities:fa.slice(0,p).concat(ba.slice(s,ca))});});return h.set(l,{blockMap:i.filter(u,function(v){return !!v;}),selectionBefore:m,selectionAfter:j.set(m,{anchorKey:o,anchorOffset:p,focusKey:o,focusOffset:p,isBackward:false})});}e.exports=k;},null);
__d("setBlockTypeForContentState",["ContentBlock","ContentState","ImmutableMap"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(k,l,m){var n=k.getBlockMap(),o=i.mapKeyRange(n,function(p,q){return g.set(p,{type:m});},l.getStartKey(),l.getEndKey());return h.set(k,{blockMap:i.set(n,o),selectionBefore:l,selectionAfter:l});}e.exports=j;},null);
__d("splitBlockInContentState",["ContentBlock","ContentState","ImmutableMap","SelectionState","generateBlockKey","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";function m(n,o){l(o.isCollapsed());var p=o.getAnchorKey(),q=o.getAnchorOffset(),r=n.getBlockMap(),s=i.get(r,p),t=s.getText(),u=s.getInlineStyles(),v=s.getEntities(),w=g.set(s,{text:t.slice(0,q),inlineStyles:u.slice(0,q),entities:v.slice(0,q)}),x=k(),y=g.set(w,{key:x,text:t.slice(q),inlineStyles:u.slice(q),entities:v.slice(q)}),z=[];i.forEach(r,function(aa,ba){if(ba===p){z.push(w);z.push(y);}else z.push(aa);});return h.set(n,{blockMap:i.fromArray(z,function(aa){return aa.getKey();}),selectionBefore:o,selectionAfter:j.set(o,{anchorKey:x,anchorOffset:0,focusKey:x,focusOffset:0,isBackward:false})});}e.exports=m;},null);
__d("DocumentModifierExperimental",["ComposedInlineStyle","ContentStateInlineStyle","applyEntityToContentState","fillArray","getCharacterRemovalRangeExperimental","insertFragmentIntoContentState","insertTextIntoContentState","invariant","removeEntitiesAtEdges","removeRangeFromContentState","setBlockTypeForContentState","splitBlockInContentState"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";var s={replaceText:function(t,u,v,w,x){if(w===undefined)w=g.NONE;if(x===undefined)x=null;var y=o(t,u),z=p(y,u);return m(z,z.getSelectionAfter(),v,j(v.length,w),j(v.length,x));},insertText:function(t,u,v,w,x){n(u.isCollapsed());if(w===undefined)w=g.NONE;if(x===undefined)x=null;var y=o(t,u);return m(y,y.getSelectionAfter(),v,j(v.length,w),j(v.length,x));},replaceWithFragment:function(t,u,v){var w=o(t,u),x=p(w,u);return l(x,x.getSelectionAfter(),v);},removeRange:function(t,u,v){if(u.getAnchorKey()===u.getFocusKey()){var w=u.getAnchorKey(),x=u.getStartOffset(),y=u.getEndOffset(),z=t.getBlockForKey(w),aa=z.getEntities(),ba=aa[x],ca=aa[y-1];if(ba&&ba===ca){var da=k(z,u,v);return p(t,da);}}var ea=o(t,u);return p(ea,u);},splitBlock:function(t,u){var v=o(t,u),w=p(v,u);return r(w,w.getSelectionAfter());},applyInlineStyle:function(t,u,v){return h.add(t,u,v);},removeInlineStyle:function(t,u,v){return h.remove(t,u,v);},setBlockType:function(t,u,v){return q(t,u,v);},applyEntity:function(t,u,v){var w=o(t,u);return i(w,u,v);}};e.exports=s;},null);
__d("EditorChangeType",["keyMirror"],function(a,b,c,d,e,f,g){"use strict";var h=g({UNDO:true,REDO:true,CHANGE_SELECTION:true,INSERT_CHARACTERS:true,BACKSPACE_CHARACTER:true,DELETE_CHARACTER:true,REMOVE_RANGE:true,SPLIT_BLOCK:true,INSERT_FRAGMENT:true,CHANGE_INLINE_STYLE:true,CHANGE_BLOCK_TYPE:true,APPLY_ENTITY:true});e.exports=h;},null);
__d("BlockTree",["emptyFunction","fillArray","findRanges"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=g.thatReturnsTrue,k='-',l={generate:function(n,o){var p=n.getText().length;if(!p)return [{start:0,end:0,decoratorKey:null,leaves:[{start:0,end:0}]}];var q=[],r=o?o.getDecorations(n):h(p,null),s=n.getInlineStyles();i(r,j,function(t,u){q.push({start:t,end:u,decoratorKey:r[t],leaves:m(s.slice(t,u),t)});});return q;},getFingerprint:function(n){return n.map(function(o){var p=o.decoratorKey,q=p!==null?p+'.'+(o.end-o.start):'';return ''+q+'.'+o.leaves.length;}).join(k);}};function m(n,o){var p=[];i(n,j,function(q,r){p.push({start:q+o,end:r+o});});return p;}e.exports=l;},null);
__d("generateContentStateKey",[],function(a,b,c,d,e,f){var g=0;function h(){return 'state-'+(++g);}e.exports=h;},null);
__d("EditorState",["BlockTree","ComposedInlineStyle","ContentState","DocumentCompositeDecorator.Experimental","EditorChangeType","Immutable","ImmutableMap","ImmutableObject","SelectionState","generateContentStateKey","invariant","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";var s=r({ALLOW_UNDO:true,BOUNDARY_KEY:true,CURRENT_KEY:true,DECORATOR:true,FORCE_SELECTION:true,IN_COMPOSITION_MODE:true,INLINE_STYLE_OVERRIDE:true,LAST_CHANGE_TYPE:true,NATIVELY_RENDERED_KEY:true,SELECTION:true,STACK:true,TREE_MAP:true});t.create=function(ba){if(ba.allowUndo===undefined)ba.allowUndo=true;var ca=u(ba);ca[s.TREE_MAP]=v(m.get(ca[s.STACK],ca[s.CURRENT_KEY]),ca[s.DECORATOR]);return new t(new n(ca));};t.set=function(ba,ca){var da=u(ca),ea=da[s.STACK]||ba.getStack(),fa=da[s.CURRENT_KEY]||ba.getCurrentKey(),ga=m.get(ea,fa),ha=da[s.DECORATOR]||ba.getDecorator();if(ha!==ba.getDecorator()){da[s.TREE_MAP]=v(ga,ha);da[s.NATIVELY_RENDERED_KEY]=null;}else if(ga!==ba.getCurrentContent())da[s.TREE_MAP]=w(ba,ga,ha);return new t(n.set(ba.getImmutable(),da));};t.prototype.allowUndo=function(){return this.$EditorState0[s.ALLOW_UNDO];};t.prototype.getCurrentKey=function(){return this.$EditorState0[s.CURRENT_KEY];};t.prototype.getBoundaryKey=function(){return this.$EditorState0[s.BOUNDARY_KEY];};t.prototype.getStack=function(){return this.$EditorState0[s.STACK];};t.prototype.getTreeMap=function(){return this.$EditorState0[s.TREE_MAP];};t.prototype.getSelection=function(){return this.$EditorState0[s.SELECTION];};t.prototype.getDecorator=function(){return this.$EditorState0[s.DECORATOR];};t.prototype.isInCompositionMode=function(){return this.$EditorState0[s.IN_COMPOSITION_MODE];};t.prototype.mustForceSelection=function(){return this.$EditorState0[s.FORCE_SELECTION];};t.prototype.getNativelyRenderedKey=function(){return this.$EditorState0[s.NATIVELY_RENDERED_KEY];};t.prototype.getLastChangeType=function(){return this.$EditorState0[s.LAST_CHANGE_TYPE];};t.prototype.getCurrentContent=function(){return m.get(this.getStack(),this.getCurrentKey());};t.prototype.getInlineStyleOverride=function(){return this.$EditorState0[s.INLINE_STYLE_OVERRIDE];};t.prototype.getCurrentInlineStyle=function(){var ba=this.getInlineStyleOverride();if(ba!=null)return ba;var ca=this.getCurrentContent(),da=this.getSelection();if(da.isCollapsed())return y(ca,da);return z(ca,da);};t.prototype.isAtDocumentStart=function(){var ba=this.getSelection(),ca=this.getCurrentContent(),da=ca.getBlockMap(),ea=m.keyAtIndex(da,0);return ba.hasEdgeWithin(ea,0,0);};t.prototype.isAtDocumentEnd=function(){var ba=this.getSelection(),ca=this.getCurrentContent(),da=ca.getBlockMap(),ea=m.keyAtIndex(da,m.size(da)-1),fa=m.get(da,ea),ga=fa.getText().length;return ba.hasEdgeWithin(ea,ga,ga);};t.updateSelection=function(ba,ca,da){return t.set(ba,{selection:ca,forceSelection:!!da,nativelyRenderedKey:null,inlineStyleOverride:null});};t.moveFocusToEnd=function(ba){var ca=ba.getCurrentContent(),da=ca.getLastBlock(),ea=da.getKey(),fa=da.getLength();return t.updateSelection(ba,o.create({anchorKey:ea,anchorOffset:fa,focusKey:ea,focusOffset:fa,isBackward:false,hasFocus:true}),true);};t.push=function(ba,ca,da){if(ba.getCurrentContent()===ca)return ba;var ea=ba.getStack(),fa=ba.getBoundaryKey(),ga=ba.getCurrentKey(),ha=ba.getCurrentContent(),ia=ba.getSelection(),ja=da!==k.INSERT_CHARACTERS;if(ia!==ha.getSelectionAfter()||x(ba,da)){fa=ga;ca=i.set(ca,{selectionBefore:ia});}else if(da===k.INSERT_CHARACTERS||da===k.BACKSPACE_CHARACTER||da===k.DELETE_CHARACTER)ca=i.set(ca,{selectionBefore:ha.getSelectionBefore()});var ka=p(),la={};la[ka]=ca;var ma;if(ba.allowUndo()){var na=m.indexOfKey(ea,fa)+1,oa=m.slice(ea,0,na);ma=m.set(oa,la);}else ma=m.create(la);return t.set(ba,{stack:ma,boundaryKey:fa,currentKey:ka,lastChangeType:da,selection:ca.getSelectionAfter(),forceSelection:ja,inlineStyleOverride:null});};t.undo=function(ba){if(!ba.allowUndo())return ba;var ca=ba.getBoundaryKey(),da=ba.getCurrentKey(),ea=ba.getStack(),fa=ba.getCurrentContent();if(ca===da){var ga=m.nthKeyBefore(ea,ca,1);if(ga===undefined)return ba;return t.set(ba,{boundaryKey:ga,currentKey:ga,forceSelection:true,inlineStyleOverride:null,lastChangeType:k.UNDO,nativelyRenderedKey:null,selection:fa.getSelectionBefore()});}return t.set(ba,{currentKey:ca,forceSelection:true,inlineStyleOverride:null,lastChangeType:k.UNDO,nativelyRenderedKey:null,selection:fa.getSelectionBefore(),stack:ea});};t.redo=function(ba){if(!ba.allowUndo())return ba;var ca=ba.getStack(),da=m.nthKeyAfter(ca,ba.getBoundaryKey(),1);if(da===undefined)return ba;var ea=m.get(ca,da);return t.set(ba,{boundaryKey:da,currentKey:da,forceSelection:true,inlineStyleOverride:null,lastChangeType:k.REDO,nativelyRenderedKey:null,selection:ea.getSelectionAfter()});};function t(ba){this.$EditorState0=ba;}t.prototype.getImmutable=function(){return this.$EditorState0;};function u(ba){var ca=ba,da=ca.allowUndo,ea=ca.boundaryKey,fa=ca.currentKey,ga=ca.decorator,ha=ca.forceSelection,ia=ca.inCompositionMode,ja=ca.inlineStyleOverride,ka=ca.lastChangeType,la=ca.nativelyRenderedKey,ma=ca.selection,na=ca.stack,oa={};if(da!==undefined){q(typeof da==='boolean');oa[s.ALLOW_UNDO]=da;}if(ea!==undefined){q(typeof ea==='string');oa[s.BOUNDARY_KEY]=ea;}if(fa!==undefined){q(typeof fa==='string');oa[s.CURRENT_KEY]=fa;}if(ga!==undefined){q(ga instanceof j);oa[s.DECORATOR]=ga;}if(ha!==undefined){q(typeof ha==='boolean');oa[s.FORCE_SELECTION]=ha;}if(ia!==undefined){q(typeof ia==='boolean');oa[s.IN_COMPOSITION_MODE]=ia;}if(ja!==undefined){q(typeof ja==='number'||ja===null);oa[s.INLINE_STYLE_OVERRIDE]=ja;}if(ka!==undefined){q(typeof ka==='string'||ka===null);oa[s.LAST_CHANGE_TYPE]=ka;}if(la!==undefined){q(typeof la==='string'||la===null);oa[s.NATIVELY_RENDERED_KEY]=la;}if(ma!==undefined){q(ma instanceof o);oa[s.SELECTION]=ma;}if(na!==undefined){q(na instanceof l);oa[s.STACK]=na;}return oa;}function v(ba,ca){return m.map(ba.getBlockMap(),function(da){return g.generate(da,ca);});}function w(ba,ca,da){var ea=ba.getCurrentContent(),fa=ba.getTreeMap(),ga=ea.getBlockMap();return m.map(ca.getBlockMap(),function(ha,ia){if(ha!==m.get(ga,ia))return g.generate(ha,da);return m.get(fa,ia);});}function x(ba,ca){var da=ba.getLastChangeType();return (ca!==da||(ca!==k.INSERT_CHARACTERS&&ca!==k.BACKSPACE_CHARACTER&&ca!==k.DELETE_CHARACTER));}function y(ba,ca){var da=ca.getStartKey(),ea=ca.getStartOffset(),fa=ba.getBlockForKey(da),ga=fa.getInlineStyles();if(ea>0)return ga[ea-1];if(fa.getLength())return ga[0];return aa(ba,da);}function z(ba,ca){var da=ca.getStartKey(),ea=ca.getStartOffset(),fa=ba.getBlockForKey(da),ga=fa.getInlineStyles();if(ea<fa.getLength())return ga[ea];if(ea>0)return ga[ea-1];return aa(ba,da);}function aa(ba,ca){var da=ba.getBlockBefore(ca),ea;while(da){ea=da.getLength();if(ea)return da.getInlineStyles()[ea-1];da=ba.getBlockBefore(da.getKey());}return h.NONE;}e.exports=t;},null);
__d("AbstractTextEditorPlaceholder.Experimental.react",["EditorState","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=h.PropTypes,k=h.createClass({displayName:'AbstractTextEditorPlaceholder',propTypes:{editorState:j.instanceOf(g).isRequired,text:j.string.isRequired},shouldComponentUpdate:function(l,m){if(this.props.text!==l.text)return true;var n=this.props.editorState,o=l.editorState,p=n.getSelection(),q=o.getSelection();return (p.hasFocus()!==q.hasFocus());},render:function(){var l=this.props.editorState.getSelection().hasFocus(),m=(("_5ywb")+(l?' '+"_5ywc":''));return (h.createElement(h.DOM.div,{className:m},this.props.text));}});e.exports=k;},null);
__d("DocumentCommands",["keyMirror"],function(a,b,c,d,e,f,g){var h=g({UNDO:true,REDO:true,DELETE:true,DELETE_WORD:true,DELETE_TO_END_OF_BLOCK:true,BACKSPACE:true,BACKSPACE_WORD:true,BACKSPACE_TO_END_OF_BLOCK:true,BOLD:true,ITALIC:true,UNDERLINE:true,CODE:true,INSERT_BLOCK_DELIMITER:true,TRANSPOSE_CHARACTERS:true,MOVE_SELECTION_TO_START_OF_BLOCK:true,MOVE_SELECTION_TO_END_OF_BLOCK:true});e.exports=h;},null);
__d("getDefaultKeyBinding",["DocumentCommands","Keys","UserAgent"],function(a,b,c,d,e,f,g,h,i){var j=i.isPlatform('Mac OS X'),k=i.isPlatform('Windows'),l=i.isBrowser('Firefox'),m=j&&l&&l<29;function n(u){return u.ctrlKey&&!u.altKey;}function o(u){return j?(u.metaKey&&!u.altKey):n(u);}function p(u){return (j&&u.altKey)||n(u);}function q(u){if(o(u))return u.shiftKey?g.REDO:g.UNDO;}function r(u){if(k&&u.shiftKey)return null;return p(u)?g.DELETE_WORD:g.DELETE;}function s(u){if(o(u)&&j)return g.BACKSPACE_TO_END_OF_BLOCK;return p(u)?g.BACKSPACE_WORD:g.BACKSPACE;}function t(u){switch(u.keyCode){case 66:return o(u)?g.BOLD:null;case 68:return n(u)?g.DELETE:null;case 72:return n(u)?g.BACKSPACE:null;case 73:return o(u)?g.ITALIC:null;case 74:return o(u)?g.CODE:null;case 75:return n(u)?g.DELETE_TO_END_OF_BLOCK:null;case 79:return n(u)?g.INSERT_BLOCK_DELIMITER:null;case 84:return j&&n(u)?g.TRANSPOSE_CHARACTERS:null;case 85:return o(u)?g.UNDERLINE:null;case 90:return q(u)||null;case h.DELETE:return r(u);case h.BACKSPACE:return s(u);case h.LEFT:return (m&&o(u)?g.MOVE_SELECTION_TO_START_OF_BLOCK:null);case h.RIGHT:return (m&&o(u)?g.MOVE_SELECTION_TO_END_OF_BLOCK:null);default:return null;}}e.exports=t;},null);
__d("AbstractTextEditorProps.Experimental",["EditorState","React","emptyFunction","getDefaultKeyBinding"],function(a,b,c,d,e,f,g,h,i,j){var k=i.thatReturns(''),l=h.PropTypes,m={propTypes:{editorState:l.instanceOf(g).isRequired,placeholder:l.string,textAlignment:l.oneOf(['left','center','right']),blockStyleFn:l.func,inlineStyleFn:l.func,keyBindingFn:l.func,spellCheck:l.bool,handleReturn:l.func,handleKeyCommand:l.func,handleBeforeInput:l.func,handlePastedFiles:l.func,onEscape:l.func,onTab:l.func,onUpArrow:l.func,onDownArrow:l.func,onBlur:l.func,onFocus:l.func},getDefaultProps:function(){return {blockStyleFn:k,inlineStyleFn:k,keyBindingFn:j,spellCheck:false};}};e.exports=m;},null);
__d("DocumentOffsetKey",[],function(a,b,c,d,e,f){var g='-',h={encode:function(i,j,k){return i+g+j+g+k;},decode:function(i){var j=i.split(g),k=j[0],l=j[1],m=j[2];return {blockKey:k,decoratorKey:l,leafKey:m};}};e.exports=h;},null);
__d("ElementForBlockType",["ComposedBlockType","React"],function(a,b,c,d,e,f,g,h){var i={getElement:function(j){switch(j){case g.HEADER_ONE:return h.DOM.h2;case g.HEADER_TWO:return h.DOM.h3;case g.UNORDERED_LIST_ITEM:case g.ORDERED_LIST_ITEM:return h.DOM.li;case g.BLOCKQUOTE:return h.DOM.blockquote;case g.MEDIA:return h.DOM.figure;default:return h.DOM.div;}},getWrapperElement:function(j){switch(j){case g.UNORDERED_LIST_ITEM:return h.DOM.ul;case g.ORDERED_LIST_ITEM:return h.DOM.ol;case g.CODE:return h.DOM.pre;default:return null;}}};e.exports=i;},null);
__d("TextEditorTextNode.react",["DOMPropertyOperations","ReactBrowserComponentMixin","ReactComponent","ReactDescriptor","UserAgent_DEPRECATED","escapeTextForBrowser","getTextContentAccessor","mixInto"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o=k.ie()<=11,p=i.BackendIDOperations,q=m();function r(z){return o?z[q]==='\n':z.tagName==='BR';}function s(z){p.dangerouslyReplaceNodeWithMarkupByID(z,o?v(z):u(z));}function t(z,aa){if(o){p.updateTextContentByID(z,aa);}else p.dangerouslyReplaceNodeWithMarkupByID(z,w(z,aa));}function u(z){return '<br '+g.createMarkupForID(z)+' />';}function v(z){return w(z,'\n');}function w(z,aa){return ('<span '+g.createMarkupForID(z)+'>'+l(aa)+'</span>');}var x=function(z){};n(x,i.Mixin);n(x,h);n(x,{mountComponent:function(z,aa,ba){i.Mixin.mountComponent.call(this,z,aa,ba);if(this.props==='')return (o?v(z):u(z));return w(z,this.props);},receiveComponent:function(z,aa){var ba=this._rootNodeID,ca=z.props,da=this.getDOMNode();if(r(da)){if(ca!==''){this.props=ca;t(ba,ca);}return;}if(ca===''){this.props=ca;s(ba);return;}var ea=this.getDOMNode()[q];if(ca!==ea)p.updateTextContentByID(ba,ca);},type:x});var y=function(z){return new j(x,null,null,null,null,z);};y.type=x;e.exports=y;},null);
__d("setDocumentSelectionExperimental",[],function(a,b,c,d,e,f){"use strict";function g(j,k,l,m,n){var o=a.getSelection(),p=j.getAnchorKey(),q=j.getAnchorOffset(),r=j.getFocusKey(),s=j.getFocusOffset(),t=j.isBackward();if(!o.extend&&t){var u=p,v=q;p=r;q=s;r=u;s=v;t=false;}var w=(p===l&&m<=q&&n>=q),x=(r===l&&m<=s&&n>=s);if(w&&x){o.removeAllRanges();i(o,k,q-m);h(o,k,s-m);return;}if(!t){if(w){o.removeAllRanges();i(o,k,q-m);}if(x)h(o,k,s-m);}else{if(x){o.removeAllRanges();i(o,k,s-m);}if(w){var y=o.focusNode,z=o.focusOffset;o.removeAllRanges();i(o,k,q-m);h(o,y,z);}}}function h(j,k,l){if(j.extend){j.extend(k,l);}else{var m=j.getRangeAt(0);m.setEnd(k,l);j.addRange(m.cloneRange());}}function i(j,k,l){var m=document.createRange();m.setStart(k,l);j.addRange(m);}e.exports=g;},null);
__d("TextEditorLeaf.Experimental.react",["DocumentCharacters","React","SelectionState","TextEditorTextNode.react","endsWith","setDocumentSelectionExperimental"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=h.PropTypes,n=g.SOFT_NEWLINE,o=3,p=h.createClass({displayName:'TextEditorLeaf',propTypes:{selection:m.instanceOf(i),start:m.number.isRequired,blockKey:m.string.isRequired,text:m.string.isRequired,style:m.number,inlineStyleFn:m.func.isRequired,isLast:m.bool.isRequired},_setSelection:function(){var q=this.props.selection;if(q==null||!q.hasFocus())return;var r=this.props.start,s=r+this.props.text.length,t=this.props.blockKey;if(!q.hasEdgeWithin(t,r,s))return;var u=this.getDOMNode(),v=u.firstChild,w;if(v.nodeType===o){w=v;}else if(v.tagName==='BR'){w=u;}else w=v.firstChild;l(q,w,t,r,s);},shouldComponentUpdate:function(q){return (this.refs.leaf.getDOMNode().textContent!==q.text||q.forceSelection);},componentDidUpdate:function(){this._setSelection();},componentDidMount:function(){this._setSelection();},render:function(){var q=this.props.text;if(k(q,n)&&this.props.isLast)q+=n;var r;if(this.props.style)r=this.props.inlineStyleFn(this.props.style);return (h.createElement(h.DOM.span,{'data-offset-key':this.props.offsetKey,className:r,ref:"leaf"},j(q)));}});e.exports=p;},null);
__d("TextEditorBlock.Experimental.react",["ContentBlock","DocumentCompositeDecorator.Experimental","DocumentOffsetKey","ElementForBlockType","React","SelectionState","TextEditorLeaf.Experimental.react","UnicodeBidiDirection","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=k.PropTypes,r=n.LTR,s=n.RTL,t=k.createClass({displayName:'TextEditorBlock',propTypes:{block:q.instanceOf(g).isRequired,tree:q.array.isRequired,selection:q.instanceOf(l).isRequired,decorator:q.instanceOf(h),forceSelection:q.bool.isRequired,direction:q.string.isRequired,blockPropTypes:q.object,blockStyleFn:q.func.isRequired,inlineStyleFn:q.func.isRequired},shouldComponentUpdate:function(v){return (this.props.block!==v.block||this.props.tree!==v.tree||this.props.direction!==v.direction||(u(v.selection,v.block.getKey())&&v.forceSelection));},_renderChildren:function(){var v=this.props.block,w=v.getKey(),x=v.getText(),y=v.getInlineStyles(),z=v.getEntities(),aa=this.props.tree.length-1,ba=u(this.props.selection,w);return this.props.tree.map(function(ca,da){var ea=ca.leaves.map(function(ia,ja){var ka=i.encode(w,da,ja);return (k.createElement(m,{key:ka,offsetKey:ka,blockKey:w,start:ia.start,selection:ba?this.props.selection:null,forceSelection:this.props.forceSelection,text:x.slice(ia.start,ia.end),style:y[ia.start],inlineStyleFn:this.props.inlineStyleFn,isLast:da===aa}));}.bind(this));if(ca.decoratorKey===null)return ea;var fa=this.props.decorator.getComponentForKey(ca.decoratorKey),ga=this.props.decorator.getPropsForKey(ca.decoratorKey),ha=i.encode(w,da,0);return (k.createElement(fa,Object.assign({},ga,{key:ha,entityKey:z[ca.start],offsetKey:ha}),ea));}.bind(this));},render:function(){var v=this.props.block,w=v.getKey(),x=p(this.props.blockStyleFn(v.getType()),(("_209g")+(this.props.direction===r?' '+"_2vxa":'')+(this.props.direction===s?' '+"_2vxb":''))),y=j.getElement(v.getType());return (k.createElement(y,Object.assign({style:{position:'relative'},'data-offset-key':i.encode(w,0,0),className:x},this.props.blockProps),this._renderChildren()));}});function u(v,w){return (v.getAnchorKey()===w||v.getFocusKey()===w);}e.exports=t;},null);
__d("isSelectionAtLeafStartExperimental",[],function(a,b,c,d,e,f){"use strict";function g(h){var i=h.getSelection(),j=i.getAnchorKey(),k=h.getTreeMap()[j],l=i.getStartOffset(),m,n,o;for(var p=0;p<k.length;p++){m=k[p];if(l===m.start)return true;if(l<m.end){n=m.leaves;for(var q=0;q<n.length;q++){o=n[q].start;if(l===o)return true;if(l<o)return false;}}}return false;}e.exports=g;},null);
__d("TextEditorCompositionHandler.Experimental",["ComposedInlineStyle","DocumentModifierExperimental","EditorChangeType","EditorState","Keys","isSelectionAtLeafStartExperimental","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=g.NONE,o={onBeforeInput:function(p){this._textInputData=(this._textInputData||'')+p.data;},onCompositionStart:function(){this._stillComposing=true;},onCompositionEnd:function(p){this._resolved=false;this._stillComposing=false;m(function(){if(!this._resolved)o.resolveComposition.call(this);}.bind(this));},onKeyDown:function(p){if(p.which===k.RIGHT||p.which===k.LEFT)p.preventDefault();},onKeyPress:function(p){if(p.which===k.RETURN)p.preventDefault();},resolveComposition:function(){if(this._stillComposing)return;this._resolved=true;var p=this._textInputData;this._textInputData='';var q=j.set(this.props.editorState,{inCompositionMode:false}),r=!p||l(q);if(r)this.restoreEditorDOM();this.exitCurrentMode();this.removeRenderGuard();if(p){var s=h.replaceText(q.getCurrentContent(),q.getSelection(),p,n,null);this.update(j.push(q,s,i.INSERT_CHARACTERS));return;}if(r)this.update(j.set(q,{nativelyRenderedKey:null,forceSelection:true}));}};e.exports=o;},null);
__d("DocumentRemovableWord",["TokenizeUtil"],function(a,b,c,d,e,f,g){var h=g.getPunctuation();h=h.replace("\'","").slice(1,-1);var i='\\s'+h,j='^('+'['+i+']*'+'[^'+i+']+'+'|['+i+']+'+')',k=new RegExp(j),l='('+'[^'+i+']+'+'['+i+']*'+'|['+i+']+'+')$',m=new RegExp(l);function n(p,q){var r=q?m.exec(p):k.exec(p);return r?r[0]:null;}var o={getBackward:function(p){return n(p,true);},getForward:function(p){return n(p,false);}};e.exports=o;},null);
__d("TextEditorModes",[],function(a,b,c,d,e,f){var g={EDIT:0,COMPOSITE:1,DRAG:2,RENDER:3,CUT:4};e.exports=g;},null);
__d("TextEditorPasteHandler",["ComposedBlockType","ComposedInlineStyle","ContentBlock","DocumentCharacters","arrayContains","fillArray","generateBlockKey","getSafeBodyFromHTML"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=h.BOLD,p=h.ITALIC,q=h.UNDERLINE,r=h.NONE,s=j.BLOCK_DELIMITER,t='&nbsp;',u=j.SOFT_NEWLINE,v=' ',w=g.UNSTYLED,x=['p','h1','h2','h3','li','blockquote'],y={strong:o,b:o,em:p,i:p,u:q};function z(){return {text:'',inlines:[],blocks:[]};}function aa(){return {text:v,inlines:[r],blocks:[]};}function ba(){return {text:u,inlines:[r],blocks:[]};}function ca(ka){return {text:s,inlines:[r],blocks:[ka]};}function da(ka,la){switch(ka){case 'h1':return g.HEADER_ONE;case 'h2':return g.HEADER_TWO;case 'li':if(la==='ol')return g.ORDERED_LIST_ITEM;return g.UNORDERED_LIST_ITEM;case 'blockquote':return g.BLOCKQUOTE;case 'pre':return g.CODE;default:return g.UNSTYLED;}}function ea(ka,la,ma){var na=y[ka];if(na){ma|=na;}else if(la.style){ma|=la.style.fontWeight==='bold'?o:0;ma|=la.style.fontStyle==='italic'?p:0;ma|=la.style.textDecoration==='underline'?q:0;}return ma;}function fa(ka,la){if(ka.text.slice(-1)===s&&la.text.slice(0,1)===s){ka.text=ka.text.slice(0,-1);ka.inlines.pop();ka.blocks.pop();}if(ka.text.slice(-1)===s&&(la.text===v||la.text===u))return ka;return {text:ka.text+la.text,inlines:ka.inlines.concat(la.inlines),blocks:ka.blocks.concat(la.blocks)};}function ga(ka){return x.some(function(la){return ka.indexOf('<'+la)!==-1;});}function ha(ka,la,ma,na,oa){var pa=ka.nodeName.toLowerCase(),qa=false;if(pa==="#text"){var ra=ka.textContent;if(ra.trim()==='')return aa();return {text:ra,inlines:l(ra.length,la),blocks:[]};}if(pa==="br")return ba();var sa=z(),ta;la=ea(pa,ka,la);if(pa==="ul"||pa==="ol")ma=pa;if(!na&&k(oa,pa)){sa=ca(da(pa,ma));na=true;qa=true;}ka=ka.firstChild;while(ka){ta=ha(ka,la,ma,na,oa);sa=fa(sa,ta);ka=ka.nextSibling;}if(qa)sa=fa(sa,ca(w));return sa;}function ia(ka){ka=ka.trim().replace(s,'').replace(u,v).replace(t,v);var la=n(ka);if(!la)return null;var ma=ga(ka)?x:['div'],na=ha(la,0,'ul',false,ma);if(na.text.indexOf(s)===0)na={text:na.text.slice(1),inlines:na.inlines.slice(1),blocks:na.blocks};if(na.text.slice(-1)===s){na.text=na.text.slice(0,-1);na.inlines=na.inlines.slice(0,-1);na.blocks.pop();}if(na.blocks.length===0)na.blocks.push(w);if(na.text.split(s).length===na.blocks.length+1)na.blocks.unshift(w);return na;}var ja={processHTML:function(ka){return ia(ka);},processHTMLAsImmutable:function(ka){var la=ia(ka);if(!la)return null;var ma=0;return la.text.split(s).map(function(na,oa){var pa=ma+na.length,qa=i.create({key:m(),type:la.blocks[oa],text:na,inlineStyles:la.inlines.slice(ma,pa),entities:l(na.length,null)});ma=pa+1;return qa;});},processText:function(ka){return {text:ka,inlines:l(ka.length,r),blocks:l(ka.split(s).length,w)};},processTextAsImmutable:function(ka){return ka.map(function(la){return i.create({key:m(),type:w,text:la,inlineStyles:l(la.length,r),entities:l(la.length,null)});});}};e.exports=ja;},null);
__d("getSelectionOffsetKeyForNode",[],function(a,b,c,d,e,f){function g(h){return h.getAttribute&&h.getAttribute('data-offset-key');}e.exports=g;},null);
__d("findAncestorOffsetKey",["getSelectionOffsetKeyForNode"],function(a,b,c,d,e,f,g){function h(i){while(i&&i!==document.documentElement){var j=g(i);if(j!=null)return j;i=i.parentNode;}return null;}e.exports=h;},null);
__d("getContentStateFragment",["ContentBlock","ImmutableMap","generateBlockKey","removeEntitiesAtEdges"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(l,m){var n=m.getStartKey(),o=m.getStartOffset(),p=m.getEndKey(),q=m.getEndOffset(),r=j(l,m),s=r.getBlockMap();return h.mapKeyRange(s,function(t,u){var v=i(),w=t.getText(),x=t.getInlineStyles(),y=t.getEntities();if(n===p)return g.set(t,{key:v,text:w.slice(o,q),inlineStyles:x.slice(o,q),entities:y.slice(o,q)});if(u===n)return g.set(t,{key:v,text:w.slice(o),inlineStyles:x.slice(o),entities:y.slice(o)});if(u===p)return g.set(t,{key:v,text:w.slice(0,q),inlineStyles:x.slice(0,q),entities:y.slice(0,q)});return g.set(t,{key:v});},n,p);}e.exports=k;},null);
__d("getDocumentSelectionExperimental",["DocumentCharacters","DocumentOffsetKey","ImmutableMap","SelectionState","findAncestorOffsetKey","getSelectionOffsetKeyForNode","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=g.SOFT_NEWLINE;function o(u,v){var w=a.getSelection();if(w.rangeCount===0)return {selectionState:j.set(u.getSelection(),{hasFocus:false}),needsRecovery:false};var x=w.anchorNode,y=w.focusNode,z=w.anchorOffset,aa=w.focusOffset,ba=x.nodeType===Node.TEXT_NODE,ca=y.nodeType===Node.TEXT_NODE;if(ba&&ca)return {selectionState:t(u,k(x),z,k(y),aa),needsRecovery:false};var da=null,ea=null;if(ba){da={key:k(x),offset:z};ea=r(v,y,aa);}else if(ca){ea={key:k(y),offset:aa};da=r(v,x,z);}else{da=r(v,x,z);ea=r(v,y,aa);}return {selectionState:t(u,da.key,da.offset,ea.key,ea.offset),needsRecovery:true};}function p(u){while(u.firstChild&&l(u.firstChild))u=u.firstChild;return u;}function q(u){while(u.lastChild&&l(u.lastChild))u=u.lastChild;return u;}function r(u,v,w){var x=k(v);m(x!=null||u===v);if(w===0)return {key:x||l(p(v)),offset:0};var y=v.childNodes[w-1],z,aa;if(!l(y)){z=x;aa=s(y);}else{var ba=q(y);z=l(ba);aa=s(ba);}return {key:z,offset:aa};}function s(u){var v=u.textContent;return v===n?0:v.length;}function t(u,v,w,x,y){var z=u.getSelection(),aa=u.getTreeMap(),ba=h.decode(v),ca=ba.blockKey,da=aa[ca],ea=da[ba.decoratorKey].leaves,fa=ea[ba.leafKey],ga=h.decode(x),ha=ga.blockKey,ia=aa[ha],ja=ia[ga.decoratorKey].leaves,ka=ja[ga.leafKey],la=fa?fa.start+w:null,ma=ka?ka.start+y:null,na=(z.getAnchorKey()===ca&&z.getAnchorOffset()===la&&z.getFocusKey()===ha&&z.getFocusOffset()===ma);if(na)return z;var oa=false;if(ca===ha){if(ka===fa){oa=y<w;}else oa=ka.start<fa.start;}else{var pa=i.indexOfKey(aa,ca),qa=i.indexOfKey(aa,ha);oa=qa<pa;}return j.set(z,{anchorKey:ca,anchorOffset:la,focusKey:ha,focusOffset:ma,isBackward:oa});}e.exports=o;},null);
__d("getTextContentFromFiles",["DocumentCharacters"],function(a,b,c,d,e,f,g){var h=g.BLOCK_DELIMITER,i=/\.textClipping$/,j={'text/plain':true,'text/html':true,'text/rtf':true};function k(m,n){var o=0,p=[];m.forEach(function(q){l(q,function(r){o++;r&&p.push(r);if(o==m.length)n(p.join(h));});});}function l(m,n){if(!a.FileReader||(m.type&&!(m.type in j))){n('');return;}if(m.type===''&&i.test(m.name)){n(m.name.replace(i,''));return;}var o=new FileReader();o.onload=function(){n(o.result);};o.onerror=function(){n('');};o.readAsText(m);}e.exports=k;},null);
__d("TextEditorEditHandler.Experimental",["BlockTree","ContentState","DataTransfer","DocumentCharacters","DocumentCommands","DocumentModifierExperimental","DocumentOffsetKey","DocumentRemovableWord","DocumentRemovalDirection","EditorChangeType","EditorState","ImmutableMap","Keys","SelectionState","TextEditorModes","TextEditorPasteHandler","UnicodeUtils","UserAgent","areEqual","findAncestorOffsetKey","getActiveElement","getContentStateFragment","getDocumentSelectionExperimental","getTextContentFromFiles","isSelectionAtLeafStartExperimental"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){"use strict";var fa=j.SOFT_NEWLINE,ga=x.isBrowser('Safari'),ha={onFocus:function(hb){var ib=this.props.editorState,jb=ib.getSelection();if(jb.hasFocus())return;var kb=t.set(jb,{hasFocus:true});this.props.onFocus&&this.props.onFocus(hb);this.update(q.updateSelection(ib,kb,false));},onBlur:function(hb){if(ga&&aa()===document.body)a.getSelection().removeAllRanges();var ib=this.props.editorState,jb=ib.getSelection();if(!jb.hasFocus())return;var kb=t.set(jb,{hasFocus:false});this.props.onBlur&&this.props.onBlur(hb);this.update(q.updateSelection(ib,kb,false));},onBeforeInput:function(hb){var ib=hb.data;if(!ib)return;if(this.props.handleBeforeInput&&this.props.handleBeforeInput(ib)){hb.preventDefault();return;}var jb=this.props.editorState,kb=jb.getSelection();if(!kb.isCollapsed()){hb.preventDefault();this.update(la(jb,ib,jb.getCurrentInlineStyle(),null));return;}var lb=!ea(jb),mb=la(jb,ib,jb.getCurrentInlineStyle(),null);if(!lb){hb.preventDefault();this.update(mb);return;}var nb=kb.getAnchorKey(),ob=r.get(jb.getTreeMap(),nb),pb=g.getFingerprint(ob),qb=g.getFingerprint(r.get(mb.getTreeMap(),nb));if(gb(ib)||pb!==qb){hb.preventDefault();}else mb=q.set(mb,{nativelyRenderedKey:mb.getCurrentKey()});this.update(mb);},onSelect:function(hb){if(this._blockSelectEvents)return;var ib=this.props.editorState,jb=ca(ib,this.refs.editorContainer.getDOMNode().firstChild),kb=jb.selectionState;if(kb!==ib.getSelection())this.update(q.updateSelection(ib,kb,!!jb.needsRecovery));},onKeyDown:function(hb){var ib=hb.which,jb=this.props.editorState;switch(ib){case s.RETURN:hb.preventDefault();if(!this.props.handleReturn||!this.props.handleReturn(hb))this.update(va(jb));return;case s.ESC:hb.preventDefault();this.props.onEscape&&this.props.onEscape(hb);return;case s.TAB:this.props.onTab&&this.props.onTab(hb);return;case s.UP:this.props.onUpArrow&&this.props.onUpArrow(hb);return;case s.DOWN:this.props.onDownArrow&&this.props.onDownArrow(hb);return;}var kb=this.props.keyBindingFn(hb);if(!kb)return;hb.preventDefault();if(this.props.handleKeyCommand&&this.props.handleKeyCommand(kb))return;if(kb===k.UNDO){ja(jb,this.update);return;}var lb=ia(kb,jb);if(lb!==jb)this.update(lb);},onCharacterData:function(hb){var ib=z(hb),jb=this.props.editorState,kb=jb.getSelection(),lb=jb.getCurrentContent(),mb=jb.getTreeMap(),nb=m.decode(ib),ob=nb.blockKey,pb=r.get(mb,ob),qb=pb[nb.decoratorKey].leaves[nb.leafKey],rb=lb.getBlockForKey(ob);if(rb.getText().slice(qb.start,qb.end)===hb.textContent)return;var sb=t.set(jb.getSelection(),{anchorOffset:qb.start,focusOffset:qb.end,isBackward:false}),tb=l.replaceText(lb,sb,hb.textContent,rb.getInlineStyles()[qb.start],null),ub=ca(this.props.editorState,this.refs.editorContainer.getDOMNode().firstChild),vb=h.set(tb,{selectionBefore:kb,selectionAfter:ub.selectionState});this.update(q.push(jb,vb,p.INSERT_CHARACTERS));},onDragStart:function(hb){this._internalDrag=true;this.setMode(u.DRAG);},onDragOver:function(hb){this._internalDrag=false;this.setMode(u.DRAG);hb.preventDefault();},onCompositionStart:function(hb){this.setRenderGuard();this.captureEditorDOM();this.setMode(u.COMPOSITE);this.update(q.set(this.props.editorState,{inCompositionMode:true}));},onCut:function(hb){var ib=this.props.editorState,jb=ib.getSelection();if(jb.isCollapsed()){hb.preventDefault();return;}this.setRenderGuard();this.captureEditorDOM();cb(ib,function(kb){this._clipboard=kb;this.setMode(u.CUT);setTimeout(function(){this.restoreEditorDOM();this.removeRenderGuard();this.exitCurrentMode();this.update(bb(ib));}.bind(this),0);}.bind(this));},onCopy:function(){cb(this.props.editorState,function(hb){this._clipboard=hb;}.bind(this));},onPaste:function(hb){hb.preventDefault();var ib=new i(hb.clipboardData);if(!ib.isRichText()){var jb=ib.getFiles(),kb=ib.getText();if(jb.length>0){if(this.props.handlePastedFiles&&this.props.handlePastedFiles(jb))return;da(jb,function(tb){tb=tb||kb;if(!tb)return;var ub=tb.split(fa),vb=v.processTextAsImmutable(ub),wb=this.props.editorState,xb=l.replaceWithFragment(wb.getCurrentContent(),wb.getSelection(),r.fromArray(vb,function(yb){return yb.getKey();}));this.update(q.push(wb,xb,p.INSERT_FRAGMENT));}.bind(this));return;}}var lb,mb=ib.getText();if(mb)lb=mb.split(fa);if(this._clipboard){var nb=lb.filter(za),ob=r.toArray(r.map(this._clipboard,function(tb){return tb.getText();})).filter(za),pb=y(nb,ob);if(pb){this.update(ab(this.props.editorState,this._clipboard));return;}}var qb=ib.getHTML();if(qb){var rb=v.processHTMLAsImmutable(qb);if(rb){this.update(ab(this.props.editorState,r.fromArray(rb,function(tb){return tb.getKey();})));return;}}this._clipboard=null;if(lb){var sb=v.processTextAsImmutable(lb);this.update(ab(this.props.editorState,r.fromArray(sb,function(tb){return tb.getKey();})));}}};function ia(hb,ib){switch(hb){case k.UNDO:return ja(ib);case k.REDO:return ka(ib);case k.DELETE:return na(ib);case k.DELETE_WORD:return oa(ib);case k.DELETE_TO_END_OF_BLOCK:return pa(ib);case k.BACKSPACE:return qa(ib);case k.BACKSPACE_WORD:return ta(ib);case k.BACKSPACE_TO_END_OF_BLOCK:return ua(ib);case k.INSERT_BLOCK_DELIMITER:return va(ib);case k.TRANSPOSE_CHARACTERS:return wa(ib);case k.MOVE_SELECTION_TO_START_OF_BLOCK:return xa(ib);case k.MOVE_SELECTION_TO_END_OF_BLOCK:return ya(ib);default:return ib;}}function ja(hb,ib){var jb=q.undo(hb);if(!hb.getNativelyRenderedKey()){ib(jb);return;}ib(q.set(hb,{nativelyRenderedKey:null}));setTimeout(function(){ib(jb);});}function ka(hb){return q.redo(hb);}function la(hb,ib,jb,kb){var lb=l.replaceText(hb.getCurrentContent(),hb.getSelection(),ib,jb,kb||null);return q.push(hb,lb,p.INSERT_CHARACTERS);}function ma(hb,ib,jb){var kb=hb.getSelection(),lb=hb.getCurrentContent(),mb=kb;if(kb.isCollapsed()){if(jb===o.FORWARD){if(hb.isAtDocumentEnd())return lb;}else if(hb.isAtDocumentStart())return lb;mb=ib(hb);if(mb===kb)return lb;}return l.removeRange(lb,mb,jb);}function na(hb){var ib=ma(hb,function(kb){var lb=kb.getSelection(),mb=kb.getCurrentContent(),nb=lb.getAnchorKey(),ob=lb.getAnchorOffset(),pb=mb.getBlockForKey(nb).getText()[ob];return sa(kb,pb?w.getUTF16Length(pb,0):1);},o.FORWARD);if(ib===hb.getCurrentContent())return hb;ib=h.set(ib,{selectionBefore:hb.getSelection()});var jb=hb.getSelection().isCollapsed()?p.DELETE_CHARACTER:p.REMOVE_RANGE;return q.push(hb,ib,jb);}function oa(hb){var ib=ma(hb,function(jb){var kb=jb.getSelection(),lb=kb.getStartOffset(),mb=kb.getStartKey(),nb=jb.getCurrentContent(),ob=nb.getBlockForKey(mb).getText().slice(lb),pb=n.getForward(ob)||'';return sa(jb,pb.length||1);},o.FORWARD);if(ib===hb.getCurrentContent())return hb;return q.push(hb,ib,p.REMOVE_RANGE);}function pa(hb){var ib=ma(hb,function(jb){var kb=jb.getSelection(),lb=kb.getStartOffset(),mb=kb.getStartKey(),nb=jb.getCurrentContent(),ob=nb.getBlockForKey(mb).getText();if(lb===ob.length)return sa(jb,1);return t.set(kb,{focusOffset:ob.length});},o.FORWARD);if(ib===hb.getCurrentContent())return hb;return q.push(hb,ib,p.REMOVE_RANGE);}function qa(hb){var ib=ma(hb,function(kb){var lb=kb.getSelection(),mb=kb.getCurrentContent(),nb=lb.getAnchorKey(),ob=lb.getAnchorOffset(),pb=mb.getBlockForKey(nb).getText()[ob-1];return ra(kb,pb?w.getUTF16Length(pb,0):1);},o.BACKWARD);if(ib===hb.getCurrentContent())return hb;ib=h.set(ib,{selectionBefore:hb.getSelection()});var jb=hb.getSelection().isCollapsed()?p.BACKSPACE_CHARACTER:p.REMOVE_RANGE;return q.push(hb,ib,jb);}function ra(hb,ib){var jb=hb.getSelection(),kb=hb.getCurrentContent(),lb=jb.getStartKey(),mb=jb.getStartOffset(),nb=lb,ob;if(ib>mb){var pb=kb.getKeyBefore(lb);nb=pb;var qb=kb.getBlockForKey(pb);ob=qb.getText().length;}else ob=mb-ib;return t.set(jb,{focusKey:nb,focusOffset:ob,isBackward:true});}function sa(hb,ib){var jb=hb.getSelection(),kb=jb.getStartKey(),lb=jb.getStartOffset(),mb=hb.getCurrentContent(),nb=kb,ob,pb=mb.getBlockForKey(kb);if(ib>(pb.getText().length-lb)){nb=mb.getKeyAfter(kb);ob=0;}else ob=lb+ib;return t.set(jb,{focusKey:nb,focusOffset:ob});}function ta(hb){var ib=ma(hb,function(jb){var kb=jb.getSelection(),lb=kb.getStartOffset();if(lb===0)return ra(jb,1);var mb=kb.getStartKey(),nb=jb.getCurrentContent(),ob=nb.getBlockForKey(mb).getText().slice(0,lb),pb=n.getBackward(ob)||'';return ra(jb,pb.length||1);},o.BACKWARD);if(ib===hb.getCurrentContent())return hb;return q.push(hb,ib,p.REMOVE_RANGE);}function ua(hb){var ib=ma(hb,function(jb){var kb=jb.getSelection();if(kb.getStartOffset()===0)return ra(jb,1);return t.set(kb,{focusOffset:0,isBackward:true});},o.BACKWARD);if(ib===hb.getCurrentContent())return hb;return q.push(hb,ib,p.REMOVE_RANGE);}function va(hb){var ib=l.splitBlock(hb.getCurrentContent(),hb.getSelection());return q.push(hb,ib,p.SPLIT_BLOCK);}function wa(hb){var ib=hb.getSelection();if(!ib.isCollapsed())return hb;var jb=ib.getAnchorOffset();if(jb===0)return hb;var kb=ib.getAnchorKey(),lb=hb.getCurrentContent(),mb=lb.getBlockForKey(kb),nb=mb.getLength();if(nb<=1)return hb;var ob,pb;if(jb===nb){ob=t.set(ib,{anchorOffset:jb-1});pb=ib;}else{ob=t.set(ib,{focusOffset:jb+1});pb=t.set(ob,{anchorOffset:jb+1});}var qb=ba(lb,ob),rb=l.removeRange(lb,ob,o.BACKWARD),sb=rb.getSelectionAfter(),tb=sb.getAnchorOffset()-1,ub=t.set(sb,{anchorOffset:tb,focusOffset:tb}),vb=l.replaceWithFragment(rb,ub,qb),wb=q.push(hb,vb,p.INSERT_FRAGMENT);return q.updateSelection(wb,pb);}function xa(hb){var ib=hb.getSelection(),jb=ib.getStartKey(),kb=t.set(ib,{anchorKey:jb,anchorOffset:0,focusKey:jb,focusOffset:0,isBackward:false});return q.set(hb,{selection:kb,forceSelection:true});}function ya(hb){var ib=hb.getSelection(),jb=ib.getEndKey(),kb=hb.getCurrentContent(),lb=kb.getBlockForKey(jb),mb=lb.getText().length,nb=t.set(ib,{anchorKey:jb,anchorOffset:mb,focusKey:jb,focusOffset:mb,isBackward:false});return q.set(hb,{selection:nb,forceSelection:true});}function za(hb){return hb.length>0;}function ab(hb,ib){var jb=l.replaceWithFragment(hb.getCurrentContent(),hb.getSelection(),ib);return q.push(hb,jb,p.INSERT_FRAGMENT);}function bb(hb){var ib=l.removeRange(hb.getCurrentContent(),hb.getSelection(),o.FORWARD);return q.push(hb,ib,p.REMOVE_RANGE);}function cb(hb,ib){var jb=hb.getSelection();if(!jb.isCollapsed())ib(ba(hb.getCurrentContent(),jb));}var db='\'',eb='\/',fb=x.isBrowser('Firefox');function gb(hb){return (fb&&(hb==db||hb==eb));}e.exports=ha;},null);
__d("TextEditorDragHandler",["DataTransfer"],function(a,b,c,d,e,f,g){function h(j,event){var k,l;if(document.caretRangeFromPoint){var m=document.caretRangeFromPoint(event.x,event.y);k=m.startContainer;l=m.startOffset;}else if(event.rangeParent){k=event.rangeParent;l=event.rangeOffset;}if(k){var n=document.createRange();n.setStart(j,0);n.setEnd(k,l);var o=n.toString().length;n.detach();return o;}}var i={onDragEnd:function(){this.exitCurrentMode();},onDrop:function(j){var k=new g(j.nativeEvent.dataTransfer),l=h(this.refs.editorContainer.getDOMNode(),j.nativeEvent);if(l!=null){var m=k.getFiles();if(this.props.onDropFiles&&m.length>0){this.props.onDropFiles(l,m);}else if(this.props.onDropSelection&&this._internalDrag){this.props.onDropSelection(l);}else if(this.props.onDropText)this.props.onDropText(l,k.getText());}j.preventDefault();this.exitCurrentMode();}};e.exports=i;},null);
__d("UnicodeBidiService",["Locale","UnicodeBidi","UnicodeBidiDirection","invariant"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(l){if(!l)l=g.getDirection();j(i.isStrong(l));this.defaultDir=l;this.reset();}k.prototype.reset=function(){this.lastDir=this.defaultDir;};k.prototype.getDirection=function(l){this.lastDir=h.getDirection(l,this.lastDir);return this.lastDir;};e.exports=k;},null);
__d("AbstractTextEditor.Experimental.react",["AbstractTextEditorPlaceholder.Experimental.react","AbstractTextEditorProps.Experimental","DocumentOffsetKey","DOMVector","EditorState","ElementForBlockType","ImmutableMap","React","TextEditorBlock.Experimental.react","TextEditorCompositionHandler.Experimental","TextEditorEditHandler.Experimental","TextEditorDragHandler","TextEditorModes","UnicodeBidiService","UserAgent","cx","extendArray","requestAnimationFrame","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){"use strict";var z=a.MutationObserver||a.WebKitMutationObserver,aa=(u.isBrowser('Safari')||u.isBrowser('Mobile Safari'));function ba(ea){return function(fa){var ga=this._handler&&this._handler[ea];ga&&ga.call(this,fa);};}function ca(ea){switch(ea){case s.EDIT:return q;case s.COMPOSITE:return p;case s.DRAG:return r;case s.CUT:case s.RENDER:return null;}}var da=n.createClass({displayName:'AbstractTextEditor',getDefaultProps:h.getDefaultProps,_onBlur:ba('onBlur'),_onFocus:ba('onFocus'),_onSelect:ba('onSelect'),_onKeyDown:ba('onKeyDown'),_onKeyUp:ba('onKeyUp'),_onKeyPress:ba('onKeyPress'),_onMouseDown:ba('onMouseDown'),_onMouseUp:ba('onMouseUp'),_onCharacterData:ba('onCharacterData'),_onCompositionStart:ba('onCompositionStart'),_onCompositionEnd:ba('onCompositionEnd'),_onDragStart:ba('onDragStart'),_onDragOver:ba('onDragOver'),_onDragEnd:ba('onDragEnd'),_onDrop:ba('onDrop'),_onCut:ba('onCut'),_onCopy:ba('onCopy'),_onPaste:ba('onPaste'),_onBeforeInput:ba('onBeforeInput'),_renderContents:function(){var ea=this.props.editorState,fa=this.props.blockComponent||o,ga=ea.getCurrentContent(),ha=ea.getSelection(),ia=ea.getCurrentKey(),ja=ea.mustForceSelection(),ka=ga.getBlocksAsArray(),la=[],ma=null,na=null,oa,pa,qa,ra,sa,ta,ua;for(var va=0;va<ka.length;va++){pa=ka[va];qa=pa.getKey();ra=pa.getText();sa=pa.getType();ta=n.createElement(fa,{currentEditorState:ia,key:qa,tree:m.get(ea.getTreeMap(),qa),decorator:ea.getDecorator(),block:pa,selection:ha,forceSelection:ja,direction:this._bidiService.getDirection(ra),blockProps:this.props.blockProps,blockStyleFn:this.props.blockStyleFn,inlineStyleFn:this.props.inlineStyleFn});ua=l.getWrapperElement(sa);if(ua){if(na!==sa){oa=[];ma=n.createElement(ua,{className:"_4noe",key:qa+'-wrap','data-offset-key':i.encode(qa,0,0)},oa);na=sa;la.push(ma);}oa.push(ta);}else{oa=null;ma=null;na=null;la.push(ta);}}return la;},_attachMutationObserver:function(){if(!z)return;var ea=[],fa=function(){if(ea.length>1){var ga=ea[0],ha=ga.target;y(function(){if(this.isMounted()&&ha.parentNode)this._onCharacterData(ha);}.bind(this));}ea.length=0;}.bind(this);this._mutationObserver=new z(function(ga){if(this._guardAgainstRender)return;if(aa){if(ea.length===0)x(fa);w(ea,ga);}else{ea=ga;fa();}}.bind(this));this._mutationObserver.observe(this.refs.editorContainer.getDOMNode(),{characterDataOldValue:true,characterData:true,subtree:true});},_renderPlaceholder:function(){var ea=this.props.editorState.getCurrentContent(),fa=(this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!ea.hasText());if(fa)return (n.createElement(g,{text:this.props.placeholder,editorState:this.props.editorState,textAlignment:this.props.textAlignment}));},render:function(){var ea=this.props.textAlignment,fa=(("_5yw9")+(ea==='left'?' '+"_48yc":'')+(ea==='right'?' '+"_48yd":'')+(ea==='center'?' '+"_48ye":''));return (n.createElement(n.DOM.div,{className:fa},this._renderPlaceholder(),n.createElement(n.DOM.div,{className:"_5ywa",ref:"editorContainer"},n.createElement(n.DOM.div,{ref:"editor",role:"textbox",className:"_54-z",onBlur:this._onBlur,onFocus:this._onFocus,onSelect:this._onSelect,onMouseUp:this._onMouseUp,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp,onKeyPress:this._onKeyPress,onCut:this._onCut,onCopy:this._onCopy,onPaste:this._onPaste,onDragStart:this._onDragStart,onDragOver:this._onDragOver,onDragEnd:this._onDragEnd,onDrop:this._onDrop,onCompositionStart:this._onCompositionStart,onCompositionEnd:this._onCompositionEnd,onBeforeInput:this._onBeforeInput,spellCheck:this.props.spellCheck,contentEditable:true},this._renderContents()))));},focus:function(){var ea=this.props.editorState,fa=ea.getSelection().hasFocus(),ga=j.getScrollPosition();this.refs.editor.getDOMNode().focus();window.scrollTo(ga.x,ga.y);if(fa)return;this.update(k.moveFocusToEnd(ea));},blur:function(){this.refs.editor.getDOMNode().blur();},componentDidMount:function(){this._renderedVersion=null;this._clipboard=null;this._clonedEditor=null;this._guardAgainstRender=false;this._handler=q;this._attachMutationObserver();},shouldComponentUpdate:function(ea){if(ea.textAlignment!==this.props.textAlignment)return true;var fa=this.props.editorState,ga=ea.editorState,ha=fa.getSelection().hasFocus(),ia=ga.getSelection().hasFocus();if(ha!==ia)return true;var ja=ga.getNativelyRenderedKey(),ka=fa.isInCompositionMode(),la=ga.isInCompositionMode();if(fa===ga||(ja&&ga.getCurrentKey()===ja)||(ka&&la))return false;var ma=fa.getCurrentContent(),na=ga.getCurrentContent(),oa=fa.getTreeMap(),pa=ga.getTreeMap();return (ka!==la||ma!==na||oa!==pa||ga.mustForceSelection());},componentWillUpdate:function(ea){this._blockSelectEvents=true;this._bidiService.reset();},componentDidUpdate:function(){this._blockSelectEvents=false;},componentWillMount:function(){this._bidiService=new t();},componentWillUnmount:function(){if(this._mutationObserver){this._mutationObserver.disconnect();this._mutationObserver=null;}},setMode:function(ea){this._handler=ca(ea);},exitCurrentMode:function(){this.setMode(s.EDIT);},captureEditorDOM:function(){this._clonedEditor=this.refs.editor.getDOMNode().cloneNode(true);},restoreEditorDOM:function(){var ea=this.refs.editorContainer.getDOMNode();ea.innerHTML='';ea.appendChild(this._clonedEditor);this.focus();this._clonedEditor=null;},setRenderGuard:function(){this._guardAgainstRender=true;},removeRenderGuard:function(){this._guardAgainstRender=false;},update:function(ea){this.props.onChange(ea);}});e.exports=da;},null);
__d("MentionsInput.Experimental.react",["AbstractMentionsTextEditor.Experimental.react","EditorState","MentionsLayer.react","React","createMentionEntity","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=j.PropTypes,o=j.createClass({displayName:'MentionsInput',propTypes:{editorState:n.instanceOf(h).isRequired,mentionsSource:n.object,typeaheadView:n.func.isRequired,typeaheadViewPropTypes:n.object,spellCheck:n.bool,placeholder:n.string,className:n.string,autoflip:n.bool,handleContentReturn:n.func,handleDroppedFiles:n.func,handlePastedFiles:n.func,onAddMention:n.func,onShowMentions:n.func,onChange:n.func,onInputFocus:n.func,onInputBlur:n.func,onFile:n.func},blur:function(){this.refs.textEditor.blur();},focus:function(){this.refs.textEditor.focus();},render:function(){var p=m(this.props.className,"_5yk1");return (j.createElement(j.DOM.div,{className:p,onClick:this.focus,onFocus:this.focus},j.createElement(g,Object.assign({},this.props,{mentionResultsComponent:i,mentionResultsProps:{typeaheadView:this.props.typeaheadView,typeaheadViewProps:this.props.typeaheadViewProps,autoflip:this.props.autoflip},mentionCreationFn:k,ref:"textEditor",className:"_5yk2"}))));}});e.exports=o;},null);
__d("getTextAfterNearestEntity",[],function(a,b,c,d,e,f){function g(h,i){var j=h.getEntities(),k=i;while(j[k-1]===null)k--;return h.getText().slice(k,i);}e.exports=g;},null);
__d("applyEmoticonToContentState",["ComposedEntityMutability","ComposedEntityType","ComposedInlineStyle","ContentBlock","ContentState","DocumentEntity","EmoticonsList","ImmutableMap","SelectionState","applyEntityToContentBlock","getTextAfterNearestEntity"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=i.NONE,s='\u3000',t=m.symbolsForRegex,u=new RegExp('(^|[\\s\'".])('+t+')','ig');function v(x,y){var z=y.getAnchorKey(),aa=y.getAnchorOffset(),ba=x.getBlockForKey(z),ca=q(ba,aa),da,ea;while(ea!==null){ea=u.exec(ca);if(ea!==null)da=ea;}if(!da)return x;var fa=da[1];if(!fa&&aa!==ca.length)return x;var ga=da[2],ha=aa-ca.length,ia=ha+da.index+da[1].length,ja={};ja[z]=w(ba,ga,ia);aa-=(ga.length-1);var ka=x.getBlockMap();return k.set(x,{blockMap:n.set(ka,ja),selectionBefore:y,selectionAfter:o.set(y,{anchorOffset:aa,focusOffset:aa})});}function w(x,y,z){var aa=l.create(h.EMOTICON,g.IMMUTABLE,{type:m.emotes[y],originalEmoticon:y}),ba=x.getText(),ca=x.getInlineStyles(),da=x.getEntities();x=j.set(x,{text:(ba.slice(0,z)+s+ba.slice(z+y.length)),inlineStyles:ca.slice(0,z).concat(r,ca.slice(z+y.length)),entities:da.slice(0,z).concat(aa,da.slice(z+y.length))});return p(x,z,z+1,aa);}e.exports=v;},null);
__d("createEmptySelectionState",["SelectionState"],function(a,b,c,d,e,f,g){"use strict";function h(i){return g.create({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:0,isBackward:false,hasFocus:false});}e.exports=h;},null);
__d("createContentStateFromBlocks",["ContentState","ImmutableMap","createEmptySelectionState"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(k){var l=h.fromArray(k,function(o){return o.getKey();}),m=h.keyAtIndex(l,0),n=i(m);return g.create({blockMap:l,selectionBefore:n,selectionAfter:n});}e.exports=j;},null);
__d("createInitialEditorState",["EditorState","ImmutableMap","createEmptySelectionState","generateContentStateKey"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(l,m){var n=h.fromArray([l],function(){return j();}),o=h.keyAtIndex(n,0),p=l.getBlockMap(),q=h.keyAtIndex(p,0);return g.create({stack:n,currentKey:o,boundaryKey:o,decorator:m,selection:i(q),forceSelection:false,lastChangeType:null,nativelyRenderedKey:null,inCompositionMode:false});}e.exports=k;},null);
__d("createPlainBlocksFromText",["ComposedBlockType","ComposedInlineStyle","ContentBlock","fillArray","generateBlockKey"],function(a,b,c,d,e,f,g,h,i,j,k){function l(m){return m.map(function(n){var o=n.length;return i.create({key:k(),text:n,type:g.UNSTYLED,inlineStyles:j(o,h.NONE),entities:j(o,null)});});}e.exports=l;},null);
__d("createEditorStateWithMentions",["DocumentCharacters","EditorState","applyEntityToContentBlock","createContentStateFromBlocks","createInitialEditorState","createPlainBlocksFromText"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=new RegExp(g.SOFT_NEWLINE,'ig');function n(o){var p=o,q=p.text,r=p.ranges,s=p.decorator,t=p.mentionCreationFn,u=p.splitIntoBlocks,v=p.allowUndo,w,x;if(u===undefined)u=true;if(q){w=u?q.split(m):[q];x=[];var y=0;w.forEach(function(ba){x.push(y);y+=ba.length+1;});}else w=[''];var z=l(w);if(r&&r.length&&t)r.forEach(function(ba){var ca=t(ba.entity);if(ca===null)return;var da=ba.offset,ea,fa;for(var ga=0;ga<x.length;ga++){var ha=x[ga],ia=x[ga+1];if(ia===undefined||(da>=ha&&da<ia)){ea=z[ga];fa=da-ha;break;}}z[ga]=i(ea,fa,fa+ba.length,ca);});var aa=k(j(z,s),s);if(v===false)aa=h.set(aa,{allowUndo:false});return aa;}e.exports=n;},null);
__d("createEmptyEditorState",["createContentStateFromBlocks","createInitialEditorState","createPlainBlocksFromText"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(k){var l=i(['']),m=g(l);return h(m,k);}e.exports=j;},null);
__d("getMentionsTextForContentState",["ComposedEntityType","DocumentCharacters","DocumentEntity","ImmutableMap","emptyFunction","findRanges"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=/[\\\]:]/g;function n(p){var q=j.map(p.getBlockMap(),function(r){var s=r.getText(),t=r.getEntities(),u=[];l(t,k.thatReturnsTrue,function(v,w){u.push(o(s.slice(v,w),t[v]));});return u.join('');});return j.toArray(q).join(h.SOFT_NEWLINE);}function o(p,q){if(q){var r=i.get(q);if(r.getType()===g.MENTION){p=p.replace(m,function(s){return '\\'+s;});return '@['+r.getData().id+':'+p+']';}else if(r.getType()===g.EMOTICON)return r.getData().originalEmoticon;}return p.replace('@[','@ [');}e.exports=n;},null);
__d("isSoftNewlineEvent",["Keys"],function(a,b,c,d,e,f,g){function h(i){return i.which===g.RETURN&&(i.getModifierState('Shift')||i.getModifierState('Alt')||i.getModifierState('Control'));}e.exports=h;},null);
__d("UFIExperimentalMentionsInput.react",["BanzaiScuba","Bootloader","ComposedEntityMutability","ComposedEntityType","DocumentCharacters","DocumentEntity","DocumentModifierExperimental","EditorChangeType","EditorState","ImmutableMap","Input","Keys","MentionsInput.Experimental.react","React","SelectionState","UserAgent","URI","applyEmoticonToContentState","createEditorStateWithMentions","createEmptyEditorState","createMentionEntity","cx","emptyFunction","findRanges","getMentionsInputDecorator","getMentionsTextForContentState","isSoftNewlineEvent","setImmediate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha){var ia=new g('ufi_tinder',null,{addBrowserFields:true,addGeoFields:true,addPredictedGeographyFields:true,addMobileDeviceFields:true,addUser:true}),ja=200,ka=((v.isPlatform('Linux')||v.isPlatform('Mac OS X')||v.isPlatform('Windows'))&&(v.isBrowser('Chrome')||v.isBrowser('Firefox >= 16')||v.isBrowser('IE >= 9')||v.isBrowser('Opera >= 12')||v.isBrowser('Safari >= 5'))),la=j.EMOTICON,ma=new RegExp(/[\s'".,!?]/),na=k.SOFT_NEWLINE;function oa(sa){var ta=sa.map(function(ua){return {kind:'file',type:ua.type,getAsFile:ca.thatReturns(ua)};});return {clipboardData:{items:ta}};}function pa(sa){var ta=/^image\//;return sa.filter(function(ua){return ta.test(ua.type);});}var qa=t.createClass({displayName:'UFIExperimentalMentionsInput',getInitialState:function(){var sa='',ta=[];if(this.props.initialData){sa=this.props.initialData.value||'';ta=this.props.initialData.mentions||[];ta=ta.map(function(va){return Object.assign({},va,{entity:{uid:va.uid,weakreference:va.weakreference}});});}var ua=y({text:sa,ranges:ta,decorator:ea(),mentionCreationFn:ra});return {bootloaded:false,fullRender:!!(this.props.initialData&&this.props.initialData.value),typeaheadReporter:null,editorState:ua,mentionsSource:null,mentionableEntries:null,fallbackText:sa};},hasEnteredText:function(){return !!this.state.editorState.getCurrentContent().getPlainText().trim();},focus:function(){this._triggerFullRender(function(){if(ka){this.refs.mentionsInput.focus();}else this.refs.textarea.getDOMNode().focus();}.bind(this));},submitComment:function(event){if(this._submitComment(event))this._clearDocumentState();},insertMention:function(sa){this._triggerFullRender(function(){if(ka){var ta=this.state.editorState,ua=ta.getSelection(),va=ta.getCurrentContent(),wa=ua.getStartKey(),xa=ua.getStartOffset(),ya=va.getBlockForKey(wa),za;if(ya.getText().substr(xa-1,1).trim().length>0){var ab=m.replaceText(va,ua,' ');ua=ab.getSelectionAfter();za=m.insertText(ab,ua,sa.getTitle(),ta.getCurrentInlineStyle(),aa(sa));}else za=m.replaceText(va,ua,sa.getTitle(),ta.getCurrentInlineStyle(),aa(sa));ta=o.push(ta,za,n.INSERT_FRAGMENT);ta=o.updateSelection(ta,u.set(ta.getSelection(),{hasFocus:true}),true);this.setState({editorState:ta});this.focus();}else{this.refs.textarea.getDOMNode().focus();if(this.state.fallbackText.length){this.setState({fallbackText:this.state.fallbackText+' '+sa.title});}else this.setState({fallbackText:sa.title});}}.bind(this));},insertEmoticon:function(sa){if(!ka){this.setState({fallbackText:this.state.fallbackText+' '+sa});return;}var ta=this.state.editorState,ua=ta.getCurrentContent(),va=ta.getSelection(),wa=ua.getBlockForKey(va.getStartKey()).getText()[va.getStartOffset()-1];if(wa&&wa!==' ')sa=' '+sa;var xa=ua.getBlockForKey(va.getEndKey()).getText()[va.getEndOffset()];if(xa&&xa!==' ')sa+=' ';var ya=m.replaceText(ta.getCurrentContent(),ta.getSelection(),sa);ta=o.push(ta,ya,n.INSERT_CHARACTERS);ta=o.updateSelection(ta,u.set(ta.getSelection(),{hasFocus:true}),true);this.setState({editorState:ta});},_onChange:function(sa){this.setState({editorState:sa});},_clearDocumentState:function(){this.state.typeaheadReporter&&this.state.typeaheadReporter.sessionEnd();var sa=z(ea());this.setState({editorState:o.moveFocusToEnd(sa)});},_handleContentReturn:function(sa){if(ga(sa)){var ta=this.state.editorState,ua=ta.getCurrentContent(),va=ta.getSelection(),wa=x(ua,va);if(wa===ua)return false;var xa=m.splitBlock(wa,wa.getSelectionAfter());ta=o.push(ta,xa,n.SPLIT_BLOCK);this.setState({editorState:ta});return true;}if(this._submitComment(sa)){this._clearDocumentState();return true;}return false;},_handleBeforeInput:function(sa){var ta=this.state.editorState,ua=ta.getSelection();if(!ua.isCollapsed()||!sa||!ma.test(sa))return false;var va=this.state.editorState.getCurrentContent(),wa=x(va,ua);if(wa===va)return false;var xa=m.insertText(wa,wa.getSelectionAfter(),sa);ta=o.push(ta,xa,n.INSERT_CHARACTERS);this.setState({editorState:ta});return true;},_submitComment:function(sa){var ta=this.state.editorState.getCurrentContent(),ua=p.map(ta.getBlockMap(),function(ab){var bb=ab.getText(),cb=ab.getEntities(),db='';da(ab.getEntities(),ca.thatReturnsTrue,function(eb,fb){var gb=cb[eb];if(gb===null){db+=bb.slice(eb,fb);}else{var hb=l.get(gb);if(hb.getType()===la){db+=hb.getData().originalEmoticon;}else db+=bb.slice(eb,fb);}});return db;}),va=p.toArray(ua).join(na),wa=fa(ta),xa={visibleValue:va,encodedValue:wa},ya=q.getValue(this.refs.proxyInput.getDOMNode());if(ya){var za=new w(a.location.href);ia.addNormal('path',za.getPath());ia.addNormal('proxy_value',ya.substr(0,ja));ia.post();}return this.props.onEnterSubmit(xa,sa);},_handleFiles:function(sa){var ta=pa(sa);if(ta.length){this.props.onPaste(oa(ta));return true;}return false;},_handleDroppedFiles:function(sa,ta){return this._handleFiles(ta);},_handlePastedFiles:function(sa){return this._handleFiles(sa);},_onMentionsInputBlur:function(){this.state.typeaheadReporter&&this.state.typeaheadReporter.sessionEnd();this.props.onBlur&&this.props.onBlur();},_onMentionsInputFocus:function(){if(!this.state.bootloaded&&!this._currentlyBootloading){this._currentlyBootloading=true;h.loadModules(["TypeaheadMetricReporter","getMentionsSearchSource"],function(sa,ta){if(!this.isMounted())return;var ua=new sa({event_name:'tinder_mentions'});ua.sessionStart();var va=ta(this.props.datasource,ua);va.bootstrap();this.setState({typeaheadReporter:ua,bootloaded:true,mentionsSource:va},function(){this._currentlyBootloading=false;}.bind(this));}.bind(this));}else if(this.state.typeaheadReporter)this.state.typeaheadReporter.sessionStart();this.props.onFocus&&this.props.onFocus();},_onShowMentions:function(sa,ta){if(this.state.typeaheadReporter)this.state.typeaheadReporter.reportResults(sa.map(function(ua){return ua.getUniqueID();}));},_onAddMention:function(sa,ta,ua){if(this.state.typeaheadReporter){this.state.typeaheadReporter.reportSelect(sa.getUniqueID(),sa.getType(),ta,ua.button>=0);this.state.typeaheadReporter.sessionEnd();}},_onFallbackKeyDown:function(sa){if(sa.which!==r.RETURN)return;if(ga(sa)||!this.state.fallbackText.trim())return;sa.preventDefault();var ta={visibleValue:this.state.fallbackText,encodedValue:this.state.fallbackText};if(this.props.onEnterSubmit(ta,sa))this.setState({fallbackText:''});},_onFallbackChange:function(sa){this.setState({fallbackText:sa.target.value});},_onFallbackBlur:function(sa){this.props.onBlur&&this.props.onBlur();},_onFallbackFocus:function(sa){this.props.onFocus&&this.props.onFocus();},_sortByRenderType:function(sa,ta){var ua=sa.getAuxiliaryData().renderType,va=ta.getAuxiliaryData().renderType;if(ua===va)return sa.getOrder()-ta.getOrder();var wa=this.props.viewOptionsTypeObjectsOrder;return wa.indexOf(ua)-wa.indexOf(va);},_triggerFullRender:function(sa){this.setState({fullRender:true},sa);},_renderFallback:function(){return (t.createElement(t.DOM.div,null,t.createElement(t.DOM.textarea,{ref:"textarea",className:"UFIAddCommentInput _5vbt",name:"add_comment_text",placeholder:this.props.placeholder,spellCheck:true,onKeyDown:this._onFallbackKeyDown,onChange:this._onFallbackChange,onBlur:this._onFallbackBlur,onFocus:this._onFallbackFocus,value:this.state.fallbackText})));},_renderProxyInput:function(){if(!this.props.hideProxyInput){var sa="_5t55 mentionsHidden";return (t.createElement(t.DOM.input,{className:sa,name:"add_comment_text",ref:"proxyInput",onFocus:this.focus,tabIndex:"-1"}));}},_renderDummy:function(){var sa="UFIAddCommentInput _5vr7 _2y3v";return (t.createElement(t.DOM.div,{onFocus:this._triggerFullRender.bind(null,ca),onSelect:ca,onMouseOver:this._triggerFullRender.bind(null,ca)},this._renderProxyInput(),t.createElement(t.DOM.div,{className:sa},this.props.placeholder)));},_renderMentionsInput:function(){var sa="UFIAddCommentInput _5vr7",ta=Object.assign({mentionSortFn:(this.props.viewOptionsTypeObjectsOrder?this._sortByRenderType:null)},this.props.viewProps);return (t.createElement(t.DOM.div,null,this._renderProxyInput(),t.createElement(s,{ref:"mentionsInput",className:sa,editorState:this.state.editorState,onChange:this._onChange,mentionsSource:this.state.mentionsSource,typeaheadView:this.props.viewComponent,typeaheadViewProps:ta,spellCheck:true,placeholder:this.props.placeholder,onAddMention:this._onAddMention,onShowMentions:this._onShowMentions,onFocus:this._onMentionsInputFocus,onBlur:this._onMentionsInputBlur,handleContentReturn:this._handleContentReturn,handleBeforeInput:this._handleBeforeInput,handlePastedFiles:this._handlePastedFiles,handleDroppedFiles:this._handleDroppedFiles,autoflip:this.props.autoflip})));},componentDidMount:function(){if(!ka){if(this.state.fallbackText)this.refs.textarea.getDOMNode().focus();}else if(this.state.editorState.getCurrentContent().hasText())ha(function(){this.isMounted()&&this.focus();}.bind(this));},render:function(){if(!ka)return this._renderFallback();if(!this.state.fullRender)return this._renderDummy();return this._renderMentionsInput();}});function ra(sa){return l.create(j.MENTION,i.IMMUTABLE,{id:sa.uid,isWeak:sa.weakreference});}e.exports=qa;},null);
__d("MentionsInputTypeaheadView.react",["ImageBlock.react","ReactPropTypes","React","TypeaheadViewItem","cx"],function(a,b,c,d,e,f,g,h,i,j,k){var l=i.createClass({displayName:'MentionsInputTypeaheadViewItem',mixins:[j.Mixin],propTypes:j.propTypes,render:function(){var n=this.props.entry,o=n.getPhoto()?i.createElement(i.DOM.span,{className:"_5u93",style:{backgroundImage:'url('+n.getPhoto()+')'}}):i.createElement(i.DOM.span,null),p=null;if(n.getSubtitle())p=i.createElement(i.DOM.div,{className:"_5u95"},n.getSubtitle());var q=(("_5u91")+(this.props.highlighted?' '+"_5u92":''));return (i.createElement(i.DOM.li,{className:q,'aria-label':n.getTitle(),onMouseDown:this._onSelect,onMouseEnter:this._onHighlight},i.createElement(g,{spacing:"medium"},o,i.createElement(i.DOM.div,null,i.createElement(i.DOM.div,{className:"_5u94"},n.getTitle()),p))));}}),m=i.createClass({displayName:'MentionsInputTypeaheadView',propTypes:{highlightedEntry:h.object,entries:h.array.isRequired,onSelect:h.func.isRequired,onHighlight:h.func,onRenderHighlight:h.func},_renderItem:function(n){var o=n===this.props.highlightedEntry;return (i.createElement(l,{key:n.getUniqueID(),entry:n,highlighted:o,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));},render:function(){var n=(("_5u8_")+(!this.props.entries.length?' '+"_5u90":''));return (i.createElement(i.DOM.ul,{className:n},this.props.entries.map(this._renderItem)));}});e.exports=m;},null);